/*
 * Project : 180912-episode2 1.0.0
 * Update : Wed Sep 19 2018 09:47:11 GMT+0900 (KST)
 */

! function(t) {
    var e = {};

    function i(n) {
        if (e[n]) return e[n].exports;
        var r = e[n] = {
            i: n,
            l: !1,
            exports: {}
        };
        return t[n].call(r.exports, r, r.exports, i), r.l = !0, r.exports
    }
    i.m = t, i.c = e, i.d = function(t, e, n) {
        i.o(t, e) || Object.defineProperty(t, e, {
            configurable: !1,
            enumerable: !0,
            get: n
        })
    }, i.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        } : function() {
            return t
        };
        return i.d(e, "a", e), e
    }, i.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, i.p = "", i(i.s = 157)
}([function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        function i() {
            this.constructor = t
        }
        n(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
    };
    var n = function(t, e) {
        return (n = Object.setPrototypeOf || {
                __proto__: []
            }
            instanceof Array && function(t, e) {
                t.__proto__ = e
            } || function(t, e) {
                for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
            })(t, e)
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return u
    });
    var n = i(0),
        r = i(43),
        o = i(123),
        s = i(5),
        a = i(85),
        c = i(58),
        l = i(84),
        u = function(t) {
            function e(e, i, n) {
                var r = t.call(this) || this;
                switch (r.syncErrorValue = null, r.syncErrorThrown = !1, r.syncErrorThrowable = !1, r.isStopped = !1, r._parentSubscription = null, arguments.length) {
                    case 0:
                        r.destination = o.a;
                        break;
                    case 1:
                        if (!e) {
                            r.destination = o.a;
                            break
                        }
                        if ("object" == typeof e) {
                            if (p(e)) {
                                var s = e[a.a]();
                                r.syncErrorThrowable = s.syncErrorThrowable, r.destination = s, s._addParentTeardownLogic(r)
                            } else r.syncErrorThrowable = !0, r.destination = new h(r, e);
                            break
                        }
                    default:
                        r.syncErrorThrowable = !0, r.destination = new h(r, e, i, n)
                }
                return r
            }
            return n.a(e, t), e.prototype[a.a] = function() {
                return this
            }, e.create = function(t, i, n) {
                var r = new e(t, i, n);
                return r.syncErrorThrowable = !1, r
            }, e.prototype.next = function(t) {
                this.isStopped || this._next(t)
            }, e.prototype.error = function(t) {
                this.isStopped || (this.isStopped = !0, this._error(t), this._unsubscribeParentSubscription())
            }, e.prototype.complete = function() {
                this.isStopped || (this.isStopped = !0, this._complete(), this._unsubscribeParentSubscription())
            }, e.prototype.unsubscribe = function() {
                this.closed || (this.isStopped = !0, t.prototype.unsubscribe.call(this))
            }, e.prototype._next = function(t) {
                this.destination.next(t)
            }, e.prototype._error = function(t) {
                this.destination.error(t), this.unsubscribe()
            }, e.prototype._complete = function() {
                this.destination.complete(), this.unsubscribe()
            }, e.prototype._addParentTeardownLogic = function(t) {
                t !== this && (this._parentSubscription = this.add(t))
            }, e.prototype._unsubscribeParentSubscription = function() {
                null !== this._parentSubscription && this._parentSubscription.unsubscribe()
            }, e.prototype._unsubscribeAndRecycle = function() {
                var t = this._parent,
                    e = this._parents;
                return this._parent = null, this._parents = null, this.unsubscribe(), this.closed = !1, this.isStopped = !1, this._parent = t, this._parents = e, this._parentSubscription = null, this
            }, e
        }(s.a),
        h = function(t) {
            function e(e, i, n, s) {
                var a, c = t.call(this) || this;
                c._parentSubscriber = e;
                var l = c;
                return Object(r.a)(i) ? a = i : i && (a = i.next, n = i.error, s = i.complete, i !== o.a && (l = Object.create(i), Object(r.a)(l.unsubscribe) && c.add(l.unsubscribe.bind(l)), l.unsubscribe = c.unsubscribe.bind(c))), c._context = l, c._next = a, c._error = n, c._complete = s, c
            }
            return n.a(e, t), e.prototype.next = function(t) {
                if (!this.isStopped && this._next) {
                    var e = this._parentSubscriber;
                    c.a.useDeprecatedSynchronousErrorHandling && e.syncErrorThrowable ? this.__tryOrSetError(e, this._next, t) && this.unsubscribe() : this.__tryOrUnsub(this._next, t)
                }
            }, e.prototype.error = function(t) {
                if (!this.isStopped) {
                    var e = this._parentSubscriber,
                        i = c.a.useDeprecatedSynchronousErrorHandling;
                    if (this._error) i && e.syncErrorThrowable ? (this.__tryOrSetError(e, this._error, t), this.unsubscribe()) : (this.__tryOrUnsub(this._error, t), this.unsubscribe());
                    else if (e.syncErrorThrowable) i ? (e.syncErrorValue = t, e.syncErrorThrown = !0) : Object(l.a)(t), this.unsubscribe();
                    else {
                        if (this.unsubscribe(), i) throw t;
                        Object(l.a)(t)
                    }
                }
            }, e.prototype.complete = function() {
                var t = this;
                if (!this.isStopped) {
                    var e = this._parentSubscriber;
                    if (this._complete) {
                        var i = function() {
                            return t._complete.call(t._context)
                        };
                        c.a.useDeprecatedSynchronousErrorHandling && e.syncErrorThrowable ? (this.__tryOrSetError(e, i), this.unsubscribe()) : (this.__tryOrUnsub(i), this.unsubscribe())
                    } else this.unsubscribe()
                }
            }, e.prototype.__tryOrUnsub = function(t, e) {
                try {
                    t.call(this._context, e)
                } catch (t) {
                    if (this.unsubscribe(), c.a.useDeprecatedSynchronousErrorHandling) throw t;
                    Object(l.a)(t)
                }
            }, e.prototype.__tryOrSetError = function(t, e, i) {
                if (!c.a.useDeprecatedSynchronousErrorHandling) throw new Error("bad call");
                try {
                    e.call(this._context, i)
                } catch (e) {
                    return c.a.useDeprecatedSynchronousErrorHandling ? (t.syncErrorValue = e, t.syncErrorThrown = !0, !0) : (Object(l.a)(e), !0)
                }
                return !1
            }, e.prototype._unsubscribe = function() {
                var t = this._parentSubscriber;
                this._context = null, this._parentSubscriber = null, t.unsubscribe()
            }, e
        }(u);

    function p(t) {
        return t instanceof u || "syncErrorThrowable" in t && t[a.a]
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return a
    });
    var n = i(191),
        r = i(38),
        o = i(86),
        s = i(58),
        a = function() {
            function t(t) {
                this._isScalar = !1, t && (this._subscribe = t)
            }
            return t.prototype.lift = function(e) {
                var i = new t;
                return i.source = this, i.operator = e, i
            }, t.prototype.subscribe = function(t, e, i) {
                var r = this.operator,
                    o = Object(n.a)(t, e, i);
                if (r ? r.call(o, this.source) : o._addParentTeardownLogic(this.source || s.a.useDeprecatedSynchronousErrorHandling && !o.syncErrorThrowable ? this._subscribe(o) : this._trySubscribe(o)), s.a.useDeprecatedSynchronousErrorHandling && o.syncErrorThrowable && (o.syncErrorThrowable = !1, o.syncErrorThrown)) throw o.syncErrorValue;
                return o
            }, t.prototype._trySubscribe = function(t) {
                try {
                    return this._subscribe(t)
                } catch (e) {
                    s.a.useDeprecatedSynchronousErrorHandling && (t.syncErrorThrown = !0, t.syncErrorValue = e), t.error(e)
                }
            }, t.prototype.forEach = function(t, e) {
                var i = this;
                return new(e = c(e))(function(e, n) {
                    var r;
                    r = i.subscribe(function(e) {
                        try {
                            t(e)
                        } catch (t) {
                            n(t), r && r.unsubscribe()
                        }
                    }, n, e)
                })
            }, t.prototype._subscribe = function(t) {
                var e = this.source;
                return e && e.subscribe(t)
            }, t.prototype[r.a] = function() {
                return this
            }, t.prototype.pipe = function() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                return 0 === t.length ? this : Object(o.b)(t)(this)
            }, t.prototype.toPromise = function(t) {
                var e = this;
                return new(t = c(t))(function(t, i) {
                    var n;
                    e.subscribe(function(t) {
                        return n = t
                    }, function(t) {
                        return i(t)
                    }, function() {
                        return t(n)
                    })
                })
            }, t.create = function(e) {
                return new t(e)
            }, t
        }();

    function c(t) {
        if (t || (t = s.a.Promise || Promise), !t) throw new Error("no Promise impl found");
        return t
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return n.a(e, t), e.prototype.notifyNext = function(t, e, i, n, r) {
                this.destination.next(e)
            }, e.prototype.notifyError = function(t, e) {
                this.destination.error(t)
            }, e.prototype.notifyComplete = function(t) {
                this.destination.complete()
            }, e
        }(i(1).a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e, i, o, s) {
        void 0 === s && (s = new n.a(t, i, o));
        if (s.closed) return;
        return Object(r.a)(e)(s)
    };
    var n = i(23),
        r = i(136)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return l
    });
    var n = i(10),
        r = i(124),
        o = i(43),
        s = i(19),
        a = i(14),
        c = i(125),
        l = function() {
            function t(t) {
                this.closed = !1, this._parent = null, this._parents = null, this._subscriptions = null, t && (this._unsubscribe = t)
            }
            var e;
            return t.prototype.unsubscribe = function() {
                var t, e = !1;
                if (!this.closed) {
                    var i = this._parent,
                        l = this._parents,
                        h = this._unsubscribe,
                        p = this._subscriptions;
                    this.closed = !0, this._parent = null, this._parents = null, this._subscriptions = null;
                    for (var d = -1, f = l ? l.length : 0; i;) i.remove(this), i = ++d < f && l[d] || null;
                    if (Object(o.a)(h)) Object(s.a)(h).call(this) === a.a && (e = !0, t = t || (a.a.e instanceof c.a ? u(a.a.e.errors) : [a.a.e]));
                    if (Object(n.a)(p))
                        for (d = -1, f = p.length; ++d < f;) {
                            var m = p[d];
                            if (Object(r.a)(m))
                                if (Object(s.a)(m.unsubscribe).call(m) === a.a) {
                                    e = !0, t = t || [];
                                    var v = a.a.e;
                                    v instanceof c.a ? t = t.concat(u(v.errors)) : t.push(v)
                                }
                        }
                    if (e) throw new c.a(t)
                }
            }, t.prototype.add = function(e) {
                if (!e || e === t.EMPTY) return t.EMPTY;
                if (e === this) return this;
                var i = e;
                switch (typeof e) {
                    case "function":
                        i = new t(e);
                    case "object":
                        if (i.closed || "function" != typeof i.unsubscribe) return i;
                        if (this.closed) return i.unsubscribe(), i;
                        if ("function" != typeof i._addParent) {
                            var n = i;
                            (i = new t)._subscriptions = [n]
                        }
                        break;
                    default:
                        throw new Error("unrecognized teardown " + e + " added to Subscription.")
                }
                return (this._subscriptions || (this._subscriptions = [])).push(i), i._addParent(this), i
            }, t.prototype.remove = function(t) {
                var e = this._subscriptions;
                if (e) {
                    var i = e.indexOf(t); - 1 !== i && e.splice(i, 1)
                }
            }, t.prototype._addParent = function(t) {
                var e = this._parent,
                    i = this._parents;
                e && e !== t ? i ? -1 === i.indexOf(t) && i.push(t) : this._parents = [t] : this._parent = t
            }, t.EMPTY = ((e = new t).closed = !0, e), t
        }();

    function u(t) {
        return t.reduce(function(t, e) {
            return t.concat(e instanceof c.a ? e.errors : e)
        }, [])
    }
}, function(t, e, i) {
    "use strict";
    e.__esModule = !0, e.default = function(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }
}, function(t, e, i) {
    "use strict";
    e.__esModule = !0;
    var n, r = i(187),
        o = (n = r) && n.__esModule ? n : {
            default: n
        };
    e.default = function() {
        function t(t, e) {
            for (var i = 0; i < e.length; i++) {
                var n = e[i];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), (0, o.default)(t, n.key, n)
            }
        }
        return function(e, i, n) {
            return i && t(e.prototype, i), n && t(e, n), e
        }
    }()
}, function(t, e, i) {
    "use strict";
    i.d(e, "b", function() {
        return u
    }), i.d(e, "a", function() {
        return h
    });
    var n = i(0),
        r = i(2),
        o = i(1),
        s = i(5),
        a = i(60),
        c = i(127),
        l = i(85),
        u = function(t) {
            function e(e) {
                var i = t.call(this, e) || this;
                return i.destination = e, i
            }
            return n.a(e, t), e
        }(o.a),
        h = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e.observers = [], e.closed = !1, e.isStopped = !1, e.hasError = !1, e.thrownError = null, e
            }
            return n.a(e, t), e.prototype[l.a] = function() {
                return new u(this)
            }, e.prototype.lift = function(t) {
                var e = new p(this, this);
                return e.operator = t, e
            }, e.prototype.next = function(t) {
                if (this.closed) throw new a.a;
                if (!this.isStopped)
                    for (var e = this.observers, i = e.length, n = e.slice(), r = 0; r < i; r++) n[r].next(t)
            }, e.prototype.error = function(t) {
                if (this.closed) throw new a.a;
                this.hasError = !0, this.thrownError = t, this.isStopped = !0;
                for (var e = this.observers, i = e.length, n = e.slice(), r = 0; r < i; r++) n[r].error(t);
                this.observers.length = 0
            }, e.prototype.complete = function() {
                if (this.closed) throw new a.a;
                this.isStopped = !0;
                for (var t = this.observers, e = t.length, i = t.slice(), n = 0; n < e; n++) i[n].complete();
                this.observers.length = 0
            }, e.prototype.unsubscribe = function() {
                this.isStopped = !0, this.closed = !0, this.observers = null
            }, e.prototype._trySubscribe = function(e) {
                if (this.closed) throw new a.a;
                return t.prototype._trySubscribe.call(this, e)
            }, e.prototype._subscribe = function(t) {
                if (this.closed) throw new a.a;
                return this.hasError ? (t.error(this.thrownError), s.a.EMPTY) : this.isStopped ? (t.complete(), s.a.EMPTY) : (this.observers.push(t), new c.a(this, t))
            }, e.prototype.asObservable = function() {
                var t = new r.a;
                return t.source = this, t
            }, e.create = function(t, e) {
                return new p(t, e)
            }, e
        }(r.a),
        p = function(t) {
            function e(e, i) {
                var n = t.call(this) || this;
                return n.destination = e, n.source = i, n
            }
            return n.a(e, t), e.prototype.next = function(t) {
                var e = this.destination;
                e && e.next && e.next(t)
            }, e.prototype.error = function(t) {
                var e = this.destination;
                e && e.error && this.destination.error(t)
            }, e.prototype.complete = function() {
                var t = this.destination;
                t && t.complete && this.destination.complete()
            }, e.prototype._subscribe = function(t) {
                return this.source ? this.source.subscribe(t) : s.a.EMPTY
            }, e
        }(h)
}, function(t, e) {
    t.exports = jQuery
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = Array.isArray || function(t) {
        return t && "number" == typeof t.length
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    }), e.b = function(t) {
        return t ? function(t) {
            return new n.a(function(e) {
                return t.schedule(function() {
                    return e.complete()
                })
            })
        }(t) : r
    };
    var n = i(2),
        r = new n.a(function(t) {
            return t.complete()
        })
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(44),
        r = new(i(45).a)(n.a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "n", function() {
        return o
    }), i.d(e, "e", function() {
        return s
    }), i.d(e, "l", function() {
        return a
    }), i.d(e, "s", function() {
        return c
    }), i.d(e, "k", function() {
        return l
    }), i.d(e, "m", function() {
        return p
    }), i.d(e, "r", function() {
        return d
    }), i.d(e, "t", function() {
        return f
    }), i.d(e, "q", function() {
        return m
    }), i.d(e, "w", function() {
        return v
    }), i.d(e, "c", function() {
        return g
    }), i.d(e, "j", function() {
        return y
    }), i.d(e, "b", function() {
        return _
    }), i.d(e, "u", function() {
        return b
    }), i.d(e, "f", function() {
        return x
    }), i.d(e, "o", function() {
        return w
    }), i.d(e, "p", function() {
        return S
    }), i.d(e, "h", function() {
        return M
    }), i.d(e, "a", function() {
        return T
    }), i.d(e, "d", function() {
        return A
    }), i.d(e, "g", function() {
        return E
    }), i.d(e, "i", function() {
        return O
    }), i.d(e, "v", function() {
        return k
    });
    var n = i(9),
        r = i.n(n),
        o = (/localhost/.test(document.location.host), /opdev/.test(document.location.host), /rc-/.test(document.location.host), function(t) {
            return /msie/i.test(t) || /trident/i.test(t)
        }),
        s = function(t) {
            if (o(t)) {
                if (/msie (\d+\.\d+);/i.test(t)) return parseFloat(RegExp.$1, 10);
                if (/trident.*rv:(\d+)\.(\d+)/i.test(t)) return parseFloat(RegExp.$1, 10)
            }
            return -1
        },
        a = function(t) {
            return null !== t && void 0 !== t
        },
        c = function(t) {
            return !!t.length && t.hasClass("slick-initialized")
        },
        l = function(t) {
            return !!a(t) && t.constructor === Boolean
        },
        u = function(t) {
            return !! function(t) {
                return !!a(t) && !isNaN(t) && t.constructor === Number
            }(t) && (isFinite(t) && Math.floor(t) === t)
        },
        h = function(t) {
            return !!a(t) && t.constructor === String
        },
        p = function(t) {
            return !!a(t) && t.constructor === Function
        },
        d = function(t) {
            return !!a(t) && t.constructor === Object
        },
        f = function(t) {
            if (!p(t)) throw new TypeError("func parameter type of not() must be Function.");
            return function() {
                return !t.apply(null, arguments)
            }
        },
        m = f(a),
        v = function(t) {
            return !!t
        },
        g = function(t) {
            return !t
        },
        y = {}.hasOwnProperty,
        _ = function(t, e, i) {
            if (!(a(n = t) && n.constructor === Array || h(t))) throw new TypeError("dataCanLoop parameter type of each() must be Array or String.");
            for (var n, r = function(t) {
                    return null != t
                }(i) ? i : null, o = 0, s = t.length; o < s; o++) e.call(r, t[o])
        },
        b = f(function(t) {
            return 1 === t.length
        }),
        x = function(t, e) {
            if (!u(t) || !u(e)) throw new TypeError("math.getRandomInt() requires Integer Number parameters.");
            return t + Math.floor(Math.random() * (e - t + 1))
        },
        w = function(t) {
            return t.hasClass("mobile") || t.hasClass("tablet")
        },
        S = function(t) {
            return "phone" === t || "tablet" === t
        },
        M = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                    pc: 960
                },
                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window;
            return t.pc && e.innerWidth >= t.pc ? "pc" : "tablet"
        },
        T = function(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
            if (a(e) && !p(e)) throw TypeError("doneCallback parameter type of copyTextToClipboard() must be undefined or null or Function.");
            if (a(i) && !p(i)) throw TypeError("failCallback parameter type of copyTextToClipboard() must be undefined or null or Function.");
            navigator.clipboard ? navigator.clipboard.writeText(t).then(function() {
                e.call(null, t)
            }, function(t) {
                i.call(null, t)
            }) : function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                if (a(e) && !p(e)) throw TypeError("doneCallback parameter type of copyTextToClipboardFallback() must be undefined or null or Function.");
                if (a(i) && !p(i)) throw TypeError("failCallback parameter type of copyTextToClipboardFallback() must be undefined or null or Function.");
                var n = document.createElement("textarea");
                n.style.position = "fixed", n.style.top = "-9999px", n.style.left = "-9999px", n.style.width = "2em", n.style.height = "2em", n.value = t, document.body.appendChild(n), n.focus(), n.select();
                try {
                    if (document.execCommand("copy")) return void(e && e.call(null, t));
                    i && i.call(null, new Error(""))
                } catch (t) {
                    i && i.call(null, t)
                }
                document.body.removeChild(n)
            }(t, e, i)
        },
        A = function(t) {
            return r()(t).offset()
        },
        C = function(t) {
            if (!h(t)) throw new TypeError("getDecodedUriParams() requires String parameter.");
            if (t.length < 1) return null;
            var e = (t = t.split("#")[0]).split("?");
            if (e.length < 2) return null;
            for (var i, n = e[1].split("&"), r = {}, o = "", s = "", a = 0, c = n.length; a < c; ++a) {
                var l = (i = n[a]).indexOf("=");
                l >= 0 && (o = i.substr(0, l), s = i.substr(l + 1), r[o] = s)
            }
            return r
        },
        E = function(t) {
            var e = {};
            if (P(t)) e = C(t);
            else {
                var i = window.decodeURIComponent(t);
                e = C(i)
            }
            for (var n in e) e[n] = window.encodeURIComponent(e[n]);
            return e
        },
        O = function(t, e) {
            if (!h(t)) throw new TypeError("uri parameter type of getUriCombinedParams() must be String.");
            if (!d(e)) throw new TypeError("parameters parameter type of getUriCombinedParams() must be Object.");
            if (!t) return "";
            if (!e) return t;
            var i = "";
            for (var n in e) i += "&" + n + "=" + String(e[n]);
            if ("" === i) return t;
            var r = t.split("#"),
                o = a(r[1]) && r[1].length ? "#" + r[1] : "";
            return t = ((t = r[0]).indexOf("?") >= 0 ? t + i : t + "?" + i.substr(1)) + o
        },
        P = function(t) {
            return window.decodeURIComponent(t) === t
        },
        k = function(t, e, i, n, r) {
            var o = new Date;
            o.setDate(o.getDate() + i);
            var s = "; path=" + (n || "/"),
                a = "; domain=" + (r || ".plaync.com"),
                c = "; expires=" + o.toGMTString();
            document.cookie = t + "=" + escape(e) + s + a + c
        }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = {
        e: {}
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return t && "function" == typeof t.schedule
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return function(i) {
            if ("function" != typeof t) throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");
            return i.lift(new o(t, e))
        }
    };
    var n = i(0),
        r = i(1);
    var o = function() {
            function t(t, e) {
                this.project = t, this.thisArg = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new s(t, this.project, this.thisArg))
            }, t
        }(),
        s = function(t) {
            function e(e, i, n) {
                var r = t.call(this, e) || this;
                return r.project = i, r.count = 0, r.thisArg = n || r, r
            }
            return n.a(e, t), e.prototype._next = function(t) {
                var e;
                try {
                    e = this.project.call(this.thisArg, t, this.count++)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.next(e)
            }, e
        }(r.a)
}, function(t, e) {
    var i = t.exports = {
        version: "2.5.7"
    };
    "number" == typeof __e && (__e = i)
}, function(t, e, i) {
    "use strict";
    (function(t, n) {
        i.d(e, "e", function() {
            return r
        }), i.d(e, "g", function() {
            return s
        }), i.d(e, "f", function() {
            return o
        }), i.d(e, "c", function() {
            return c
        }), i.d(e, "a", function() {
            return l
        }), i.d(e, "b", function() {
            return u
        }), i.d(e, "d", function() {
            return h
        });
        var r = "undefined" != typeof window ? window : void 0 !== t && t.exports && void 0 !== n ? n : this || {},
            o = function(t, e) {
                var i = {},
                    n = t.document,
                    r = t.GreenSockGlobals = t.GreenSockGlobals || t;
                if (r.TweenLite) return r.TweenLite;
                var o, s, a, c, l, u, h, p = function(t) {
                        var e, i = t.split("."),
                            n = r;
                        for (e = 0; e < i.length; e++) n[i[e]] = n = n[i[e]] || {};
                        return n
                    },
                    d = p("com.greensock"),
                    f = function(t) {
                        var e, i = [],
                            n = t.length;
                        for (e = 0; e !== n; i.push(t[e++]));
                        return i
                    },
                    m = function() {},
                    v = (u = Object.prototype.toString, h = u.call([]), function(t) {
                        return null != t && (t instanceof Array || "object" == typeof t && !!t.push && u.call(t) === h)
                    }),
                    g = {},
                    y = function(t, e, n, o) {
                        this.sc = g[t] ? g[t].sc : [], g[t] = this, this.gsClass = null, this.func = n;
                        var s = [];
                        this.check = function(a) {
                            for (var c, l, u, h, d = e.length, f = d; --d > -1;)(c = g[e[d]] || new y(e[d], [])).gsClass ? (s[d] = c.gsClass, f--) : a && c.sc.push(this);
                            if (0 === f && n)
                                for (u = (l = ("com.greensock." + t).split(".")).pop(), h = p(l.join("."))[u] = this.gsClass = n.apply(n, s), o && (r[u] = i[u] = h), d = 0; d < this.sc.length; d++) this.sc[d].check()
                        }, this.check(!0)
                    },
                    _ = t._gsDefine = function(t, e, i, n) {
                        return new y(t, e, i, n)
                    },
                    b = d._class = function(t, e, i) {
                        return e = e || function() {}, _(t, [], function() {
                            return e
                        }, i), e
                    };
                _.globals = r;
                var x = [0, 0, 1, 1],
                    w = b("easing.Ease", function(t, e, i, n) {
                        this._func = t, this._type = i || 0, this._power = n || 0, this._params = e ? x.concat(e) : x
                    }, !0),
                    S = w.map = {},
                    M = w.register = function(t, e, i, n) {
                        for (var r, o, s, a, c = e.split(","), l = c.length, u = (i || "easeIn,easeOut,easeInOut").split(","); --l > -1;)
                            for (o = c[l], r = n ? b("easing." + o, null, !0) : d.easing[o] || {}, s = u.length; --s > -1;) a = u[s], S[o + "." + a] = S[a + o] = r[a] = t.getRatio ? t : t[a] || new t
                    };
                for ((a = w.prototype)._calcEnd = !1, a.getRatio = function(t) {
                        if (this._func) return this._params[0] = t, this._func.apply(null, this._params);
                        var e = this._type,
                            i = this._power,
                            n = 1 === e ? 1 - t : 2 === e ? t : t < .5 ? 2 * t : 2 * (1 - t);
                        return 1 === i ? n *= n : 2 === i ? n *= n * n : 3 === i ? n *= n * n * n : 4 === i && (n *= n * n * n * n), 1 === e ? 1 - n : 2 === e ? n : t < .5 ? n / 2 : 1 - n / 2
                    }, s = (o = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"]).length; --s > -1;) a = o[s] + ",Power" + s, M(new w(null, null, 1, s), a, "easeOut", !0), M(new w(null, null, 2, s), a, "easeIn" + (0 === s ? ",easeNone" : "")), M(new w(null, null, 3, s), a, "easeInOut");
                S.linear = d.easing.Linear.easeIn, S.swing = d.easing.Quad.easeInOut;
                var T = b("events.EventDispatcher", function(t) {
                    this._listeners = {}, this._eventTarget = t || this
                });
                (a = T.prototype).addEventListener = function(t, e, i, n, r) {
                    r = r || 0;
                    var o, s, a = this._listeners[t],
                        u = 0;
                    for (this !== c || l || c.wake(), null == a && (this._listeners[t] = a = []), s = a.length; --s > -1;)(o = a[s]).c === e && o.s === i ? a.splice(s, 1) : 0 === u && o.pr < r && (u = s + 1);
                    a.splice(u, 0, {
                        c: e,
                        s: i,
                        up: n,
                        pr: r
                    })
                }, a.removeEventListener = function(t, e) {
                    var i, n = this._listeners[t];
                    if (n)
                        for (i = n.length; --i > -1;)
                            if (n[i].c === e) return void n.splice(i, 1)
                }, a.dispatchEvent = function(t) {
                    var e, i, n, r = this._listeners[t];
                    if (r)
                        for ((e = r.length) > 1 && (r = r.slice(0)), i = this._eventTarget; --e > -1;)(n = r[e]) && (n.up ? n.c.call(n.s || i, {
                            type: t,
                            target: i
                        }) : n.c.call(n.s || i))
                };
                var A = t.requestAnimationFrame,
                    C = t.cancelAnimationFrame,
                    E = Date.now || function() {
                        return (new Date).getTime()
                    },
                    O = E();
                for (s = (o = ["ms", "moz", "webkit", "o"]).length; --s > -1 && !A;) A = t[o[s] + "RequestAnimationFrame"], C = t[o[s] + "CancelAnimationFrame"] || t[o[s] + "CancelRequestAnimationFrame"];
                b("Ticker", function(t, e) {
                    var i, r, o, s, a, u = this,
                        h = E(),
                        p = !(!1 === e || !A) && "auto",
                        d = 500,
                        f = 33,
                        v = function(t) {
                            var e, n, c = E() - O;
                            c > d && (h += c - f), O += c, u.time = (O - h) / 1e3, e = u.time - a, (!i || e > 0 || !0 === t) && (u.frame++, a += e + (e >= s ? .004 : s - e), n = !0), !0 !== t && (o = r(v)), n && u.dispatchEvent("tick")
                        };
                    T.call(u), u.time = u.frame = 0, u.tick = function() {
                        v(!0)
                    }, u.lagSmoothing = function(t, e) {
                        if (!arguments.length) return d < 1e10;
                        d = t || 1e10, f = Math.min(e, d, 0)
                    }, u.sleep = function() {
                        null != o && (p && C ? C(o) : clearTimeout(o), r = m, o = null, u === c && (l = !1))
                    }, u.wake = function(t) {
                        null !== o ? u.sleep() : t ? h += -O + (O = E()) : u.frame > 10 && (O = E() - d + 5), r = 0 === i ? m : p && A ? A : function(t) {
                            return setTimeout(t, 1e3 * (a - u.time) + 1 | 0)
                        }, u === c && (l = !0), v(2)
                    }, u.fps = function(t) {
                        if (!arguments.length) return i;
                        s = 1 / ((i = t) || 60), a = this.time + s, u.wake()
                    }, u.useRAF = function(t) {
                        if (!arguments.length) return p;
                        u.sleep(), p = t, u.fps(i)
                    }, u.fps(t), setTimeout(function() {
                        "auto" === p && u.frame < 5 && "hidden" !== (n || {}).visibilityState && u.useRAF(!1)
                    }, 1500)
                }), (a = d.Ticker.prototype = new d.events.EventDispatcher).constructor = d.Ticker;
                var P = b("core.Animation", function(t, e) {
                    if (this.vars = e = e || {}, this._duration = this._totalDuration = t || 0, this._delay = Number(e.delay) || 0, this._timeScale = 1, this._active = !0 === e.immediateRender, this.data = e.data, this._reversed = !0 === e.reversed, Y) {
                        l || c.wake();
                        var i = this.vars.useFrames ? q : Y;
                        i.add(this, i._time), this.vars.paused && this.paused(!0)
                    }
                });
                c = P.ticker = new d.Ticker, (a = P.prototype)._dirty = a._gc = a._initted = a._paused = !1, a._totalTime = a._time = 0, a._rawPrevTime = -1, a._next = a._last = a._onUpdate = a._timeline = a.timeline = null, a._paused = !1;
                var k = function() {
                    l && E() - O > 2e3 && ("hidden" !== (n || {}).visibilityState || !c.lagSmoothing()) && c.wake();
                    var t = setTimeout(k, 2e3);
                    t.unref && t.unref()
                };
                k(), a.play = function(t, e) {
                    return null != t && this.seek(t, e), this.reversed(!1).paused(!1)
                }, a.pause = function(t, e) {
                    return null != t && this.seek(t, e), this.paused(!0)
                }, a.resume = function(t, e) {
                    return null != t && this.seek(t, e), this.paused(!1)
                }, a.seek = function(t, e) {
                    return this.totalTime(Number(t), !1 !== e)
                }, a.restart = function(t, e) {
                    return this.reversed(!1).paused(!1).totalTime(t ? -this._delay : 0, !1 !== e, !0)
                }, a.reverse = function(t, e) {
                    return null != t && this.seek(t || this.totalDuration(), e), this.reversed(!0).paused(!1)
                }, a.render = function(t, e, i) {}, a.invalidate = function() {
                    return this._time = this._totalTime = 0, this._initted = this._gc = !1, this._rawPrevTime = -1, !this._gc && this.timeline || this._enabled(!0), this
                }, a.isActive = function() {
                    var t, e = this._timeline,
                        i = this._startTime;
                    return !e || !this._gc && !this._paused && e.isActive() && (t = e.rawTime(!0)) >= i && t < i + this.totalDuration() / this._timeScale - 1e-7
                }, a._enabled = function(t, e) {
                    return l || c.wake(), this._gc = !t, this._active = this.isActive(), !0 !== e && (t && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !t && this.timeline && this._timeline._remove(this, !0)), !1
                }, a._kill = function(t, e) {
                    return this._enabled(!1, !1)
                }, a.kill = function(t, e) {
                    return this._kill(t, e), this
                }, a._uncache = function(t) {
                    for (var e = t ? this : this.timeline; e;) e._dirty = !0, e = e.timeline;
                    return this
                }, a._swapSelfInParams = function(t) {
                    for (var e = t.length, i = t.concat(); --e > -1;) "{self}" === t[e] && (i[e] = this);
                    return i
                }, a._callback = function(t) {
                    var e = this.vars,
                        i = e[t],
                        n = e[t + "Params"],
                        r = e[t + "Scope"] || e.callbackScope || this;
                    switch (n ? n.length : 0) {
                        case 0:
                            i.call(r);
                            break;
                        case 1:
                            i.call(r, n[0]);
                            break;
                        case 2:
                            i.call(r, n[0], n[1]);
                            break;
                        default:
                            i.apply(r, n)
                    }
                }, a.eventCallback = function(t, e, i, n) {
                    if ("on" === (t || "").substr(0, 2)) {
                        var r = this.vars;
                        if (1 === arguments.length) return r[t];
                        null == e ? delete r[t] : (r[t] = e, r[t + "Params"] = v(i) && -1 !== i.join("").indexOf("{self}") ? this._swapSelfInParams(i) : i, r[t + "Scope"] = n), "onUpdate" === t && (this._onUpdate = e)
                    }
                    return this
                }, a.delay = function(t) {
                    return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + t - this._delay), this._delay = t, this) : this._delay
                }, a.duration = function(t) {
                    return arguments.length ? (this._duration = this._totalDuration = t, this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== t && this.totalTime(this._totalTime * (t / this._duration), !0), this) : (this._dirty = !1, this._duration)
                }, a.totalDuration = function(t) {
                    return this._dirty = !1, arguments.length ? this.duration(t) : this._totalDuration
                }, a.time = function(t, e) {
                    return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(t > this._duration ? this._duration : t, e)) : this._time
                }, a.totalTime = function(t, e, i) {
                    if (l || c.wake(), !arguments.length) return this._totalTime;
                    if (this._timeline) {
                        if (t < 0 && !i && (t += this.totalDuration()), this._timeline.smoothChildTiming) {
                            this._dirty && this.totalDuration();
                            var n = this._totalDuration,
                                r = this._timeline;
                            if (t > n && !i && (t = n), this._startTime = (this._paused ? this._pauseTime : r._time) - (this._reversed ? n - t : t) / this._timeScale, r._dirty || this._uncache(!1), r._timeline)
                                for (; r._timeline;) r._timeline._time !== (r._startTime + r._totalTime) / r._timeScale && r.totalTime(r._totalTime, !0), r = r._timeline
                        }
                        this._gc && this._enabled(!0, !1), this._totalTime === t && 0 !== this._duration || (D.length && J(), this.render(t, e, !1), D.length && J())
                    }
                    return this
                }, a.progress = a.totalProgress = function(t, e) {
                    var i = this.duration();
                    return arguments.length ? this.totalTime(i * t, e) : i ? this._time / i : this.ratio
                }, a.startTime = function(t) {
                    return arguments.length ? (t !== this._startTime && (this._startTime = t, this.timeline && this.timeline._sortChildren && this.timeline.add(this, t - this._delay)), this) : this._startTime
                }, a.endTime = function(t) {
                    return this._startTime + (0 != t ? this.totalDuration() : this.duration()) / this._timeScale
                }, a.timeScale = function(t) {
                    if (!arguments.length) return this._timeScale;
                    var e, i;
                    for (t = t || 1e-10, this._timeline && this._timeline.smoothChildTiming && (i = (e = this._pauseTime) || 0 === e ? e : this._timeline.totalTime(), this._startTime = i - (i - this._startTime) * this._timeScale / t), this._timeScale = t, i = this.timeline; i && i.timeline;) i._dirty = !0, i.totalDuration(), i = i.timeline;
                    return this
                }, a.reversed = function(t) {
                    return arguments.length ? (t != this._reversed && (this._reversed = t, this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)), this) : this._reversed
                }, a.paused = function(t) {
                    if (!arguments.length) return this._paused;
                    var e, i, n = this._timeline;
                    return t != this._paused && n && (l || t || c.wake(), i = (e = n.rawTime()) - this._pauseTime, !t && n.smoothChildTiming && (this._startTime += i, this._uncache(!1)), this._pauseTime = t ? e : null, this._paused = t, this._active = this.isActive(), !t && 0 !== i && this._initted && this.duration() && (e = n.smoothChildTiming ? this._totalTime : (e - this._startTime) / this._timeScale, this.render(e, e === this._totalTime, !0))), this._gc && !t && this._enabled(!0, !1), this
                };
                var L = b("core.SimpleTimeline", function(t) {
                    P.call(this, 0, t), this.autoRemoveChildren = this.smoothChildTiming = !0
                });
                (a = L.prototype = new P).constructor = L, a.kill()._gc = !1, a._first = a._last = a._recent = null, a._sortChildren = !1, a.add = a.insert = function(t, e, i, n) {
                    var r, o;
                    if (t._startTime = Number(e || 0) + t._delay, t._paused && this !== t._timeline && (t._pauseTime = this.rawTime() - (t._timeline.rawTime() - t._pauseTime)), t.timeline && t.timeline._remove(t, !0), t.timeline = t._timeline = this, t._gc && t._enabled(!0, !0), r = this._last, this._sortChildren)
                        for (o = t._startTime; r && r._startTime > o;) r = r._prev;
                    return r ? (t._next = r._next, r._next = t) : (t._next = this._first, this._first = t), t._next ? t._next._prev = t : this._last = t, t._prev = r, this._recent = t, this._timeline && this._uncache(!0), this
                }, a._remove = function(t, e) {
                    return t.timeline === this && (e || t._enabled(!1, !0), t._prev ? t._prev._next = t._next : this._first === t && (this._first = t._next), t._next ? t._next._prev = t._prev : this._last === t && (this._last = t._prev), t._next = t._prev = t.timeline = null, t === this._recent && (this._recent = this._last), this._timeline && this._uncache(!0)), this
                }, a.render = function(t, e, i) {
                    var n, r = this._first;
                    for (this._totalTime = this._time = this._rawPrevTime = t; r;) n = r._next, (r._active || t >= r._startTime && !r._paused && !r._gc) && (r._reversed ? r.render((r._dirty ? r.totalDuration() : r._totalDuration) - (t - r._startTime) * r._timeScale, e, i) : r.render((t - r._startTime) * r._timeScale, e, i)), r = n
                }, a.rawTime = function() {
                    return l || c.wake(), this._totalTime
                };
                var I = b("TweenLite", function(e, i, n) {
                        if (P.call(this, i, n), this.render = I.prototype.render, null == e) throw "Cannot tween a null target.";
                        this.target = e = "string" != typeof e ? e : I.selector(e) || e;
                        var r, o, s, a = e.jquery || e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType),
                            c = this.vars.overwrite;
                        if (this._overwrite = c = null == c ? X[I.defaultOverwrite] : "number" == typeof c ? c >> 0 : X[c], (a || e instanceof Array || e.push && v(e)) && "number" != typeof e[0])
                            for (this._targets = s = f(e), this._propLookup = [], this._siblings = [], r = 0; r < s.length; r++)(o = s[r]) ? "string" != typeof o ? o.length && o !== t && o[0] && (o[0] === t || o[0].nodeType && o[0].style && !o.nodeType) ? (s.splice(r--, 1), this._targets = s = s.concat(f(o))) : (this._siblings[r] = Q(o, this, !1), 1 === c && this._siblings[r].length > 1 && tt(o, this, null, 1, this._siblings[r])) : "string" == typeof(o = s[r--] = I.selector(o)) && s.splice(r + 1, 1) : s.splice(r--, 1);
                        else this._propLookup = {}, this._siblings = Q(e, this, !1), 1 === c && this._siblings.length > 1 && tt(e, this, null, 1, this._siblings);
                        (this.vars.immediateRender || 0 === i && 0 === this._delay && !1 !== this.vars.immediateRender) && (this._time = -1e-10, this.render(Math.min(0, -this._delay)))
                    }, !0),
                    R = function(e) {
                        return e && e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType)
                    };
                (a = I.prototype = new P).constructor = I, a.kill()._gc = !1, a.ratio = 0, a._firstPT = a._targets = a._overwrittenProps = a._startAt = null, a._notifyPluginsOfEnabled = a._lazy = !1, I.version = "2.0.2", I.defaultEase = a._ease = new w(null, null, 1, 1), I.defaultOverwrite = "auto", I.ticker = c, I.autoSleep = 120, I.lagSmoothing = function(t, e) {
                    c.lagSmoothing(t, e)
                }, I.selector = t.$ || t.jQuery || function(e) {
                    var i = t.$ || t.jQuery;
                    return i ? (I.selector = i, i(e)) : (n || (n = t.document), n ? n.querySelectorAll ? n.querySelectorAll(e) : n.getElementById("#" === e.charAt(0) ? e.substr(1) : e) : e)
                };
                var D = [],
                    N = {},
                    z = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
                    F = /[\+-]=-?[\.\d]/,
                    B = function(t) {
                        for (var e, i = this._firstPT; i;) e = i.blob ? 1 === t && null != this.end ? this.end : t ? this.join("") : this.start : i.c * t + i.s, i.m ? e = i.m.call(this._tween, e, this._target || i.t, this._tween) : e < 1e-6 && e > -1e-6 && !i.blob && (e = 0), i.f ? i.fp ? i.t[i.p](i.fp, e) : i.t[i.p](e) : i.t[i.p] = e, i = i._next
                    },
                    j = function(t, e, i, n) {
                        var r, o, s, a, c, l, u, h = [],
                            p = 0,
                            d = "",
                            f = 0;
                        for (h.start = t, h.end = e, t = h[0] = t + "", e = h[1] = e + "", i && (i(h), t = h[0], e = h[1]), h.length = 0, r = t.match(z) || [], o = e.match(z) || [], n && (n._next = null, n.blob = 1, h._firstPT = h._applyPT = n), c = o.length, a = 0; a < c; a++) u = o[a], d += (l = e.substr(p, e.indexOf(u, p) - p)) || !a ? l : ",", p += l.length, f ? f = (f + 1) % 5 : "rgba(" === l.substr(-5) && (f = 1), u === r[a] || r.length <= a ? d += u : (d && (h.push(d), d = ""), s = parseFloat(r[a]), h.push(s), h._firstPT = {
                            _next: h._firstPT,
                            t: h,
                            p: h.length - 1,
                            s: s,
                            c: ("=" === u.charAt(1) ? parseInt(u.charAt(0) + "1", 10) * parseFloat(u.substr(2)) : parseFloat(u) - s) || 0,
                            f: 0,
                            m: f && f < 4 ? Math.round : 0
                        }), p += u.length;
                        return (d += e.substr(p)) && h.push(d), h.setRatio = B, F.test(e) && (h.end = null), h
                    },
                    U = function(t, e, i, n, r, o, s, a, c) {
                        "function" == typeof n && (n = n(c || 0, t));
                        var l = typeof t[e],
                            u = "function" !== l ? "" : e.indexOf("set") || "function" != typeof t["get" + e.substr(3)] ? e : "get" + e.substr(3),
                            h = "get" !== i ? i : u ? s ? t[u](s) : t[u]() : t[e],
                            p = "string" == typeof n && "=" === n.charAt(1),
                            d = {
                                t: t,
                                p: e,
                                s: h,
                                f: "function" === l,
                                pg: 0,
                                n: r || e,
                                m: o ? "function" == typeof o ? o : Math.round : 0,
                                pr: 0,
                                c: p ? parseInt(n.charAt(0) + "1", 10) * parseFloat(n.substr(2)) : parseFloat(n) - h || 0
                            };
                        if (("number" != typeof h || "number" != typeof n && !p) && (s || isNaN(h) || !p && isNaN(n) || "boolean" == typeof h || "boolean" == typeof n ? (d.fp = s, d = {
                                t: j(h, p ? parseFloat(d.s) + d.c + (d.s + "").replace(/[0-9\-\.]/g, "") : n, a || I.defaultStringFilter, d),
                                p: "setRatio",
                                s: 0,
                                c: 1,
                                f: 2,
                                pg: 0,
                                n: r || e,
                                pr: 0,
                                m: 0
                            }) : (d.s = parseFloat(h), p || (d.c = parseFloat(n) - d.s || 0))), d.c) return (d._next = this._firstPT) && (d._next._prev = d), this._firstPT = d, d
                    },
                    V = I._internals = {
                        isArray: v,
                        isSelector: R,
                        lazyTweens: D,
                        blobDif: j
                    },
                    G = I._plugins = {},
                    W = V.tweenLookup = {},
                    H = 0,
                    $ = V.reservedProps = {
                        ease: 1,
                        delay: 1,
                        overwrite: 1,
                        onComplete: 1,
                        onCompleteParams: 1,
                        onCompleteScope: 1,
                        useFrames: 1,
                        runBackwards: 1,
                        startAt: 1,
                        onUpdate: 1,
                        onUpdateParams: 1,
                        onUpdateScope: 1,
                        onStart: 1,
                        onStartParams: 1,
                        onStartScope: 1,
                        onReverseComplete: 1,
                        onReverseCompleteParams: 1,
                        onReverseCompleteScope: 1,
                        onRepeat: 1,
                        onRepeatParams: 1,
                        onRepeatScope: 1,
                        easeParams: 1,
                        yoyo: 1,
                        immediateRender: 1,
                        repeat: 1,
                        repeatDelay: 1,
                        data: 1,
                        paused: 1,
                        reversed: 1,
                        autoCSS: 1,
                        lazy: 1,
                        onOverwrite: 1,
                        callbackScope: 1,
                        stringFilter: 1,
                        id: 1,
                        yoyoEase: 1
                    },
                    X = {
                        none: 0,
                        all: 1,
                        auto: 2,
                        concurrent: 3,
                        allOnStart: 4,
                        preexisting: 5,
                        true: 1,
                        false: 0
                    },
                    q = P._rootFramesTimeline = new L,
                    Y = P._rootTimeline = new L,
                    Z = 30,
                    J = V.lazyRender = function() {
                        var t, e = D.length;
                        for (N = {}; --e > -1;)(t = D[e]) && !1 !== t._lazy && (t.render(t._lazy[0], t._lazy[1], !0), t._lazy = !1);
                        D.length = 0
                    };
                Y._startTime = c.time, q._startTime = c.frame, Y._active = q._active = !0, setTimeout(J, 1), P._updateRoot = I.render = function() {
                    var t, e, i;
                    if (D.length && J(), Y.render((c.time - Y._startTime) * Y._timeScale, !1, !1), q.render((c.frame - q._startTime) * q._timeScale, !1, !1), D.length && J(), c.frame >= Z) {
                        for (i in Z = c.frame + (parseInt(I.autoSleep, 10) || 120), W) {
                            for (t = (e = W[i].tweens).length; --t > -1;) e[t]._gc && e.splice(t, 1);
                            0 === e.length && delete W[i]
                        }
                        if ((!(i = Y._first) || i._paused) && I.autoSleep && !q._first && 1 === c._listeners.tick.length) {
                            for (; i && i._paused;) i = i._next;
                            i || c.sleep()
                        }
                    }
                }, c.addEventListener("tick", P._updateRoot);
                var Q = function(t, e, i) {
                        var n, r, o = t._gsTweenID;
                        if (W[o || (t._gsTweenID = o = "t" + H++)] || (W[o] = {
                                target: t,
                                tweens: []
                            }), e && ((n = W[o].tweens)[r = n.length] = e, i))
                            for (; --r > -1;) n[r] === e && n.splice(r, 1);
                        return W[o].tweens
                    },
                    K = function(t, e, i, n) {
                        var r, o, s = t.vars.onOverwrite;
                        return s && (r = s(t, e, i, n)), (s = I.onOverwrite) && (o = s(t, e, i, n)), !1 !== r && !1 !== o
                    },
                    tt = function(t, e, i, n, r) {
                        var o, s, a, c;
                        if (1 === n || n >= 4) {
                            for (c = r.length, o = 0; o < c; o++)
                                if ((a = r[o]) !== e) a._gc || a._kill(null, t, e) && (s = !0);
                                else if (5 === n) break;
                            return s
                        }
                        var l, u = e._startTime + 1e-10,
                            h = [],
                            p = 0,
                            d = 0 === e._duration;
                        for (o = r.length; --o > -1;)(a = r[o]) === e || a._gc || a._paused || (a._timeline !== e._timeline ? (l = l || et(e, 0, d), 0 === et(a, l, d) && (h[p++] = a)) : a._startTime <= u && a._startTime + a.totalDuration() / a._timeScale > u && ((d || !a._initted) && u - a._startTime <= 2e-10 || (h[p++] = a)));
                        for (o = p; --o > -1;)
                            if (c = (a = h[o])._firstPT, 2 === n && a._kill(i, t, e) && (s = !0), 2 !== n || !a._firstPT && a._initted && c) {
                                if (2 !== n && !K(a, e)) continue;
                                a._enabled(!1, !1) && (s = !0)
                            }
                        return s
                    },
                    et = function(t, e, i) {
                        for (var n = t._timeline, r = n._timeScale, o = t._startTime; n._timeline;) {
                            if (o += n._startTime, r *= n._timeScale, n._paused) return -100;
                            n = n._timeline
                        }
                        return (o /= r) > e ? o - e : i && o === e || !t._initted && o - e < 2e-10 ? 1e-10 : (o += t.totalDuration() / t._timeScale / r) > e + 1e-10 ? 0 : o - e - 1e-10
                    };
                a._init = function() {
                    var t, e, i, n, r, o, s = this.vars,
                        a = this._overwrittenProps,
                        c = this._duration,
                        l = !!s.immediateRender,
                        u = s.ease;
                    if (s.startAt) {
                        for (n in this._startAt && (this._startAt.render(-1, !0), this._startAt.kill()), r = {}, s.startAt) r[n] = s.startAt[n];
                        if (r.data = "isStart", r.overwrite = !1, r.immediateRender = !0, r.lazy = l && !1 !== s.lazy, r.startAt = r.delay = null, r.onUpdate = s.onUpdate, r.onUpdateParams = s.onUpdateParams, r.onUpdateScope = s.onUpdateScope || s.callbackScope || this, this._startAt = I.to(this.target || {}, 0, r), l)
                            if (this._time > 0) this._startAt = null;
                            else if (0 !== c) return
                    } else if (s.runBackwards && 0 !== c)
                        if (this._startAt) this._startAt.render(-1, !0), this._startAt.kill(), this._startAt = null;
                        else {
                            for (n in 0 !== this._time && (l = !1), i = {}, s) $[n] && "autoCSS" !== n || (i[n] = s[n]);
                            if (i.overwrite = 0, i.data = "isFromStart", i.lazy = l && !1 !== s.lazy, i.immediateRender = l, this._startAt = I.to(this.target, 0, i), l) {
                                if (0 === this._time) return
                            } else this._startAt._init(), this._startAt._enabled(!1), this.vars.immediateRender && (this._startAt = null)
                        }
                    if (this._ease = u = u ? u instanceof w ? u : "function" == typeof u ? new w(u, s.easeParams) : S[u] || I.defaultEase : I.defaultEase, s.easeParams instanceof Array && u.config && (this._ease = u.config.apply(u, s.easeParams)), this._easeType = this._ease._type, this._easePower = this._ease._power, this._firstPT = null, this._targets)
                        for (o = this._targets.length, t = 0; t < o; t++) this._initProps(this._targets[t], this._propLookup[t] = {}, this._siblings[t], a ? a[t] : null, t) && (e = !0);
                    else e = this._initProps(this.target, this._propLookup, this._siblings, a, 0);
                    if (e && I._onPluginEvent("_onInitAllProps", this), a && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)), s.runBackwards)
                        for (i = this._firstPT; i;) i.s += i.c, i.c = -i.c, i = i._next;
                    this._onUpdate = s.onUpdate, this._initted = !0
                }, a._initProps = function(e, i, n, r, o) {
                    var s, a, c, l, u, h;
                    if (null == e) return !1;
                    for (s in N[e._gsTweenID] && J(), this.vars.css || e.style && e !== t && e.nodeType && G.css && !1 !== this.vars.autoCSS && function(t, e) {
                            var i, n = {};
                            for (i in t) $[i] || i in e && "transform" !== i && "x" !== i && "y" !== i && "width" !== i && "height" !== i && "className" !== i && "border" !== i || !(!G[i] || G[i] && G[i]._autoCSS) || (n[i] = t[i], delete t[i]);
                            t.css = n
                        }(this.vars, e), this.vars)
                        if (h = this.vars[s], $[s]) h && (h instanceof Array || h.push && v(h)) && -1 !== h.join("").indexOf("{self}") && (this.vars[s] = h = this._swapSelfInParams(h, this));
                        else if (G[s] && (l = new G[s])._onInitTween(e, this.vars[s], this, o)) {
                        for (this._firstPT = u = {
                                _next: this._firstPT,
                                t: l,
                                p: "setRatio",
                                s: 0,
                                c: 1,
                                f: 1,
                                n: s,
                                pg: 1,
                                pr: l._priority,
                                m: 0
                            }, a = l._overwriteProps.length; --a > -1;) i[l._overwriteProps[a]] = this._firstPT;
                        (l._priority || l._onInitAllProps) && (c = !0), (l._onDisable || l._onEnable) && (this._notifyPluginsOfEnabled = !0), u._next && (u._next._prev = u)
                    } else i[s] = U.call(this, e, s, "get", h, s, 0, null, this.vars.stringFilter, o);
                    return r && this._kill(r, e) ? this._initProps(e, i, n, r, o) : this._overwrite > 1 && this._firstPT && n.length > 1 && tt(e, this, i, this._overwrite, n) ? (this._kill(i, e), this._initProps(e, i, n, r, o)) : (this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration) && (N[e._gsTweenID] = !0), c)
                }, a.render = function(t, e, i) {
                    var n, r, o, s, a = this._time,
                        c = this._duration,
                        l = this._rawPrevTime;
                    if (t >= c - 1e-7 && t >= 0) this._totalTime = this._time = c, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (n = !0, r = "onComplete", i = i || this._timeline.autoRemoveChildren), 0 === c && (this._initted || !this.vars.lazy || i) && (this._startTime === this._timeline._duration && (t = 0), (l < 0 || t <= 0 && t >= -1e-7 || 1e-10 === l && "isPause" !== this.data) && l !== t && (i = !0, l > 1e-10 && (r = "onReverseComplete")), this._rawPrevTime = s = !e || t || l === t ? t : 1e-10);
                    else if (t < 1e-7) this._totalTime = this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== a || 0 === c && l > 0) && (r = "onReverseComplete", n = this._reversed), t < 0 && (this._active = !1, 0 === c && (this._initted || !this.vars.lazy || i) && (l >= 0 && (1e-10 !== l || "isPause" !== this.data) && (i = !0), this._rawPrevTime = s = !e || t || l === t ? t : 1e-10)), (!this._initted || this._startAt && this._startAt.progress()) && (i = !0);
                    else if (this._totalTime = this._time = t, this._easeType) {
                        var u = t / c,
                            h = this._easeType,
                            p = this._easePower;
                        (1 === h || 3 === h && u >= .5) && (u = 1 - u), 3 === h && (u *= 2), 1 === p ? u *= u : 2 === p ? u *= u * u : 3 === p ? u *= u * u * u : 4 === p && (u *= u * u * u * u), this.ratio = 1 === h ? 1 - u : 2 === h ? u : t / c < .5 ? u / 2 : 1 - u / 2
                    } else this.ratio = this._ease.getRatio(t / c);
                    if (this._time !== a || i) {
                        if (!this._initted) {
                            if (this._init(), !this._initted || this._gc) return;
                            if (!i && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration)) return this._time = this._totalTime = a, this._rawPrevTime = l, D.push(this), void(this._lazy = [t, e]);
                            this._time && !n ? this.ratio = this._ease.getRatio(this._time / c) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                        }
                        for (!1 !== this._lazy && (this._lazy = !1), this._active || !this._paused && this._time !== a && t >= 0 && (this._active = !0), 0 === a && (this._startAt && (t >= 0 ? this._startAt.render(t, !0, i) : r || (r = "_dummyGS")), this.vars.onStart && (0 === this._time && 0 !== c || e || this._callback("onStart"))), o = this._firstPT; o;) o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next;
                        this._onUpdate && (t < 0 && this._startAt && -1e-4 !== t && this._startAt.render(t, !0, i), e || (this._time !== a || n || i) && this._callback("onUpdate")), r && (this._gc && !i || (t < 0 && this._startAt && !this._onUpdate && -1e-4 !== t && this._startAt.render(t, !0, i), n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[r] && this._callback(r), 0 === c && 1e-10 === this._rawPrevTime && 1e-10 !== s && (this._rawPrevTime = 0)))
                    }
                }, a._kill = function(t, e, i) {
                    if ("all" === t && (t = null), null == t && (null == e || e === this.target)) return this._lazy = !1, this._enabled(!1, !1);
                    e = "string" != typeof e ? e || this._targets || this.target : I.selector(e) || e;
                    var n, r, o, s, a, c, l, u, h, p = i && this._time && i._startTime === this._startTime && this._timeline === i._timeline,
                        d = this._firstPT;
                    if ((v(e) || R(e)) && "number" != typeof e[0])
                        for (n = e.length; --n > -1;) this._kill(t, e[n], i) && (c = !0);
                    else {
                        if (this._targets) {
                            for (n = this._targets.length; --n > -1;)
                                if (e === this._targets[n]) {
                                    a = this._propLookup[n] || {}, this._overwrittenProps = this._overwrittenProps || [], r = this._overwrittenProps[n] = t ? this._overwrittenProps[n] || {} : "all";
                                    break
                                }
                        } else {
                            if (e !== this.target) return !1;
                            a = this._propLookup, r = this._overwrittenProps = t ? this._overwrittenProps || {} : "all"
                        }
                        if (a) {
                            if (l = t || a, u = t !== r && "all" !== r && t !== a && ("object" != typeof t || !t._tempKill), i && (I.onOverwrite || this.vars.onOverwrite)) {
                                for (o in l) a[o] && (h || (h = []), h.push(o));
                                if ((h || !t) && !K(this, i, e, h)) return !1
                            }
                            for (o in l)(s = a[o]) && (p && (s.f ? s.t[s.p](s.s) : s.t[s.p] = s.s, c = !0), s.pg && s.t._kill(l) && (c = !0), s.pg && 0 !== s.t._overwriteProps.length || (s._prev ? s._prev._next = s._next : s === this._firstPT && (this._firstPT = s._next), s._next && (s._next._prev = s._prev), s._next = s._prev = null), delete a[o]), u && (r[o] = 1);
                            !this._firstPT && this._initted && d && this._enabled(!1, !1)
                        }
                    }
                    return c
                }, a.invalidate = function() {
                    return this._notifyPluginsOfEnabled && I._onPluginEvent("_onDisable", this), this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null, this._notifyPluginsOfEnabled = this._active = this._lazy = !1, this._propLookup = this._targets ? {} : [], P.prototype.invalidate.call(this), this.vars.immediateRender && (this._time = -1e-10, this.render(Math.min(0, -this._delay))), this
                }, a._enabled = function(t, e) {
                    if (l || c.wake(), t && this._gc) {
                        var i, n = this._targets;
                        if (n)
                            for (i = n.length; --i > -1;) this._siblings[i] = Q(n[i], this, !0);
                        else this._siblings = Q(this.target, this, !0)
                    }
                    return P.prototype._enabled.call(this, t, e), !(!this._notifyPluginsOfEnabled || !this._firstPT) && I._onPluginEvent(t ? "_onEnable" : "_onDisable", this)
                }, I.to = function(t, e, i) {
                    return new I(t, e, i)
                }, I.from = function(t, e, i) {
                    return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, new I(t, e, i)
                }, I.fromTo = function(t, e, i, n) {
                    return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, new I(t, e, n)
                }, I.delayedCall = function(t, e, i, n, r) {
                    return new I(e, 0, {
                        delay: t,
                        onComplete: e,
                        onCompleteParams: i,
                        callbackScope: n,
                        onReverseComplete: e,
                        onReverseCompleteParams: i,
                        immediateRender: !1,
                        lazy: !1,
                        useFrames: r,
                        overwrite: 0
                    })
                }, I.set = function(t, e) {
                    return new I(t, 0, e)
                }, I.getTweensOf = function(t, e) {
                    if (null == t) return [];
                    var i, n, r, o;
                    if (t = "string" != typeof t ? t : I.selector(t) || t, (v(t) || R(t)) && "number" != typeof t[0]) {
                        for (i = t.length, n = []; --i > -1;) n = n.concat(I.getTweensOf(t[i], e));
                        for (i = n.length; --i > -1;)
                            for (o = n[i], r = i; --r > -1;) o === n[r] && n.splice(i, 1)
                    } else if (t._gsTweenID)
                        for (i = (n = Q(t).concat()).length; --i > -1;)(n[i]._gc || e && !n[i].isActive()) && n.splice(i, 1);
                    return n || []
                }, I.killTweensOf = I.killDelayedCallsTo = function(t, e, i) {
                    "object" == typeof e && (i = e, e = !1);
                    for (var n = I.getTweensOf(t, e), r = n.length; --r > -1;) n[r]._kill(i, t)
                };
                var it = b("plugins.TweenPlugin", function(t, e) {
                    this._overwriteProps = (t || "").split(","), this._propName = this._overwriteProps[0], this._priority = e || 0, this._super = it.prototype
                }, !0);
                if (a = it.prototype, it.version = "1.19.0", it.API = 2, a._firstPT = null, a._addTween = U, a.setRatio = B, a._kill = function(t) {
                        var e, i = this._overwriteProps,
                            n = this._firstPT;
                        if (null != t[this._propName]) this._overwriteProps = [];
                        else
                            for (e = i.length; --e > -1;) null != t[i[e]] && i.splice(e, 1);
                        for (; n;) null != t[n.n] && (n._next && (n._next._prev = n._prev), n._prev ? (n._prev._next = n._next, n._prev = null) : this._firstPT === n && (this._firstPT = n._next)), n = n._next;
                        return !1
                    }, a._mod = a._roundProps = function(t) {
                        for (var e, i = this._firstPT; i;)(e = t[this._propName] || null != i.n && t[i.n.split(this._propName + "_").join("")]) && "function" == typeof e && (2 === i.f ? i.t._applyPT.m = e : i.m = e), i = i._next
                    }, I._onPluginEvent = function(t, e) {
                        var i, n, r, o, s, a = e._firstPT;
                        if ("_onInitAllProps" === t) {
                            for (; a;) {
                                for (s = a._next, n = r; n && n.pr > a.pr;) n = n._next;
                                (a._prev = n ? n._prev : o) ? a._prev._next = a: r = a, (a._next = n) ? n._prev = a : o = a, a = s
                            }
                            a = e._firstPT = r
                        }
                        for (; a;) a.pg && "function" == typeof a.t[t] && a.t[t]() && (i = !0), a = a._next;
                        return i
                    }, it.activate = function(t) {
                        for (var e = t.length; --e > -1;) t[e].API === it.API && (G[(new t[e])._propName] = t[e]);
                        return !0
                    }, _.plugin = function(t) {
                        if (!(t && t.propName && t.init && t.API)) throw "illegal plugin definition.";
                        var e, i = t.propName,
                            n = t.priority || 0,
                            r = t.overwriteProps,
                            o = {
                                init: "_onInitTween",
                                set: "setRatio",
                                kill: "_kill",
                                round: "_mod",
                                mod: "_mod",
                                initAll: "_onInitAllProps"
                            },
                            s = b("plugins." + i.charAt(0).toUpperCase() + i.substr(1) + "Plugin", function() {
                                it.call(this, i, n), this._overwriteProps = r || []
                            }, !0 === t.global),
                            a = s.prototype = new it(i);
                        for (e in a.constructor = s, s.API = t.API, o) "function" == typeof t[e] && (a[o[e]] = t[e]);
                        return s.version = t.version, it.activate([s]), s
                    }, o = t._gsQueue) {
                    for (s = 0; s < o.length; s++) o[s]();
                    for (a in g) g[a].func || t.console.log("GSAP encountered missing dependency: " + a)
                }
                return l = !1, I
            }(r),
            s = r.GreenSockGlobals,
            a = s.com.greensock,
            c = a.core.SimpleTimeline,
            l = a.core.Animation,
            u = s.Ease,
            h = (s.Linear, s.Power1, s.Power2, s.Power3, s.Power4, s.TweenPlugin);
        a.events.EventDispatcher
    }).call(e, i(101)(t), i(185))
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return n = t, o
    };
    var n, r = i(14);

    function o() {
        try {
            return n.apply(this, arguments)
        } catch (t) {
            return r.a.e = t, r.a
        }
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        if (!e) return t instanceof n.a ? t : new n.a(Object(p.a)(t));
        if (null != t) {
            if (Object(s.a)(t)) return Object(h.a)(t, e);
            if (Object(r.a)(t)) return Object(l.a)(t, e);
            if (Object(o.a)(t)) return Object(c.a)(t, e);
            if (Object(a.a)(t) || "string" == typeof t) return Object(u.a)(t, e)
        }
        throw new TypeError((null !== t && typeof t || t) + " is not observable")
    };
    var n = i(2),
        r = i(141),
        o = i(140),
        s = i(205),
        a = i(206),
        c = i(22),
        l = i(207),
        u = i(208),
        h = i(209),
        p = i(136)
}, function(t, e) {
    var i = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = i)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return e ? new n.a(function(i) {
            var n = new r.a,
                o = 0;
            return n.add(e.schedule(function() {
                o !== t.length ? (i.next(t[o++]), i.closed || n.add(this.schedule())) : i.complete()
            })), n
        }) : new n.a(Object(o.a)(t))
    };
    var n = i(2),
        r = i(5),
        o = i(133)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e(e, i, n) {
                var r = t.call(this) || this;
                return r.parent = e, r.outerValue = i, r.outerIndex = n, r.index = 0, r
            }
            return n.a(e, t), e.prototype._next = function(t) {
                this.parent.notifyNext(this.outerValue, t, this.outerIndex, this.index++, this)
            }, e.prototype._error = function(t) {
                this.parent.notifyError(t, this), this.unsubscribe()
            }, e.prototype._complete = function() {
                this.parent.notifyComplete(this), this.unsubscribe()
            }, e
        }(i(1).a)
}, function(t, e, i) {
    t.exports = {
        default: i(313),
        __esModule: !0
    }
}, function(t, e, i) {
    var n = i(21),
        r = i(17),
        o = i(103),
        s = i(33),
        a = i(28),
        c = function(t, e, i) {
            var l, u, h, p = t & c.F,
                d = t & c.G,
                f = t & c.S,
                m = t & c.P,
                v = t & c.B,
                g = t & c.W,
                y = d ? r : r[e] || (r[e] = {}),
                _ = y.prototype,
                b = d ? n : f ? n[e] : (n[e] || {}).prototype;
            for (l in d && (i = e), i)(u = !p && b && void 0 !== b[l]) && a(y, l) || (h = u ? b[l] : i[l], y[l] = d && "function" != typeof b[l] ? i[l] : v && u ? o(h, n) : g && b[l] == h ? function(t) {
                var e = function(e, i, n) {
                    if (this instanceof t) {
                        switch (arguments.length) {
                            case 0:
                                return new t;
                            case 1:
                                return new t(e);
                            case 2:
                                return new t(e, i)
                        }
                        return new t(e, i, n)
                    }
                    return t.apply(this, arguments)
                };
                return e.prototype = t.prototype, e
            }(h) : m && "function" == typeof h ? o(Function.call, h) : h, m && ((y.virtual || (y.virtual = {}))[l] = h, t & c.R && _ && !_[l] && s(_, l, h)))
        };
    c.F = 1, c.G = 2, c.S = 4, c.P = 8, c.B = 16, c.W = 32, c.U = 64, c.R = 128, t.exports = c
}, function(t, e, i) {
    var n = i(42),
        r = i(104),
        o = i(70),
        s = Object.defineProperty;
    e.f = i(27) ? Object.defineProperty : function(t, e, i) {
        if (n(t), e = o(e, !0), n(i), r) try {
            return s(t, e, i)
        } catch (t) {}
        if ("get" in i || "set" in i) throw TypeError("Accessors not supported!");
        return "value" in i && (t[e] = i.value), t
    }
}, function(t, e, i) {
    t.exports = !i(35)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(t, e) {
    var i = {}.hasOwnProperty;
    t.exports = function(t, e) {
        return i.call(t, e)
    }
}, function(t, e, i) {
    var n = i(108),
        r = i(69);
    t.exports = function(t) {
        return n(r(t))
    }
}, function(t, e, i) {
    "use strict";
    e.__esModule = !0;
    var n, r = i(67),
        o = (n = r) && n.__esModule ? n : {
            default: n
        };
    e.default = function(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" !== (void 0 === e ? "undefined" : (0, o.default)(e)) && "function" != typeof e ? t : e
    }
}, function(t, e, i) {
    "use strict";
    e.__esModule = !0;
    var n = o(i(24)),
        r = o(i(315));

    function o(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.default = function t(e, i, o) {
        null === e && (e = Function.prototype);
        var s = (0, r.default)(e, i);
        if (void 0 === s) {
            var a = (0, n.default)(e);
            return null === a ? void 0 : t(a, i, o)
        }
        if ("value" in s) return s.value;
        var c = s.get;
        return void 0 !== c ? c.call(o) : void 0
    }
}, function(t, e, i) {
    "use strict";
    e.__esModule = !0;
    var n = s(i(318)),
        r = s(i(322)),
        o = s(i(67));

    function s(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.default = function(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : (0, o.default)(e)));
        t.prototype = (0, r.default)(e && e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), e && (n.default ? (0, n.default)(t, e) : t.__proto__ = e)
    }
}, function(t, e, i) {
    var n = i(26),
        r = i(53);
    t.exports = i(27) ? function(t, e, i) {
        return n.f(t, e, r(1, i))
    } : function(t, e, i) {
        return t[e] = i, t
    }
}, function(t, e) {
    t.exports = function(t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}, function(t, e) {
    t.exports = function(t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}, function(t, e, i) {
    var n = i(74)("wks"),
        r = i(55),
        o = i(21).Symbol,
        s = "function" == typeof o;
    (t.exports = function(t) {
        return n[t] || (n[t] = s && o[t] || (s ? o : r)("Symbol." + t))
    }).store = n
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return p
    });
    i(18);
    var n = i(186),
        r = i(115),
        o = i(116),
        s = i(117),
        a = i(118),
        c = i(82),
        l = i(114),
        u = i(119),
        h = i(120),
        p = n.a;
    p._autoActivated = [c.a, l.a, r.a, o.a, u.a, s.a, a.a, h.a, h.d, h.b, h.g, h.i, h.j, h.c, h.e, h.h, h.f]
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = "function" == typeof Symbol && Symbol.observable || "@@observable"
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return t
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return function(i) {
            var o;
            if (o = "function" == typeof t ? t : function() {
                    return t
                }, "function" == typeof e) return i.lift(new r(o, e));
            var s = Object.create(i, n.b);
            return s.source = i, s.subjectFactory = o, s
        }
    };
    var n = i(126);
    var r = function() {
        function t(t, e) {
            this.subjectFactory = t, this.selector = e
        }
        return t.prototype.call = function(t, e) {
            var i = this.selector,
                n = this.subjectFactory(),
                r = i(n).subscribe(t);
            return r.add(e.subscribe(n)), r
        }, t
    }()
}, function(t, e, i) {
    "use strict";
    var n = i(6),
        r = i.n(n),
        o = i(7),
        s = i.n(o),
        a = i(9),
        c = i.n(a),
        l = i(121),
        u = i.n(l),
        h = i(83),
        p = function() {
            function t(e) {
                r()(this, t);
                var i = this;
                i.option = c.a.extend({
                    selector: "",
                    scrollMagicController: null,
                    emitter: null
                }, e), i.model = h.a.getInstance(), i.proxy = {
                    sceneEventHandler: c.a.proxy(i.scrollMagicEventHandler, i)
                }, i.emitter = i.option.emitter || null, i.scrollMagicScene = null, i.$wrap = c()(i.option.selector)
            }
            return s()(t, [{
                key: "getScrollMagicScene",
                value: function() {
                    return this.scrollMagicScene
                }
            }, {
                key: "enabledScrollMagicScene",
                value: function(t) {
                    this.scrollMagicScene && this.scrollMagicScene.enabled(t)
                }
            }, {
                key: "resetScrollMagicScene",
                value: function() {
                    var t = this;
                    t.scrollMagicScene && (t.scrollMagicScene.off("enter leave", t.proxy.sceneEventHandler), t.scrollMagicScene.destroy()), t.scrollMagicScene = new u.a.Scene({
                        triggerElement: t.option.selector,
                        offset: 0,
                        duration: c()(t.option.selector).height()
                    }), t.scrollMagicScene.on("enter leave", t.proxy.sceneEventHandler)
                }
            }, {
                key: "getHeight",
                value: function() {
                    return this.$wrap.height()
                }
            }, {
                key: "init",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this.resetScrollMagicScene(), this
                }
            }, {
                key: "scrollMagicEventHandler",
                value: function(t) {
                    var e = this;
                    switch (t.type) {
                        case "enter":
                            e.enter(), e.emitter.emit("ENTER", {
                                page: e
                            });
                            break;
                        case "leave":
                            e.exit()
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "enter",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "exit",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "hide",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this.$wrap.hide(), this
                }
            }, {
                key: "show",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this.$wrap.show(), this
                }
            }, {
                key: "resize",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "getSelector",
                value: function() {
                    return this.option.selector
                }
            }]), t
        }();
    e.a = p
}, function(t, e, i) {
    var n = i(34);
    t.exports = function(t) {
        if (!n(t)) throw TypeError(t + " is not an object!");
        return t
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return "function" == typeof t
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e(e, i) {
                var n = t.call(this, e, i) || this;
                return n.scheduler = e, n.work = i, n.pending = !1, n
            }
            return n.a(e, t), e.prototype.schedule = function(t, e) {
                if (void 0 === e && (e = 0), this.closed) return this;
                this.state = t;
                var i = this.id,
                    n = this.scheduler;
                return null != i && (this.id = this.recycleAsyncId(n, i, e)), this.pending = !0, this.delay = e, this.id = this.id || this.requestAsyncId(n, this.id, e), this
            }, e.prototype.requestAsyncId = function(t, e, i) {
                return void 0 === i && (i = 0), setInterval(t.flush.bind(t, this), i)
            }, e.prototype.recycleAsyncId = function(t, e, i) {
                if (void 0 === i && (i = 0), null !== i && this.delay === i && !1 === this.pending) return e;
                clearInterval(e)
            }, e.prototype.execute = function(t, e) {
                if (this.closed) return new Error("executing a cancelled action");
                this.pending = !1;
                var i = this._execute(t, e);
                if (i) return i;
                !1 === this.pending && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null))
            }, e.prototype._execute = function(t, e) {
                var i = !1,
                    n = void 0;
                try {
                    this.work(t)
                } catch (t) {
                    i = !0, n = !!t && t || new Error(t)
                }
                if (i) return this.unsubscribe(), n
            }, e.prototype._unsubscribe = function() {
                var t = this.id,
                    e = this.scheduler,
                    i = e.actions,
                    n = i.indexOf(this);
                this.work = null, this.state = null, this.pending = !1, this.scheduler = null, -1 !== n && i.splice(n, 1), null != t && (this.id = this.recycleAsyncId(e, t, null)), this.delay = null
            }, e
        }(i(193).a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return o
    });
    var n = i(0),
        r = i(131),
        o = function(t) {
            function e(i, n) {
                void 0 === n && (n = r.a.now);
                var o = t.call(this, i, function() {
                    return e.delegate && e.delegate !== o ? e.delegate.now() : n()
                }) || this;
                return o.actions = [], o.active = !1, o.scheduled = void 0, o
            }
            return n.a(e, t), e.prototype.schedule = function(i, n, r) {
                return void 0 === n && (n = 0), e.delegate && e.delegate !== this ? e.delegate.schedule(i, n, r) : t.prototype.schedule.call(this, i, n, r)
            }, e.prototype.flush = function(t) {
                var e = this.actions;
                if (this.active) e.push(t);
                else {
                    var i;
                    this.active = !0;
                    do {
                        if (i = t.execute(t.state, t.delay)) break
                    } while (t = e.shift());
                    if (this.active = !1, i) {
                        for (; t = e.shift();) t.unsubscribe();
                        throw i
                    }
                }
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";

    function n() {
        return Error.call(this), this.message = "argument out of range", this.name = "ArgumentOutOfRangeError", this
    }
    i.d(e, "a", function() {
        return r
    }), n.prototype = Object.create(Error.prototype);
    var r = n
}, function(t, e, i) {
    "use strict";

    function n() {
        return Error.call(this), this.message = "no elements in sequence", this.name = "EmptyError", this
    }
    i.d(e, "a", function() {
        return r
    }), n.prototype = Object.create(Error.prototype);
    var r = n
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = function() {
        return "function" == typeof Symbol && Symbol.iterator ? Symbol.iterator : "@@iterator"
    }()
}, function(t, e, i) {
    "use strict";
    e.a = function t(e, i, n) {
        void 0 === n && (n = Number.POSITIVE_INFINITY);
        if ("function" == typeof i) return function(r) {
            return r.pipe(t(function(t, n) {
                return Object(c.a)(e(t, n)).pipe(Object(a.a)(function(e, r) {
                    return i(t, e, n, r)
                }))
            }, n))
        };
        "number" == typeof i && (n = i);
        return function(t) {
            return t.lift(new l(e, n))
        }
    };
    var n = i(0),
        r = i(4),
        o = i(3),
        s = i(23),
        a = i(16),
        c = i(20);
    var l = function() {
            function t(t, e) {
                void 0 === e && (e = Number.POSITIVE_INFINITY), this.project = t, this.concurrent = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.project, this.concurrent))
            }, t
        }(),
        u = function(t) {
            function e(e, i, n) {
                void 0 === n && (n = Number.POSITIVE_INFINITY);
                var r = t.call(this, e) || this;
                return r.project = i, r.concurrent = n, r.hasCompleted = !1, r.buffer = [], r.active = 0, r.index = 0, r
            }
            return n.a(e, t), e.prototype._next = function(t) {
                this.active < this.concurrent ? this._tryNext(t) : this.buffer.push(t)
            }, e.prototype._tryNext = function(t) {
                var e, i = this.index++;
                try {
                    e = this.project(t, i)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.active++, this._innerSub(e, t, i)
            }, e.prototype._innerSub = function(t, e, i) {
                var n = new s.a(this, void 0, void 0);
                this.add(n), Object(r.a)(this, t, e, i, n)
            }, e.prototype._complete = function() {
                this.hasCompleted = !0, 0 === this.active && 0 === this.buffer.length && this.destination.complete()
            }, e.prototype.notifyNext = function(t, e, i, n, r) {
                this.destination.next(e)
            }, e.prototype.notifyComplete = function(t) {
                var e = this.buffer;
                this.remove(t), this.active--, e.length > 0 ? this._next(e.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete()
            }, e
        }(o.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        void 0 === t && (t = null);
        return function(e) {
            return e.lift(new o(t))
        }
    };
    var n = i(0),
        r = i(1);
    var o = function() {
            function t(t) {
                this.defaultValue = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new s(t, this.defaultValue))
            }, t
        }(),
        s = function(t) {
            function e(e, i) {
                var n = t.call(this, e) || this;
                return n.defaultValue = i, n.isEmpty = !0, n
            }
            return n.a(e, t), e.prototype._next = function(t) {
                this.isEmpty = !1, this.destination.next(t)
            }, e.prototype._complete = function() {
                this.isEmpty && this.destination.next(this.defaultValue), this.destination.complete()
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return function(i) {
            return i.lift(new o(t, e))
        }
    };
    var n = i(0),
        r = i(1);
    var o = function() {
            function t(t, e) {
                this.predicate = t, this.thisArg = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new s(t, this.predicate, this.thisArg))
            }, t
        }(),
        s = function(t) {
            function e(e, i, n) {
                var r = t.call(this, e) || this;
                return r.predicate = i, r.thisArg = n, r.count = 0, r
            }
            return n.a(e, t), e.prototype._next = function(t) {
                var e;
                try {
                    e = this.predicate.call(this.thisArg, t, this.count++)
                } catch (t) {
                    return void this.destination.error(t)
                }
                e && this.destination.next(t)
            }, e
        }(r.a)
}, function(t, e) {
    t.exports = !0
}, function(t, e) {
    t.exports = function(t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}, function(t, e, i) {
    var n = i(107),
        r = i(75);
    t.exports = Object.keys || function(t) {
        return n(t, r)
    }
}, function(t, e) {
    var i = 0,
        n = Math.random();
    t.exports = function(t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++i + n).toString(36))
    }
}, function(t, e) {
    e.f = {}.propertyIsEnumerable
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    }), i.d(e, "b", function() {
        return r
    }), i.d(e, "c", function() {
        return o
    });
    var n = {
            pc: 960
        },
        r = "180912_preorder",
        o = {
            PC_PREORDER_BUTTON_CLICK: "https://i23.icast-ad.com/track?ccd=4223&mcd=01040601&pcd=10511",
            MOBILE_PREORDER_BUTTON_CLICK: "https://i23.icast-ad.com/track?ccd=4223&mcd=01040601&pcd=10515"
        };
    e.d = {
        movieModal: {
            baseUrl: "https://www.youtube.com/embed/",
            options: {
                type: "youtube",
                isEsc: !0,
                movieParams: "?vq=hd720&autoplay=0&version=3&rel=0",
                isAutoButton: !0
            }
        }
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = !1,
        r = {
            Promise: void 0,
            set useDeprecatedSynchronousErrorHandling(t) {
                if (t);
                n = t
            },
            get useDeprecatedSynchronousErrorHandling() {
                return n
            }
        }
}, function(t, e, i) {
    "use strict";
    e.a = function() {}
}, function(t, e, i) {
    "use strict";

    function n() {
        return Error.call(this), this.message = "object unsubscribed", this.name = "ObjectUnsubscribedError", this
    }
    i.d(e, "a", function() {
        return r
    }), n.prototype = Object.create(Error.prototype);
    var r = n
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return s
    });
    var n = i(11),
        r = i(89),
        o = i(91),
        s = function() {
            function t(t, e, i) {
                this.kind = t, this.value = e, this.error = i, this.hasValue = "N" === t
            }
            return t.prototype.observe = function(t) {
                switch (this.kind) {
                    case "N":
                        return t.next && t.next(this.value);
                    case "E":
                        return t.error && t.error(this.error);
                    case "C":
                        return t.complete && t.complete()
                }
            }, t.prototype.do = function(t, e, i) {
                switch (this.kind) {
                    case "N":
                        return t && t(this.value);
                    case "E":
                        return e && e(this.error);
                    case "C":
                        return i && i()
                }
            }, t.prototype.accept = function(t, e, i) {
                return t && "function" == typeof t.next ? this.observe(t) : this.do(t, e, i)
            }, t.prototype.toObservable = function() {
                switch (this.kind) {
                    case "N":
                        return Object(r.a)(this.value);
                    case "E":
                        return Object(o.a)(this.error);
                    case "C":
                        return Object(n.b)()
                }
                throw new Error("unexpected notification kind value")
            }, t.createNext = function(e) {
                return void 0 !== e ? new t("N", e) : t.undefinedValueNotification
            }, t.createError = function(e) {
                return new t("E", void 0, e)
            }, t.createComplete = function() {
                return t.completeNotification
            }, t.completeNotification = new t("C"), t.undefinedValueNotification = new t("N", void 0), t
        }()
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return s
    });
    var n = i(0),
        r = i(8),
        o = i(5),
        s = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.value = null, e.hasNext = !1, e.hasCompleted = !1, e
            }
            return n.a(e, t), e.prototype._subscribe = function(e) {
                return this.hasError ? (e.error(this.thrownError), o.a.EMPTY) : this.hasCompleted && this.hasNext ? (e.next(this.value), e.complete(), o.a.EMPTY) : t.prototype._subscribe.call(this, e)
            }, e.prototype.next = function(t) {
                this.hasCompleted || (this.value = t, this.hasNext = !0)
            }, e.prototype.error = function(e) {
                this.hasCompleted || t.prototype.error.call(this, e)
            }, e.prototype.complete = function() {
                this.hasCompleted = !0, this.hasNext && t.prototype.next.call(this, this.value), t.prototype.complete.call(this)
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    e.a = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        if (1 === t.length || 2 === t.length && Object(n.a)(t[1])) return Object(o.a)(t[0]);
        return Object(s.a)()(r.a.apply(void 0, t))
    };
    var n = i(15),
        r = i(89),
        o = i(20),
        s = i(142)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return !Object(n.a)(t) && t - parseFloat(t) + 1 >= 0
    };
    var n = i(10)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return o
    });
    var n = i(151),
        r = i(47),
        o = function(t) {
            return void 0 === t && (t = s), Object(n.a)({
                hasValue: !1,
                next: function() {
                    this.hasValue = !0
                },
                complete: function() {
                    if (!this.hasValue) throw t()
                }
            })
        };

    function s() {
        return new r.a
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        if (arguments.length >= 2) return function(i) {
            return Object(s.a)(Object(n.a)(t, e), Object(r.a)(1), Object(o.a)(e))(i)
        };
        return function(e) {
            return Object(s.a)(Object(n.a)(function(e, i, n) {
                return t(e, i, n + 1)
            }), Object(r.a)(1))(e)
        }
    };
    var n = i(98),
        r = i(97),
        o = i(50),
        s = i(86)
}, function(t, e, i) {
    "use strict";
    e.__esModule = !0;
    var n = s(i(160)),
        r = s(i(111)),
        o = "function" == typeof r.default && "symbol" == typeof n.default ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof r.default && t.constructor === r.default && t !== r.default.prototype ? "symbol" : typeof t
        };

    function s(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.default = "function" == typeof r.default && "symbol" === o(n.default) ? function(t) {
        return void 0 === t ? "undefined" : o(t)
    } : function(t) {
        return t && "function" == typeof r.default && t.constructor === r.default && t !== r.default.prototype ? "symbol" : void 0 === t ? "undefined" : o(t)
    }
}, function(t, e) {
    var i = Math.ceil,
        n = Math.floor;
    t.exports = function(t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? n : i)(t)
    }
}, function(t, e) {
    t.exports = function(t) {
        if (void 0 == t) throw TypeError("Can't call method on  " + t);
        return t
    }
}, function(t, e, i) {
    var n = i(34);
    t.exports = function(t, e) {
        if (!n(t)) return t;
        var i, r;
        if (e && "function" == typeof(i = t.toString) && !n(r = i.call(t))) return r;
        if ("function" == typeof(i = t.valueOf) && !n(r = i.call(t))) return r;
        if (!e && "function" == typeof(i = t.toString) && !n(r = i.call(t))) return r;
        throw TypeError("Can't convert object to primitive value")
    }
}, function(t, e) {
    t.exports = {}
}, function(t, e, i) {
    var n = i(42),
        r = i(166),
        o = i(75),
        s = i(73)("IE_PROTO"),
        a = function() {},
        c = function() {
            var t, e = i(105)("iframe"),
                n = o.length;
            for (e.style.display = "none", i(170).appendChild(e), e.src = "javascript:", (t = e.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), c = t.F; n--;) delete c.prototype[o[n]];
            return c()
        };
    t.exports = Object.create || function(t, e) {
        var i;
        return null !== t ? (a.prototype = n(t), i = new a, a.prototype = null, i[s] = t) : i = c(), void 0 === e ? i : r(i, e)
    }
}, function(t, e, i) {
    var n = i(74)("keys"),
        r = i(55);
    t.exports = function(t) {
        return n[t] || (n[t] = r(t))
    }
}, function(t, e, i) {
    var n = i(17),
        r = i(21),
        o = r["__core-js_shared__"] || (r["__core-js_shared__"] = {});
    (t.exports = function(t, e) {
        return o[t] || (o[t] = void 0 !== e ? e : {})
    })("versions", []).push({
        version: n.version,
        mode: i(52) ? "pure" : "global",
        copyright: " 2018 Denis Pushkarev (zloirock.ru)"
    })
}, function(t, e) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function(t, e, i) {
    var n = i(26).f,
        r = i(28),
        o = i(36)("toStringTag");
    t.exports = function(t, e, i) {
        t && !r(t = i ? t : t.prototype, o) && n(t, o, {
            configurable: !0,
            value: e
        })
    }
}, function(t, e, i) {
    var n = i(69);
    t.exports = function(t) {
        return Object(n(t))
    }
}, function(t, e, i) {
    e.f = i(36)
}, function(t, e, i) {
    var n = i(21),
        r = i(17),
        o = i(52),
        s = i(78),
        a = i(26).f;
    t.exports = function(t) {
        var e = r.Symbol || (r.Symbol = o ? {} : n.Symbol || {});
        "_" == t.charAt(0) || t in e || a(e, t, {
            value: s.f(t)
        })
    }
}, function(t, e) {
    e.f = Object.getOwnPropertySymbols
}, function(t, e, i) {
    var n = i(56),
        r = i(53),
        o = i(29),
        s = i(70),
        a = i(28),
        c = i(104),
        l = Object.getOwnPropertyDescriptor;
    e.f = i(27) ? l : function(t, e) {
        if (t = o(t), e = s(e, !0), c) try {
            return l(t, e)
        } catch (t) {}
        if (a(t, e)) return r(!n.f.call(t, e), t[e])
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(18);
    n.e._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function() {
        var t = function(t) {
                n.c.call(this, t), this._labels = {}, this.autoRemoveChildren = !0 === this.vars.autoRemoveChildren, this.smoothChildTiming = !0 === this.vars.smoothChildTiming, this._sortChildren = !0, this._onUpdate = this.vars.onUpdate;
                var e, i, r = this.vars;
                for (i in r) e = r[i], o(e) && -1 !== e.join("").indexOf("{self}") && (r[i] = this._swapSelfInParams(e));
                o(r.tweens) && this.add(r.tweens, 0, r.align, r.stagger)
            },
            e = n.f._internals,
            i = t._internals = {},
            r = e.isSelector,
            o = e.isArray,
            s = e.lazyTweens,
            a = e.lazyRender,
            c = n.e._gsDefine.globals,
            l = function(t) {
                var e, i = {};
                for (e in t) i[e] = t[e];
                return i
            },
            u = function(t, e, i) {
                var n, r, o = t.cycle;
                for (n in o) r = o[n], t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
                delete t.cycle
            },
            h = i.pauseCallback = function() {},
            p = function(t) {
                var e, i = [],
                    n = t.length;
                for (e = 0; e !== n; i.push(t[e++]));
                return i
            },
            d = t.prototype = new n.c;
        return t.version = "2.0.2", d.constructor = t, d.kill()._gc = d._forcingPlayhead = d._hasPause = !1, d.to = function(t, e, i, r) {
            var o = i.repeat && c.TweenMax || n.f;
            return e ? this.add(new o(t, e, i), r) : this.set(t, i, r)
        }, d.from = function(t, e, i, r) {
            return this.add((i.repeat && c.TweenMax || n.f).from(t, e, i), r)
        }, d.fromTo = function(t, e, i, r, o) {
            var s = r.repeat && c.TweenMax || n.f;
            return e ? this.add(s.fromTo(t, e, i, r), o) : this.set(t, r, o)
        }, d.staggerTo = function(e, i, o, s, a, c, h, d) {
            var f, m, v = new t({
                    onComplete: c,
                    onCompleteParams: h,
                    callbackScope: d,
                    smoothChildTiming: this.smoothChildTiming
                }),
                g = o.cycle;
            for ("string" == typeof e && (e = n.f.selector(e) || e), r(e = e || []) && (e = p(e)), (s = s || 0) < 0 && ((e = p(e)).reverse(), s *= -1), m = 0; m < e.length; m++)(f = l(o)).startAt && (f.startAt = l(f.startAt), f.startAt.cycle && u(f.startAt, e, m)), g && (u(f, e, m), null != f.duration && (i = f.duration, delete f.duration)), v.to(e[m], i, f, m * s);
            return this.add(v, a)
        }, d.staggerFrom = function(t, e, i, n, r, o, s, a) {
            return i.immediateRender = 0 != i.immediateRender, i.runBackwards = !0, this.staggerTo(t, e, i, n, r, o, s, a)
        }, d.staggerFromTo = function(t, e, i, n, r, o, s, a, c) {
            return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, this.staggerTo(t, e, n, r, o, s, a, c)
        }, d.call = function(t, e, i, r) {
            return this.add(n.f.delayedCall(0, t, e, i), r)
        }, d.set = function(t, e, i) {
            return i = this._parseTimeOrLabel(i, 0, !0), null == e.immediateRender && (e.immediateRender = i === this._time && !this._paused), this.add(new n.f(t, 0, e), i)
        }, t.exportRoot = function(e, i) {
            null == (e = e || {}).smoothChildTiming && (e.smoothChildTiming = !0);
            var r, o, s, a, c = new t(e),
                l = c._timeline;
            for (null == i && (i = !0), l._remove(c, !0), c._startTime = 0, c._rawPrevTime = c._time = c._totalTime = l._time, s = l._first; s;) a = s._next, i && s instanceof n.f && s.target === s.vars.onComplete || ((o = s._startTime - s._delay) < 0 && (r = 1), c.add(s, o)), s = a;
            return l.add(c, 0), r && c.totalDuration(), c
        }, d.add = function(e, i, r, s) {
            var a, c, l, u, h, p;
            if ("number" != typeof i && (i = this._parseTimeOrLabel(i, 0, !0, e)), !(e instanceof n.a)) {
                if (e instanceof Array || e && e.push && o(e)) {
                    for (r = r || "normal", s = s || 0, a = i, c = e.length, l = 0; l < c; l++) o(u = e[l]) && (u = new t({
                        tweens: u
                    })), this.add(u, a), "string" != typeof u && "function" != typeof u && ("sequence" === r ? a = u._startTime + u.totalDuration() / u._timeScale : "start" === r && (u._startTime -= u.delay())), a += s;
                    return this._uncache(!0)
                }
                if ("string" == typeof e) return this.addLabel(e, i);
                if ("function" != typeof e) throw "Cannot add " + e + " into the timeline; it is not a tween, timeline, function, or string.";
                e = n.f.delayedCall(0, e)
            }
            if (n.c.prototype.add.call(this, e, i), e._time && (a = Math.max(0, Math.min(e.totalDuration(), (this.rawTime() - e._startTime) * e._timeScale)), Math.abs(a - e._totalTime) > 1e-5 && e.render(a, !1, !1)), (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration())
                for (p = (h = this).rawTime() > e._startTime; h._timeline;) p && h._timeline.smoothChildTiming ? h.totalTime(h._totalTime, !0) : h._gc && h._enabled(!0, !1), h = h._timeline;
            return this
        }, d.remove = function(t) {
            if (t instanceof n.a) {
                this._remove(t, !1);
                var e = t._timeline = t.vars.useFrames ? n.a._rootFramesTimeline : n.a._rootTimeline;
                return t._startTime = (t._paused ? t._pauseTime : e._time) - (t._reversed ? t.totalDuration() - t._totalTime : t._totalTime) / t._timeScale, this
            }
            if (t instanceof Array || t && t.push && o(t)) {
                for (var i = t.length; --i > -1;) this.remove(t[i]);
                return this
            }
            return "string" == typeof t ? this.removeLabel(t) : this.kill(null, t)
        }, d._remove = function(t, e) {
            return n.c.prototype._remove.call(this, t, e), this._last ? this._time > this.duration() && (this._time = this._duration, this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0, this
        }, d.append = function(t, e) {
            return this.add(t, this._parseTimeOrLabel(null, e, !0, t))
        }, d.insert = d.insertMultiple = function(t, e, i, n) {
            return this.add(t, e || 0, i, n)
        }, d.appendMultiple = function(t, e, i, n) {
            return this.add(t, this._parseTimeOrLabel(null, e, !0, t), i, n)
        }, d.addLabel = function(t, e) {
            return this._labels[t] = this._parseTimeOrLabel(e), this
        }, d.addPause = function(t, e, i, r) {
            var o = n.f.delayedCall(0, h, i, r || this);
            return o.vars.onComplete = o.vars.onReverseComplete = e, o.data = "isPause", this._hasPause = !0, this.add(o, t)
        }, d.removeLabel = function(t) {
            return delete this._labels[t], this
        }, d.getLabelTime = function(t) {
            return null != this._labels[t] ? this._labels[t] : -1
        }, d._parseTimeOrLabel = function(t, e, i, r) {
            var s, a;
            if (r instanceof n.a && r.timeline === this) this.remove(r);
            else if (r && (r instanceof Array || r.push && o(r)))
                for (a = r.length; --a > -1;) r[a] instanceof n.a && r[a].timeline === this && this.remove(r[a]);
            if (s = "number" != typeof t || e ? this.duration() > 99999999999 ? this.recent().endTime(!1) : this._duration : 0, "string" == typeof e) return this._parseTimeOrLabel(e, i && "number" == typeof t && null == this._labels[e] ? t - s : 0, i);
            if (e = e || 0, "string" != typeof t || !isNaN(t) && null == this._labels[t]) null == t && (t = s);
            else {
                if (-1 === (a = t.indexOf("="))) return null == this._labels[t] ? i ? this._labels[t] = s + e : e : this._labels[t] + e;
                e = parseInt(t.charAt(a - 1) + "1", 10) * Number(t.substr(a + 1)), t = a > 1 ? this._parseTimeOrLabel(t.substr(0, a - 1), 0, i) : s
            }
            return Number(t) + e
        }, d.seek = function(t, e) {
            return this.totalTime("number" == typeof t ? t : this._parseTimeOrLabel(t), !1 !== e)
        }, d.stop = function() {
            return this.paused(!0)
        }, d.gotoAndPlay = function(t, e) {
            return this.play(t, e)
        }, d.gotoAndStop = function(t, e) {
            return this.pause(t, e)
        }, d.render = function(t, e, i) {
            this._gc && this._enabled(!0, !1);
            var n, r, o, c, l, u, h, p = this._time,
                d = this._dirty ? this.totalDuration() : this._totalDuration,
                f = this._startTime,
                m = this._timeScale,
                v = this._paused;
            if (p !== this._time && (t += this._time - p), t >= d - 1e-7 && t >= 0) this._totalTime = this._time = d, this._reversed || this._hasPausedChild() || (r = !0, c = "onComplete", l = !!this._timeline.autoRemoveChildren, 0 === this._duration && (t <= 0 && t >= -1e-7 || this._rawPrevTime < 0 || 1e-10 === this._rawPrevTime) && this._rawPrevTime !== t && this._first && (l = !0, this._rawPrevTime > 1e-10 && (c = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : 1e-10, t = d + 1e-4;
            else if (t < 1e-7)
                if (this._totalTime = this._time = 0, (0 !== p || 0 === this._duration && 1e-10 !== this._rawPrevTime && (this._rawPrevTime > 0 || t < 0 && this._rawPrevTime >= 0)) && (c = "onReverseComplete", r = this._reversed), t < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (l = r = !0, c = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (l = !0), this._rawPrevTime = t;
                else {
                    if (this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : 1e-10, 0 === t && r)
                        for (n = this._first; n && 0 === n._startTime;) n._duration || (r = !1), n = n._next;
                    t = 0, this._initted || (l = !0)
                } else {
                if (this._hasPause && !this._forcingPlayhead && !e) {
                    if (t >= p)
                        for (n = this._first; n && n._startTime <= t && !u;) n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (u = n), n = n._next;
                    else
                        for (n = this._last; n && n._startTime >= t && !u;) n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (u = n), n = n._prev;
                    u && (this._time = t = u._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
                }
                this._totalTime = this._time = this._rawPrevTime = t
            }
            if (this._time !== p && this._first || i || l || u) {
                if (this._initted || (this._initted = !0), this._active || !this._paused && this._time !== p && t > 0 && (this._active = !0), 0 === p && this.vars.onStart && (0 === this._time && this._duration || e || this._callback("onStart")), (h = this._time) >= p)
                    for (n = this._first; n && (o = n._next, h === this._time && (!this._paused || v));)(n._active || n._startTime <= h && !n._paused && !n._gc) && (u === n && this.pause(), n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)), n = o;
                else
                    for (n = this._last; n && (o = n._prev, h === this._time && (!this._paused || v));) {
                        if (n._active || n._startTime <= p && !n._paused && !n._gc) {
                            if (u === n) {
                                for (u = n._prev; u && u.endTime() > this._time;) u.render(u._reversed ? u.totalDuration() - (t - u._startTime) * u._timeScale : (t - u._startTime) * u._timeScale, e, i), u = u._prev;
                                u = null, this.pause()
                            }
                            n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)
                        }
                        n = o
                    }
                this._onUpdate && (e || (s.length && a(), this._callback("onUpdate"))), c && (this._gc || f !== this._startTime && m === this._timeScale || (0 === this._time || d >= this.totalDuration()) && (r && (s.length && a(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[c] && this._callback(c)))
            }
        }, d._hasPausedChild = function() {
            for (var e = this._first; e;) {
                if (e._paused || e instanceof t && e._hasPausedChild()) return !0;
                e = e._next
            }
            return !1
        }, d.getChildren = function(t, e, i, r) {
            r = r || -9999999999;
            for (var o = [], s = this._first, a = 0; s;) s._startTime < r || (s instanceof n.f ? !1 !== e && (o[a++] = s) : (!1 !== i && (o[a++] = s), !1 !== t && (a = (o = o.concat(s.getChildren(!0, e, i))).length))), s = s._next;
            return o
        }, d.getTweensOf = function(t, e) {
            var i, r, o = this._gc,
                s = [],
                a = 0;
            for (o && this._enabled(!0, !0), r = (i = n.f.getTweensOf(t)).length; --r > -1;)(i[r].timeline === this || e && this._contains(i[r])) && (s[a++] = i[r]);
            return o && this._enabled(!1, !0), s
        }, d.recent = function() {
            return this._recent
        }, d._contains = function(t) {
            for (var e = t.timeline; e;) {
                if (e === this) return !0;
                e = e.timeline
            }
            return !1
        }, d.shiftChildren = function(t, e, i) {
            i = i || 0;
            for (var n, r = this._first, o = this._labels; r;) r._startTime >= i && (r._startTime += t), r = r._next;
            if (e)
                for (n in o) o[n] >= i && (o[n] += t);
            return this._uncache(!0)
        }, d._kill = function(t, e) {
            if (!t && !e) return this._enabled(!1, !1);
            for (var i = e ? this.getTweensOf(e) : this.getChildren(!0, !0, !1), n = i.length, r = !1; --n > -1;) i[n]._kill(t, e) && (r = !0);
            return r
        }, d.clear = function(t) {
            var e = this.getChildren(!1, !0, !0),
                i = e.length;
            for (this._time = this._totalTime = 0; --i > -1;) e[i]._enabled(!1, !1);
            return !1 !== t && (this._labels = {}), this._uncache(!0)
        }, d.invalidate = function() {
            for (var t = this._first; t;) t.invalidate(), t = t._next;
            return n.a.prototype.invalidate.call(this)
        }, d._enabled = function(t, e) {
            if (t === this._gc)
                for (var i = this._first; i;) i._enabled(t, !0), i = i._next;
            return n.c.prototype._enabled.call(this, t, e)
        }, d.totalTime = function(t, e, i) {
            this._forcingPlayhead = !0;
            var r = n.a.prototype.totalTime.apply(this, arguments);
            return this._forcingPlayhead = !1, r
        }, d.duration = function(t) {
            return arguments.length ? (0 !== this.duration() && 0 !== t && this.timeScale(this._duration / t), this) : (this._dirty && this.totalDuration(), this._duration)
        }, d.totalDuration = function(t) {
            if (!arguments.length) {
                if (this._dirty) {
                    for (var e, i, n = 0, r = this._last, o = 999999999999; r;) e = r._prev, r._dirty && r.totalDuration(), r._startTime > o && this._sortChildren && !r._paused && !this._calculatingDuration ? (this._calculatingDuration = 1, this.add(r, r._startTime - r._delay), this._calculatingDuration = 0) : o = r._startTime, r._startTime < 0 && !r._paused && (n -= r._startTime, this._timeline.smoothChildTiming && (this._startTime += r._startTime / this._timeScale, this._time -= r._startTime, this._totalTime -= r._startTime, this._rawPrevTime -= r._startTime), this.shiftChildren(-r._startTime, !1, -9999999999), o = 0), (i = r._startTime + r._totalDuration / r._timeScale) > n && (n = i), r = e;
                    this._duration = this._totalDuration = n, this._dirty = !1
                }
                return this._totalDuration
            }
            return t && this.totalDuration() ? this.timeScale(this._totalDuration / t) : this
        }, d.paused = function(t) {
            if (!t)
                for (var e = this._first, i = this._time; e;) e._startTime === i && "isPause" === e.data && (e._rawPrevTime = 0), e = e._next;
            return n.a.prototype.paused.apply(this, arguments)
        }, d.usesFrames = function() {
            for (var t = this._timeline; t._timeline;) t = t._timeline;
            return t === n.a._rootFramesTimeline
        }, d.rawTime = function(t) {
            return t && (this._paused || this._repeat && this.time() > 0 && this.totalProgress() < 1) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(t) - this._startTime) * this._timeScale
        }, t
    }, !0);
    var r = n.g.TimelineLite
}, function(t, e, i) {
    "use strict";
    var n = i(6),
        r = i.n(n),
        o = i(7),
        s = i.n(o),
        a = i(111),
        c = i.n(a),
        l = c()(),
        u = c()(),
        h = function() {
            function t(e) {
                if (r()(this, t), e !== u) throw new Error("can not construct [SingletonModel].");
                var i = this;
                i.modalLayers = {}, i.isShowBodyFixedLayer = !1, i.isEnableMouseWheel = !0, i.pageIndexObj = {
                    d1: 0
                }, i.pages = []
            }
            return s()(t, null, [{
                key: "getInstance",
                value: function() {
                    return this[l] || (this[l] = new t(u)), this[l]
                }
            }]), t
        }();
    e.a = h
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        setTimeout(function() {
            throw t
        })
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = "function" == typeof Symbol && "function" == typeof Symbol.for ? Symbol.for("rxSubscriber") : "@@rxSubscriber"
}, function(t, e, i) {
    "use strict";
    e.a = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return r(t)
    }, e.b = r;
    var n = i(59);

    function r(t) {
        return t ? 1 === t.length ? t[0] : function(e) {
            return t.reduce(function(t, e) {
                return e(t)
            }, e)
        } : n.a
    }
}, function(t, e, i) {
    "use strict";
    e.a = function() {
        return function(t) {
            return t.lift(new o(t))
        }
    };
    var n = i(0),
        r = i(1);
    var o = function() {
            function t(t) {
                this.connectable = t
            }
            return t.prototype.call = function(t, e) {
                var i = this.connectable;
                i._refCount++;
                var n = new s(t, i),
                    r = e.subscribe(n);
                return n.closed || (n.connection = i.connect()), r
            }, t
        }(),
        s = function(t) {
            function e(e, i) {
                var n = t.call(this, e) || this;
                return n.connectable = i, n
            }
            return n.a(e, t), e.prototype._unsubscribe = function() {
                var t = this.connectable;
                if (t) {
                    this.connectable = null;
                    var e = t._refCount;
                    if (e <= 0) this.connection = null;
                    else if (t._refCount = e - 1, e > 1) this.connection = null;
                    else {
                        var i = this.connection,
                            n = t._connection;
                        this.connection = null, !n || i && n !== i || n.unsubscribe()
                    }
                } else this.connection = null
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return u
    });
    var n = i(0),
        r = i(8),
        o = i(130),
        s = i(5),
        a = i(132),
        c = i(60),
        l = i(127),
        u = function(t) {
            function e(e, i, n) {
                void 0 === e && (e = Number.POSITIVE_INFINITY), void 0 === i && (i = Number.POSITIVE_INFINITY);
                var r = t.call(this) || this;
                return r.scheduler = n, r._events = [], r._infiniteTimeWindow = !1, r._bufferSize = e < 1 ? 1 : e, r._windowTime = i < 1 ? 1 : i, i === Number.POSITIVE_INFINITY ? (r._infiniteTimeWindow = !0, r.next = r.nextInfiniteTimeWindow) : r.next = r.nextTimeWindow, r
            }
            return n.a(e, t), e.prototype.nextInfiniteTimeWindow = function(e) {
                var i = this._events;
                i.push(e), i.length > this._bufferSize && i.shift(), t.prototype.next.call(this, e)
            }, e.prototype.nextTimeWindow = function(e) {
                this._events.push(new h(this._getNow(), e)), this._trimBufferThenGetEvents(), t.prototype.next.call(this, e)
            }, e.prototype._subscribe = function(t) {
                var e, i = this._infiniteTimeWindow,
                    n = i ? this._events : this._trimBufferThenGetEvents(),
                    r = this.scheduler,
                    o = n.length;
                if (this.closed) throw new c.a;
                if (this.isStopped || this.hasError ? e = s.a.EMPTY : (this.observers.push(t), e = new l.a(this, t)), r && t.add(t = new a.a(t, r)), i)
                    for (var u = 0; u < o && !t.closed; u++) t.next(n[u]);
                else
                    for (u = 0; u < o && !t.closed; u++) t.next(n[u].value);
                return this.hasError ? t.error(this.thrownError) : this.isStopped && t.complete(), e
            }, e.prototype._getNow = function() {
                return (this.scheduler || o.a).now()
            }, e.prototype._trimBufferThenGetEvents = function() {
                for (var t = this._getNow(), e = this._bufferSize, i = this._windowTime, n = this._events, r = n.length, o = 0; o < r && !(t - n[o].time < i);) o++;
                return r > e && (o = Math.max(o, r - e)), o > 0 && n.splice(0, o), n
            }, e
        }(r.a),
        h = function() {
            return function(t, e) {
                this.time = t, this.value = e
            }
        }()
}, function(t, e, i) {
    "use strict";
    e.a = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var i = t[t.length - 1];
        Object(n.a)(i) ? t.pop() : i = void 0;
        switch (t.length) {
            case 0:
                return Object(o.b)(i);
            case 1:
                return i ? Object(r.a)(t, i) : Object(s.a)(t[0]);
            default:
                return Object(r.a)(t, i)
        }
    };
    var n = i(15),
        r = i(22),
        o = i(11),
        s = i(90)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        var e = new n.a(function(e) {
            e.next(t), e.complete()
        });
        return e._isScalar = !0, e.value = t, e
    };
    var n = i(2)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return e ? new n.a(function(i) {
            return e.schedule(r, 0, {
                error: t,
                subscriber: i
            })
        }) : new n.a(function(e) {
            return e.error(t)
        })
    };
    var n = i(2);

    function r(t) {
        var e = t.error;
        t.subscriber.error(e)
    }
}, function(t, e, i) {
    "use strict";
    e.b = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var i = null,
            n = null;
        Object(r.a)(t[t.length - 1]) && (n = t.pop());
        "function" == typeof t[t.length - 1] && (i = t.pop());
        1 === t.length && Object(o.a)(t[0]) && (t = t[0]);
        return Object(c.a)(t, n).lift(new u(i))
    }, i.d(e, "a", function() {
        return u
    });
    var n = i(0),
        r = i(15),
        o = i(10),
        s = i(3),
        a = i(4),
        c = i(22),
        l = {};
    var u = function() {
            function t(t) {
                this.resultSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new h(t, this.resultSelector))
            }, t
        }(),
        h = function(t) {
            function e(e, i) {
                var n = t.call(this, e) || this;
                return n.resultSelector = i, n.active = 0, n.values = [], n.observables = [], n
            }
            return n.a(e, t), e.prototype._next = function(t) {
                this.values.push(l), this.observables.push(t)
            }, e.prototype._complete = function() {
                var t = this.observables,
                    e = t.length;
                if (0 === e) this.destination.complete();
                else {
                    this.active = e, this.toRespond = e;
                    for (var i = 0; i < e; i++) {
                        var n = t[i];
                        this.add(Object(a.a)(this, n, n, i))
                    }
                }
            }, e.prototype.notifyComplete = function(t) {
                0 == (this.active -= 1) && this.destination.complete()
            }, e.prototype.notifyNext = function(t, e, i, n, r) {
                var o = this.values,
                    s = o[i],
                    a = this.toRespond ? s === l ? --this.toRespond : this.toRespond : 0;
                o[i] = e, 0 === a && (this.resultSelector ? this._tryResultSelector(o) : this.destination.next(o.slice()))
            }, e.prototype._tryResultSelector = function(t) {
                var e;
                try {
                    e = this.resultSelector.apply(this, t)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.next(e)
            }, e
        }(s.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        void 0 === t && (t = Number.POSITIVE_INFINITY);
        return Object(n.a)(r.a, t)
    };
    var n = i(49),
        r = i(39)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return new n.a(function(e) {
            var i;
            try {
                i = t()
            } catch (t) {
                return void e.error(t)
            }
            var n = i ? Object(r.a)(i) : Object(o.b)();
            return n.subscribe(e)
        })
    };
    var n = i(2),
        r = i(20),
        o = i(11)
}, function(t, e, i) {
    "use strict";
    e.b = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var i = t[t.length - 1];
        "function" == typeof i && t.pop();
        return Object(r.a)(t, void 0).lift(new u(i))
    }, i.d(e, "a", function() {
        return u
    });
    var n = i(0),
        r = i(22),
        o = i(10),
        s = i(1),
        a = i(3),
        c = i(4),
        l = i(48);
    var u = function() {
            function t(t) {
                this.resultSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new h(t, this.resultSelector))
            }, t
        }(),
        h = function(t) {
            function e(e, i, n) {
                void 0 === n && (n = Object.create(null));
                var r = t.call(this, e) || this;
                return r.iterators = [], r.active = 0, r.resultSelector = "function" == typeof i ? i : null, r.values = n, r
            }
            return n.a(e, t), e.prototype._next = function(t) {
                var e = this.iterators;
                Object(o.a)(t) ? e.push(new d(t)) : "function" == typeof t[l.a] ? e.push(new p(t[l.a]())) : e.push(new f(this.destination, this, t))
            }, e.prototype._complete = function() {
                var t = this.iterators,
                    e = t.length;
                if (0 !== e) {
                    this.active = e;
                    for (var i = 0; i < e; i++) {
                        var n = t[i];
                        n.stillUnsubscribed ? this.add(n.subscribe(n, i)) : this.active--
                    }
                } else this.destination.complete()
            }, e.prototype.notifyInactive = function() {
                this.active--, 0 === this.active && this.destination.complete()
            }, e.prototype.checkIterators = function() {
                for (var t = this.iterators, e = t.length, i = this.destination, n = 0; n < e; n++) {
                    if ("function" == typeof(s = t[n]).hasValue && !s.hasValue()) return
                }
                var r = !1,
                    o = [];
                for (n = 0; n < e; n++) {
                    var s, a = (s = t[n]).next();
                    if (s.hasCompleted() && (r = !0), a.done) return void i.complete();
                    o.push(a.value)
                }
                this.resultSelector ? this._tryresultSelector(o) : i.next(o), r && i.complete()
            }, e.prototype._tryresultSelector = function(t) {
                var e;
                try {
                    e = this.resultSelector.apply(this, t)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.next(e)
            }, e
        }(s.a),
        p = function() {
            function t(t) {
                this.iterator = t, this.nextResult = t.next()
            }
            return t.prototype.hasValue = function() {
                return !0
            }, t.prototype.next = function() {
                var t = this.nextResult;
                return this.nextResult = this.iterator.next(), t
            }, t.prototype.hasCompleted = function() {
                var t = this.nextResult;
                return t && t.done
            }, t
        }(),
        d = function() {
            function t(t) {
                this.array = t, this.index = 0, this.length = 0, this.length = t.length
            }
            return t.prototype[l.a] = function() {
                return this
            }, t.prototype.next = function(t) {
                var e = this.index++,
                    i = this.array;
                return e < this.length ? {
                    value: i[e],
                    done: !1
                } : {
                    value: null,
                    done: !0
                }
            }, t.prototype.hasValue = function() {
                return this.array.length > this.index
            }, t.prototype.hasCompleted = function() {
                return this.array.length === this.index
            }, t
        }(),
        f = function(t) {
            function e(e, i, n) {
                var r = t.call(this, e) || this;
                return r.parent = i, r.observable = n, r.stillUnsubscribed = !0, r.buffer = [], r.isComplete = !1, r
            }
            return n.a(e, t), e.prototype[l.a] = function() {
                return this
            }, e.prototype.next = function() {
                var t = this.buffer;
                return 0 === t.length && this.isComplete ? {
                    value: null,
                    done: !0
                } : {
                    value: t.shift(),
                    done: !1
                }
            }, e.prototype.hasValue = function() {
                return this.buffer.length > 0
            }, e.prototype.hasCompleted = function() {
                return 0 === this.buffer.length && this.isComplete
            }, e.prototype.notifyComplete = function() {
                this.buffer.length > 0 ? (this.isComplete = !0, this.parent.notifyInactive()) : this.destination.complete()
            }, e.prototype.notifyNext = function(t, e, i, n, r) {
                this.buffer.push(e), this.parent.checkIterators()
            }, e.prototype.subscribe = function(t, e) {
                return Object(c.a)(this, this.observable, this, e)
            }, e
        }(a.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return function(e) {
            return 0 === t ? Object(s.b)() : e.lift(new a(t))
        }
    };
    var n = i(0),
        r = i(1),
        o = i(46),
        s = i(11);
    var a = function() {
            function t(t) {
                if (this.total = t, this.total < 0) throw new o.a
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.total))
            }, t
        }(),
        c = function(t) {
            function e(e, i) {
                var n = t.call(this, e) || this;
                return n.total = i, n.count = 0, n
            }
            return n.a(e, t), e.prototype._next = function(t) {
                var e = this.total,
                    i = ++this.count;
                i <= e && (this.destination.next(t), i === e && (this.destination.complete(), this.unsubscribe()))
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return function(e) {
            return 0 === t ? Object(s.b)() : e.lift(new a(t))
        }
    };
    var n = i(0),
        r = i(1),
        o = i(46),
        s = i(11);
    var a = function() {
            function t(t) {
                if (this.total = t, this.total < 0) throw new o.a
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.total))
            }, t
        }(),
        c = function(t) {
            function e(e, i) {
                var n = t.call(this, e) || this;
                return n.total = i, n.ring = new Array, n.count = 0, n
            }
            return n.a(e, t), e.prototype._next = function(t) {
                var e = this.ring,
                    i = this.total,
                    n = this.count++;
                e.length < i ? e.push(t) : e[n % i] = t
            }, e.prototype._complete = function() {
                var t = this.destination,
                    e = this.count;
                if (e > 0)
                    for (var i = this.count >= this.total ? this.total : this.count, n = this.ring, r = 0; r < i; r++) {
                        var o = e++ % i;
                        t.next(n[o])
                    }
                t.complete()
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        var i = !1;
        arguments.length >= 2 && (i = !0);
        return function(n) {
            return n.lift(new o(t, e, i))
        }
    };
    var n = i(0),
        r = i(1);
    var o = function() {
            function t(t, e, i) {
                void 0 === i && (i = !1), this.accumulator = t, this.seed = e, this.hasSeed = i
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new s(t, this.accumulator, this.seed, this.hasSeed))
            }, t
        }(),
        s = function(t) {
            function e(e, i, n, r) {
                var o = t.call(this, e) || this;
                return o.accumulator = i, o._seed = n, o.hasSeed = r, o.index = 0, o
            }
            return n.a(e, t), Object.defineProperty(e.prototype, "seed", {
                get: function() {
                    return this._seed
                },
                set: function(t) {
                    this.hasSeed = !0, this._seed = t
                },
                enumerable: !0,
                configurable: !0
            }), e.prototype._next = function(t) {
                if (this.hasSeed) return this._tryNext(t);
                this.seed = t, this.destination.next(t)
            }, e.prototype._tryNext = function(t) {
                var e, i = this.index++;
                try {
                    e = this.accumulator(this.seed, t, i)
                } catch (t) {
                    this.destination.error(t)
                }
                this.seed = e, this.destination.next(e)
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    e.a = function t(e, i) {
        if ("function" == typeof i) return function(n) {
            return n.pipe(t(function(t, n) {
                return Object(c.a)(e(t, n)).pipe(Object(a.a)(function(e, r) {
                    return i(t, e, n, r)
                }))
            }))
        };
        return function(t) {
            return t.lift(new l(e))
        }
    };
    var n = i(0),
        r = i(3),
        o = i(23),
        s = i(4),
        a = i(16),
        c = i(20);
    var l = function() {
            function t(t) {
                this.project = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.project))
            }, t
        }(),
        u = function(t) {
            function e(e, i) {
                var n = t.call(this, e) || this;
                return n.project = i, n.index = 0, n
            }
            return n.a(e, t), e.prototype._next = function(t) {
                var e, i = this.index++;
                try {
                    e = this.project(t, i)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this._innerSub(e, t, i)
            }, e.prototype._innerSub = function(t, e, i) {
                var n = this.innerSubscription;
                n && n.unsubscribe();
                var r = new o.a(this, void 0, void 0);
                this.add(r), this.innerSubscription = Object(s.a)(this, t, e, i, r)
            }, e.prototype._complete = function() {
                var e = this.innerSubscription;
                e && !e.closed || t.prototype._complete.call(this)
            }, e.prototype._unsubscribe = function() {
                this.innerSubscription = null
            }, e.prototype.notifyComplete = function(e) {
                this.remove(e), this.innerSubscription = null, this.isStopped && t.prototype._complete.call(this)
            }, e.prototype.notifyNext = function(t, e, i, n, r) {
                this.destination.next(e)
            }, e
        }(r.a)
}, function(t, e, i) {
    t.exports = {
        default: i(305),
        __esModule: !0
    }
}, function(t, e) {
    t.exports = function(t) {
        if (!t.webpackPolyfill) {
            var e = Object.create(t);
            e.children || (e.children = []), Object.defineProperty(e, "loaded", {
                enumerable: !0,
                get: function() {
                    return e.l
                }
            }), Object.defineProperty(e, "id", {
                enumerable: !0,
                get: function() {
                    return e.i
                }
            }), Object.defineProperty(e, "exports", {
                enumerable: !0
            }), e.webpackPolyfill = 1
        }
        return e
    }
}, function(t, e, i) {
    "use strict";
    var n = i(52),
        r = i(25),
        o = i(106),
        s = i(33),
        a = i(71),
        c = i(165),
        l = i(76),
        u = i(110),
        h = i(36)("iterator"),
        p = !([].keys && "next" in [].keys()),
        d = function() {
            return this
        };
    t.exports = function(t, e, i, f, m, v, g) {
        c(i, e, f);
        var y, _, b, x = function(t) {
                if (!p && t in T) return T[t];
                switch (t) {
                    case "keys":
                    case "values":
                        return function() {
                            return new i(this, t)
                        }
                }
                return function() {
                    return new i(this, t)
                }
            },
            w = e + " Iterator",
            S = "values" == m,
            M = !1,
            T = t.prototype,
            A = T[h] || T["@@iterator"] || m && T[m],
            C = A || x(m),
            E = m ? S ? x("entries") : C : void 0,
            O = "Array" == e && T.entries || A;
        if (O && (b = u(O.call(new t))) !== Object.prototype && b.next && (l(b, w, !0), n || "function" == typeof b[h] || s(b, h, d)), S && A && "values" !== A.name && (M = !0, C = function() {
                return A.call(this)
            }), n && !g || !p && !M && T[h] || s(T, h, C), a[e] = C, a[w] = d, m)
            if (y = {
                    values: S ? C : x("values"),
                    keys: v ? C : x("keys"),
                    entries: E
                }, g)
                for (_ in y) _ in T || o(T, _, y[_]);
            else r(r.P + r.F * (p || M), e, y);
        return y
    }
}, function(t, e, i) {
    var n = i(164);
    t.exports = function(t, e, i) {
        if (n(t), void 0 === e) return t;
        switch (i) {
            case 1:
                return function(i) {
                    return t.call(e, i)
                };
            case 2:
                return function(i, n) {
                    return t.call(e, i, n)
                };
            case 3:
                return function(i, n, r) {
                    return t.call(e, i, n, r)
                }
        }
        return function() {
            return t.apply(e, arguments)
        }
    }
}, function(t, e, i) {
    t.exports = !i(27) && !i(35)(function() {
        return 7 != Object.defineProperty(i(105)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(t, e, i) {
    var n = i(34),
        r = i(21).document,
        o = n(r) && n(r.createElement);
    t.exports = function(t) {
        return o ? r.createElement(t) : {}
    }
}, function(t, e, i) {
    t.exports = i(33)
}, function(t, e, i) {
    var n = i(28),
        r = i(29),
        o = i(167)(!1),
        s = i(73)("IE_PROTO");
    t.exports = function(t, e) {
        var i, a = r(t),
            c = 0,
            l = [];
        for (i in a) i != s && n(a, i) && l.push(i);
        for (; e.length > c;) n(a, i = e[c++]) && (~o(l, i) || l.push(i));
        return l
    }
}, function(t, e, i) {
    var n = i(109);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
        return "String" == n(t) ? t.split("") : Object(t)
    }
}, function(t, e) {
    var i = {}.toString;
    t.exports = function(t) {
        return i.call(t).slice(8, -1)
    }
}, function(t, e, i) {
    var n = i(28),
        r = i(77),
        o = i(73)("IE_PROTO"),
        s = Object.prototype;
    t.exports = Object.getPrototypeOf || function(t) {
        return t = r(t), n(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? s : null
    }
}, function(t, e, i) {
    t.exports = {
        default: i(175),
        __esModule: !0
    }
}, function(t, e, i) {
    var n = i(107),
        r = i(75).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function(t) {
        return n(t, r)
    }
}, function(t, e, i) {
    "use strict";
    i(18), i(82), i(114);
    var n = i(37);
    i(115), i(116), i(117), i(118), i(119), i(120);
    i.d(e, "a", function() {
        return n.a
    })
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return o
    });
    var n = i(18),
        r = i(82);
    n.e._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function() {
        var t = function(t) {
                r.a.call(this, t), this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._cycle = 0, this._yoyo = !0 === this.vars.yoyo, this._dirty = !0
            },
            e = n.f._internals,
            i = e.lazyTweens,
            o = e.lazyRender,
            s = n.e._gsDefine.globals,
            a = new n.b(null, null, 1, 0),
            c = t.prototype = new r.a;
        return c.constructor = t, c.kill()._gc = !1, t.version = "2.0.2", c.invalidate = function() {
            return this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), r.a.prototype.invalidate.call(this)
        }, c.addCallback = function(t, e, i, r) {
            return this.add(n.f.delayedCall(0, t, i, r), e)
        }, c.removeCallback = function(t, e) {
            if (t)
                if (null == e) this._kill(null, t);
                else
                    for (var i = this.getTweensOf(t, !1), n = i.length, r = this._parseTimeOrLabel(e); --n > -1;) i[n]._startTime === r && i[n]._enabled(!1, !1);
            return this
        }, c.removePause = function(t) {
            return this.removeCallback(r.a._internals.pauseCallback, t)
        }, c.tweenTo = function(t, e) {
            e = e || {};
            var i, r, o, c = {
                    ease: a,
                    useFrames: this.usesFrames(),
                    immediateRender: !1,
                    lazy: !1
                },
                l = e.repeat && s.TweenMax || n.f;
            for (r in e) c[r] = e[r];
            return c.time = this._parseTimeOrLabel(t), i = Math.abs(Number(c.time) - this._time) / this._timeScale || .001, o = new l(this, i, c), c.onStart = function() {
                o.target.paused(!0), o.vars.time === o.target.time() || i !== o.duration() || o.isFromTo || o.duration(Math.abs(o.vars.time - o.target.time()) / o.target._timeScale).render(o.time(), !0, !0), e.onStart && e.onStart.apply(e.onStartScope || e.callbackScope || o, e.onStartParams || [])
            }, o
        }, c.tweenFromTo = function(t, e, i) {
            i = i || {}, t = this._parseTimeOrLabel(t), i.startAt = {
                onComplete: this.seek,
                onCompleteParams: [t],
                callbackScope: this
            }, i.immediateRender = !1 !== i.immediateRender;
            var n = this.tweenTo(e, i);
            return n.isFromTo = 1, n.duration(Math.abs(n.vars.time - t) / this._timeScale || .001)
        }, c.render = function(t, e, n) {
            this._gc && this._enabled(!0, !1);
            var r, s, a, c, l, u, h, p, d = this._time,
                f = this._dirty ? this.totalDuration() : this._totalDuration,
                m = this._duration,
                v = this._totalTime,
                g = this._startTime,
                y = this._timeScale,
                _ = this._rawPrevTime,
                b = this._paused,
                x = this._cycle;
            if (d !== this._time && (t += this._time - d), t >= f - 1e-7 && t >= 0) this._locked || (this._totalTime = f, this._cycle = this._repeat), this._reversed || this._hasPausedChild() || (s = !0, c = "onComplete", l = !!this._timeline.autoRemoveChildren, 0 === this._duration && (t <= 0 && t >= -1e-7 || _ < 0 || 1e-10 === _) && _ !== t && this._first && (l = !0, _ > 1e-10 && (c = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : 1e-10, this._yoyo && 0 != (1 & this._cycle) ? this._time = t = 0 : (this._time = m, t = m + 1e-4);
            else if (t < 1e-7)
                if (this._locked || (this._totalTime = this._cycle = 0), this._time = 0, (0 !== d || 0 === m && 1e-10 !== _ && (_ > 0 || t < 0 && _ >= 0) && !this._locked) && (c = "onReverseComplete", s = this._reversed), t < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (l = s = !0, c = "onReverseComplete") : _ >= 0 && this._first && (l = !0), this._rawPrevTime = t;
                else {
                    if (this._rawPrevTime = m || !e || t || this._rawPrevTime === t ? t : 1e-10, 0 === t && s)
                        for (r = this._first; r && 0 === r._startTime;) r._duration || (s = !1), r = r._next;
                    t = 0, this._initted || (l = !0)
                } else if (0 === m && _ < 0 && (l = !0), this._time = this._rawPrevTime = t, this._locked || (this._totalTime = t, 0 !== this._repeat && (u = m + this._repeatDelay, this._cycle = this._totalTime / u >> 0, 0 !== this._cycle && this._cycle === this._totalTime / u && v <= t && this._cycle--, this._time = this._totalTime - this._cycle * u, this._yoyo && 0 != (1 & this._cycle) && (this._time = m - this._time), this._time > m ? (this._time = m, t = m + 1e-4) : this._time < 0 ? this._time = t = 0 : t = this._time)), this._hasPause && !this._forcingPlayhead && !e) {
                if ((t = this._time) >= d || this._repeat && x !== this._cycle)
                    for (r = this._first; r && r._startTime <= t && !h;) r._duration || "isPause" !== r.data || r.ratio || 0 === r._startTime && 0 === this._rawPrevTime || (h = r), r = r._next;
                else
                    for (r = this._last; r && r._startTime >= t && !h;) r._duration || "isPause" === r.data && r._rawPrevTime > 0 && (h = r), r = r._prev;
                h && h._startTime < m && (this._time = t = h._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
            }
            if (this._cycle !== x && !this._locked) {
                var w = this._yoyo && 0 != (1 & x),
                    S = w === (this._yoyo && 0 != (1 & this._cycle)),
                    M = this._totalTime,
                    T = this._cycle,
                    A = this._rawPrevTime,
                    C = this._time;
                if (this._totalTime = x * m, this._cycle < x ? w = !w : this._totalTime += m, this._time = d, this._rawPrevTime = 0 === m ? _ - 1e-4 : _, this._cycle = x, this._locked = !0, d = w ? 0 : m, this.render(d, e, 0 === m), e || this._gc || this.vars.onRepeat && (this._cycle = T, this._locked = !1, this._callback("onRepeat")), d !== this._time) return;
                if (S && (this._cycle = x, this._locked = !0, d = w ? m + 1e-4 : -1e-4, this.render(d, !0, !1)), this._locked = !1, this._paused && !b) return;
                this._time = C, this._totalTime = M, this._cycle = T, this._rawPrevTime = A
            }
            if (this._time !== d && this._first || n || l || h) {
                if (this._initted || (this._initted = !0), this._active || !this._paused && this._totalTime !== v && t > 0 && (this._active = !0), 0 === v && this.vars.onStart && (0 === this._totalTime && this._totalDuration || e || this._callback("onStart")), (p = this._time) >= d)
                    for (r = this._first; r && (a = r._next, p === this._time && (!this._paused || b));)(r._active || r._startTime <= this._time && !r._paused && !r._gc) && (h === r && this.pause(), r._reversed ? r.render((r._dirty ? r.totalDuration() : r._totalDuration) - (t - r._startTime) * r._timeScale, e, n) : r.render((t - r._startTime) * r._timeScale, e, n)), r = a;
                else
                    for (r = this._last; r && (a = r._prev, p === this._time && (!this._paused || b));) {
                        if (r._active || r._startTime <= d && !r._paused && !r._gc) {
                            if (h === r) {
                                for (h = r._prev; h && h.endTime() > this._time;) h.render(h._reversed ? h.totalDuration() - (t - h._startTime) * h._timeScale : (t - h._startTime) * h._timeScale, e, n), h = h._prev;
                                h = null, this.pause()
                            }
                            r._reversed ? r.render((r._dirty ? r.totalDuration() : r._totalDuration) - (t - r._startTime) * r._timeScale, e, n) : r.render((t - r._startTime) * r._timeScale, e, n)
                        }
                        r = a
                    }
                this._onUpdate && (e || (i.length && o(), this._callback("onUpdate"))), c && (this._locked || this._gc || g !== this._startTime && y === this._timeScale || (0 === this._time || f >= this.totalDuration()) && (s && (i.length && o(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[c] && this._callback(c)))
            } else v !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate"))
        }, c.getActive = function(t, e, i) {
            null == t && (t = !0), null == e && (e = !0), null == i && (i = !1);
            var n, r, o = [],
                s = this.getChildren(t, e, i),
                a = 0,
                c = s.length;
            for (n = 0; n < c; n++)(r = s[n]).isActive() && (o[a++] = r);
            return o
        }, c.getLabelAfter = function(t) {
            t || 0 !== t && (t = this._time);
            var e, i = this.getLabelsArray(),
                n = i.length;
            for (e = 0; e < n; e++)
                if (i[e].time > t) return i[e].name;
            return null
        }, c.getLabelBefore = function(t) {
            null == t && (t = this._time);
            for (var e = this.getLabelsArray(), i = e.length; --i > -1;)
                if (e[i].time < t) return e[i].name;
            return null
        }, c.getLabelsArray = function() {
            var t, e = [],
                i = 0;
            for (t in this._labels) e[i++] = {
                time: this._labels[t],
                name: t
            };
            return e.sort(function(t, e) {
                return t.time - e.time
            }), e
        }, c.invalidate = function() {
            return this._locked = !1, r.a.prototype.invalidate.call(this)
        }, c.progress = function(t, e) {
            return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration() || 0
        }, c.totalProgress = function(t, e) {
            return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration() || 0
        }, c.totalDuration = function(t) {
            return arguments.length ? -1 !== this._repeat && t ? this.timeScale(this.totalDuration() / t) : this : (this._dirty && (r.a.prototype.totalDuration.call(this), this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration)
        }, c.time = function(t, e) {
            return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
        }, c.repeat = function(t) {
            return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
        }, c.repeatDelay = function(t) {
            return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
        }, c.yoyo = function(t) {
            return arguments.length ? (this._yoyo = t, this) : this._yoyo
        }, c.currentLabel = function(t) {
            return arguments.length ? this.seek(t, !0) : this.getLabelBefore(this._time + 1e-8)
        }, t
    }, !0);
    var o = n.g.TimelineMax
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(18);
    n.e._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function() {
        var t, e, i, r, o = function() {
                n.d.call(this, "css"), this._overwriteProps.length = 0, this.setRatio = o.prototype.setRatio
            },
            s = n.e._gsDefine.globals,
            a = {},
            c = o.prototype = new n.d("css");
        c.constructor = o, o.version = "2.0.2", o.API = 2, o.defaultTransformPerspective = 0, o.defaultSkewType = "compensated", o.defaultSmoothOrigin = !0, c = "px", o.suffixMap = {
            top: c,
            right: c,
            bottom: c,
            left: c,
            width: c,
            height: c,
            fontSize: c,
            padding: c,
            margin: c,
            perspective: c,
            lineHeight: ""
        };
        var l, u, h, p, d, f, m, v, g = /(?:\-|\.|\b)(\d|\.|e\-)+/g,
            y = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
            _ = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
            b = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,
            x = /(?:\d|\-|\+|=|#|\.)*/g,
            w = /opacity *= *([^)]*)/i,
            S = /opacity:([^;]*)/i,
            M = /alpha\(opacity *=.+?\)/i,
            T = /^(rgb|hsl)/,
            A = /([A-Z])/g,
            C = /-([a-z])/gi,
            E = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,
            O = function(t, e) {
                return e.toUpperCase()
            },
            P = /(?:Left|Right|Width)/i,
            k = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
            L = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
            I = /,(?=[^\)]*(?:\(|$))/gi,
            R = /[\s,\(]/i,
            D = Math.PI / 180,
            N = 180 / Math.PI,
            z = {},
            F = {
                style: {}
            },
            B = n.e.document || {
                createElement: function() {
                    return F
                }
            },
            j = function(t, e) {
                return B.createElementNS ? B.createElementNS(e || "http://www.w3.org/1999/xhtml", t) : B.createElement(t)
            },
            U = j("div"),
            V = j("img"),
            G = o._internals = {
                _specialProps: a
            },
            W = (n.e.navigator || {}).userAgent || "",
            H = function() {
                var t = W.indexOf("Android"),
                    e = j("a");
                return h = -1 !== W.indexOf("Safari") && -1 === W.indexOf("Chrome") && (-1 === t || parseFloat(W.substr(t + 8, 2)) > 3), d = h && parseFloat(W.substr(W.indexOf("Version/index.html") + 8, 2)) < 6, p = -1 !== W.indexOf("Firefox"), (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W)) && (f = parseFloat(RegExp.$1)), !!e && (e.style.cssText = "top:1px;opacity:.55;", /^0.55/.test(e.style.opacity))
            }(),
            $ = function(t) {
                return w.test("string" == typeof t ? t : (t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
            },
            X = function(t) {
                n.e.console
            },
            q = "",
            Y = "",
            Z = function(t, e) {
                var i, n, r = (e = e || U).style;
                if (void 0 !== r[t]) return t;
                for (t = t.charAt(0).toUpperCase() + t.substr(1), i = ["O", "Moz", "ms", "Ms", "Webkit"], n = 5; --n > -1 && void 0 === r[i[n] + t];);
                return n >= 0 ? (q = "-" + (Y = 3 === n ? "ms" : i[n]).toLowerCase() + "-", Y + t) : null
            },
            J = ("undefined" != typeof window ? window : B.defaultView || {
                getComputedStyle: function() {}
            }).getComputedStyle,
            Q = o.getStyle = function(t, e, i, n, r) {
                var o;
                return H || "opacity" !== e ? (!n && t.style[e] ? o = t.style[e] : (i = i || J(t)) ? o = i[e] || i.getPropertyValue(e) || i.getPropertyValue(e.replace(A, "-$1").toLowerCase()) : t.currentStyle && (o = t.currentStyle[e]), null == r || o && "none" !== o && "auto" !== o && "auto auto" !== o ? o : r) : $(t)
            },
            K = G.convertToPixels = function(t, e, i, r, s) {
                if ("px" === r || !r && "lineHeight" !== e) return i;
                if ("auto" === r || !i) return 0;
                var a, c, l, u = P.test(e),
                    h = t,
                    p = U.style,
                    d = i < 0,
                    f = 1 === i;
                if (d && (i = -i), f && (i *= 100), "lineHeight" !== e || r)
                    if ("%" === r && -1 !== e.indexOf("border")) a = i / 100 * (u ? t.clientWidth : t.clientHeight);
                    else {
                        if (p.cssText = "border:0 solid red;position:" + Q(t, "position") + ";line-height:0;", "%" !== r && h.appendChild && "v" !== r.charAt(0) && "rem" !== r) p[u ? "borderLeftWidth" : "borderTopWidth"] = i + r;
                        else {
                            if (h = t.parentNode || B.body, -1 !== Q(h, "display").indexOf("flex") && (p.position = "absolute"), c = h._gsCache, l = n.f.ticker.frame, c && u && c.time === l) return c.width * i / 100;
                            p[u ? "width" : "height"] = i + r
                        }
                        h.appendChild(U), a = parseFloat(U[u ? "offsetWidth" : "offsetHeight"]), h.removeChild(U), u && "%" === r && !1 !== o.cacheWidths && ((c = h._gsCache = h._gsCache || {}).time = l, c.width = a / i * 100), 0 !== a || s || (a = K(t, e, i, r, !0))
                    } else c = J(t).lineHeight, t.style.lineHeight = i, a = parseFloat(J(t).lineHeight), t.style.lineHeight = c;
                return f && (a /= 100), d ? -a : a
            },
            tt = G.calculateOffset = function(t, e, i) {
                if ("absolute" !== Q(t, "position", i)) return 0;
                var n = "left" === e ? "Left" : "Top",
                    r = Q(t, "margin" + n, i);
                return t["offset" + n] - (K(t, e, parseFloat(r), r.replace(x, "")) || 0)
            },
            et = function(t, e) {
                var i, n, r, o = {};
                if (e = e || J(t, null))
                    if (i = e.length)
                        for (; --i > -1;) - 1 !== (r = e[i]).indexOf("-transform") && Lt !== r || (o[r.replace(C, O)] = e.getPropertyValue(r));
                    else
                        for (i in e) - 1 !== i.indexOf("Transform") && kt !== i || (o[i] = e[i]);
                else if (e = t.currentStyle || t.style)
                    for (i in e) "string" == typeof i && void 0 === o[i] && (o[i.replace(C, O)] = e[i]);
                return H || (o.opacity = $(t)), n = Ht(t, e, !1), o.rotation = n.rotation, o.skewX = n.skewX, o.scaleX = n.scaleX, o.scaleY = n.scaleY, o.x = n.x, o.y = n.y, Rt && (o.z = n.z, o.rotationX = n.rotationX, o.rotationY = n.rotationY, o.scaleZ = n.scaleZ), o.filters && delete o.filters, o
            },
            it = function(t, e, i, n, r) {
                var o, s, a, c = {},
                    l = t.style;
                for (s in i) "cssText" !== s && "length" !== s && isNaN(s) && (e[s] !== (o = i[s]) || r && r[s]) && -1 === s.indexOf("Origin") && ("number" != typeof o && "string" != typeof o || (c[s] = "auto" !== o || "left" !== s && "top" !== s ? "" !== o && "auto" !== o && "none" !== o || "string" != typeof e[s] || "" === e[s].replace(b, "") ? o : 0 : tt(t, s), void 0 !== l[s] && (a = new gt(l, s, l[s], a))));
                if (n)
                    for (s in n) "className" !== s && (c[s] = n[s]);
                return {
                    difs: c,
                    firstMPT: a
                }
            },
            nt = {
                width: ["Left", "Right"],
                height: ["Top", "Bottom"]
            },
            rt = ["marginLeft", "marginRight", "marginTop", "marginBottom"],
            ot = function(t, e, i) {
                if ("svg" === (t.nodeName + "").toLowerCase()) return (i || J(t))[e] || 0;
                if (t.getCTM && Vt(t)) return t.getBBox()[e] || 0;
                var n = parseFloat("width" === e ? t.offsetWidth : t.offsetHeight),
                    r = nt[e],
                    o = r.length;
                for (i = i || J(t, null); --o > -1;) n -= parseFloat(Q(t, "padding" + r[o], i, !0)) || 0, n -= parseFloat(Q(t, "border" + r[o] + "Width", i, !0)) || 0;
                return n
            },
            st = function(t, e) {
                if ("contain" === t || "auto" === t || "auto auto" === t) return t + " ";
                null != t && "" !== t || (t = "0 0");
                var i, n = t.split(" "),
                    r = -1 !== t.indexOf("left") ? "0%" : -1 !== t.indexOf("right") ? "100%" : n[0],
                    o = -1 !== t.indexOf("top") ? "0%" : -1 !== t.indexOf("bottom") ? "100%" : n[1];
                if (n.length > 3 && !e) {
                    for (n = t.split(", ").join(",").split(","), t = [], i = 0; i < n.length; i++) t.push(st(n[i]));
                    return t.join(",")
                }
                return null == o ? o = "center" === r ? "50%" : "0" : "center" === o && (o = "50%"), ("center" === r || isNaN(parseFloat(r)) && -1 === (r + "").indexOf("=")) && (r = "50%"), t = r + " " + o + (n.length > 2 ? " " + n[2] : ""), e && (e.oxp = -1 !== r.indexOf("%"), e.oyp = -1 !== o.indexOf("%"), e.oxr = "=" === r.charAt(1), e.oyr = "=" === o.charAt(1), e.ox = parseFloat(r.replace(b, "")), e.oy = parseFloat(o.replace(b, "")), e.v = t), e || t
            },
            at = function(t, e) {
                return "function" == typeof t && (t = t(v, m)), "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) : parseFloat(t) - parseFloat(e) || 0
            },
            ct = function(t, e) {
                "function" == typeof t && (t = t(v, m));
                var i = "string" == typeof t && "=" === t.charAt(1);
                return "string" == typeof t && "v" === t.charAt(t.length - 2) && (t = (i ? t.substr(0, 2) : 0) + window["inner" + ("vh" === t.substr(-2) ? "Height" : "Width")] * (parseFloat(i ? t.substr(2) : t) / 100)), null == t ? e : i ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) + e : parseFloat(t) || 0
            },
            lt = function(t, e, i, n) {
                var r, o, s, a, c;
                return "function" == typeof t && (t = t(v, m)), null == t ? a = e : "number" == typeof t ? a = t : (r = 360, o = t.split("_"), s = ((c = "=" === t.charAt(1)) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(o[0].substr(2)) : parseFloat(o[0])) * (-1 === t.indexOf("rad") ? 1 : N) - (c ? 0 : e), o.length && (n && (n[i] = e + s), -1 !== t.indexOf("short") && (s %= r) !== s % (r / 2) && (s = s < 0 ? s + r : s - r), -1 !== t.indexOf("_cw") && s < 0 ? s = (s + 9999999999 * r) % r - (s / r | 0) * r : -1 !== t.indexOf("ccw") && s > 0 && (s = (s - 9999999999 * r) % r - (s / r | 0) * r)), a = e + s), a < 1e-6 && a > -1e-6 && (a = 0), a
            },
            ut = {
                aqua: [0, 255, 255],
                lime: [0, 255, 0],
                silver: [192, 192, 192],
                black: [0, 0, 0],
                maroon: [128, 0, 0],
                teal: [0, 128, 128],
                blue: [0, 0, 255],
                navy: [0, 0, 128],
                white: [255, 255, 255],
                fuchsia: [255, 0, 255],
                olive: [128, 128, 0],
                yellow: [255, 255, 0],
                orange: [255, 165, 0],
                gray: [128, 128, 128],
                purple: [128, 0, 128],
                green: [0, 128, 0],
                red: [255, 0, 0],
                pink: [255, 192, 203],
                cyan: [0, 255, 255],
                transparent: [255, 255, 255, 0]
            },
            ht = function(t, e, i) {
                return 255 * (6 * (t = t < 0 ? t + 1 : t > 1 ? t - 1 : t) < 1 ? e + (i - e) * t * 6 : t < .5 ? i : 3 * t < 2 ? e + (i - e) * (2 / 3 - t) * 6 : e) + .5 | 0
            },
            pt = o.parseColor = function(t, e) {
                var i, n, r, o, s, a, c, l, u, h, p;
                if (t)
                    if ("number" == typeof t) i = [t >> 16, t >> 8 & 255, 255 & t];
                    else {
                        if ("," === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)), ut[t]) i = ut[t];
                        else if ("#" === t.charAt(0)) 4 === t.length && (t = "#" + (n = t.charAt(1)) + n + (r = t.charAt(2)) + r + (o = t.charAt(3)) + o), i = [(t = parseInt(t.substr(1), 16)) >> 16, t >> 8 & 255, 255 & t];
                        else if ("hsl" === t.substr(0, 3))
                            if (i = p = t.match(g), e) {
                                if (-1 !== t.indexOf("=")) return t.match(y)
                            } else s = Number(i[0]) % 360 / 360, a = Number(i[1]) / 100, n = 2 * (c = Number(i[2]) / 100) - (r = c <= .5 ? c * (a + 1) : c + a - c * a), i.length > 3 && (i[3] = Number(i[3])), i[0] = ht(s + 1 / 3, n, r), i[1] = ht(s, n, r), i[2] = ht(s - 1 / 3, n, r);
                        else i = t.match(g) || ut.transparent;
                        i[0] = Number(i[0]), i[1] = Number(i[1]), i[2] = Number(i[2]), i.length > 3 && (i[3] = Number(i[3]))
                    } else i = ut.black;
                return e && !p && (n = i[0] / 255, r = i[1] / 255, o = i[2] / 255, c = ((l = Math.max(n, r, o)) + (u = Math.min(n, r, o))) / 2, l === u ? s = a = 0 : (h = l - u, a = c > .5 ? h / (2 - l - u) : h / (l + u), s = l === n ? (r - o) / h + (r < o ? 6 : 0) : l === r ? (o - n) / h + 2 : (n - r) / h + 4, s *= 60), i[0] = s + .5 | 0, i[1] = 100 * a + .5 | 0, i[2] = 100 * c + .5 | 0), i
            },
            dt = function(t, e) {
                var i, n, r, o = t.match(ft) || [],
                    s = 0,
                    a = "";
                if (!o.length) return t;
                for (i = 0; i < o.length; i++) n = o[i], s += (r = t.substr(s, t.indexOf(n, s) - s)).length + n.length, 3 === (n = pt(n, e)).length && n.push(1), a += r + (e ? "hsla(" + n[0] + "," + n[1] + "%," + n[2] + "%," + n[3] : "rgba(" + n.join(",")) + ")";
                return a + t.substr(s)
            },
            ft = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
        for (c in ut) ft += "|" + c + "\\b";
        ft = new RegExp(ft + ")", "gi"), o.colorStringFilter = function(t) {
            var e, i = t[0] + " " + t[1];
            ft.test(i) && (e = -1 !== i.indexOf("hsl(") || -1 !== i.indexOf("hsla("), t[0] = dt(t[0], e), t[1] = dt(t[1], e)), ft.lastIndex = 0
        }, n.f.defaultStringFilter || (n.f.defaultStringFilter = o.colorStringFilter);
        var mt = function(t, e, i, n) {
                if (null == t) return function(t) {
                    return t
                };
                var r, o = e ? (t.match(ft) || [""])[0] : "",
                    s = t.split(o).join("").match(_) || [],
                    a = t.substr(0, t.indexOf(s[0])),
                    c = ")" === t.charAt(t.length - 1) ? ")" : "",
                    l = -1 !== t.indexOf(" ") ? " " : ",",
                    u = s.length,
                    h = u > 0 ? s[0].replace(g, "") : "";
                return u ? r = e ? function(t) {
                    var e, p, d, f;
                    if ("number" == typeof t) t += h;
                    else if (n && I.test(t)) {
                        for (f = t.replace(I, "|").split("|"), d = 0; d < f.length; d++) f[d] = r(f[d]);
                        return f.join(",")
                    }
                    if (e = (t.match(ft) || [o])[0], d = (p = t.split(e).join("").match(_) || []).length, u > d--)
                        for (; ++d < u;) p[d] = i ? p[(d - 1) / 2 | 0] : s[d];
                    return a + p.join(l) + l + e + c + (-1 !== t.indexOf("inset") ? " inset" : "")
                } : function(t) {
                    var e, o, p;
                    if ("number" == typeof t) t += h;
                    else if (n && I.test(t)) {
                        for (o = t.replace(I, "|").split("|"), p = 0; p < o.length; p++) o[p] = r(o[p]);
                        return o.join(",")
                    }
                    if (p = (e = t.match(_) || []).length, u > p--)
                        for (; ++p < u;) e[p] = i ? e[(p - 1) / 2 | 0] : s[p];
                    return a + e.join(l) + c
                } : function(t) {
                    return t
                }
            },
            vt = function(t) {
                return t = t.split(","),
                    function(e, i, n, r, o, s, a) {
                        var c, l = (i + "").split(" ");
                        for (a = {}, c = 0; c < 4; c++) a[t[c]] = l[c] = l[c] || l[(c - 1) / 2 >> 0];
                        return r.parse(e, a, o, s)
                    }
            },
            gt = (G._setPluginRatio = function(t) {
                this.plugin.setRatio(t);
                for (var e, i, n, r, o, s = this.data, a = s.proxy, c = s.firstMPT; c;) e = a[c.v], c.r ? e = c.r(e) : e < 1e-6 && e > -1e-6 && (e = 0), c.t[c.p] = e, c = c._next;
                if (s.autoRotate && (s.autoRotate.rotation = s.mod ? s.mod.call(this._tween, a.rotation, this.t, this._tween) : a.rotation), 1 === t || 0 === t)
                    for (c = s.firstMPT, o = 1 === t ? "e" : "b"; c;) {
                        if ((i = c.t).type) {
                            if (1 === i.type) {
                                for (r = i.xs0 + i.s + i.xs1, n = 1; n < i.l; n++) r += i["xn" + n] + i["xs" + (n + 1)];
                                i[o] = r
                            }
                        } else i[o] = i.s + i.xs0;
                        c = c._next
                    }
            }, function(t, e, i, n, r) {
                this.t = t, this.p = e, this.v = i, this.r = r, n && (n._prev = this, this._next = n)
            }),
            yt = (G._parseToProxy = function(t, e, i, n, r, o) {
                var s, a, c, l, u, h = n,
                    p = {},
                    d = {},
                    f = i._transform,
                    m = z;
                for (i._transform = null, z = e, n = u = i.parse(t, e, n, r), z = m, o && (i._transform = f, h && (h._prev = null, h._prev && (h._prev._next = null))); n && n !== h;) {
                    if (n.type <= 1 && (d[a = n.p] = n.s + n.c, p[a] = n.s, o || (l = new gt(n, "s", a, l, n.r), n.c = 0), 1 === n.type))
                        for (s = n.l; --s > 0;) c = "xn" + s, d[a = n.p + "_" + c] = n.data[c], p[a] = n[c], o || (l = new gt(n, c, a, l, n.rxp[c]));
                    n = n._next
                }
                return {
                    proxy: p,
                    end: d,
                    firstMPT: l,
                    pt: u
                }
            }, G.CSSPropTween = function(e, i, n, o, s, a, c, l, u, h, p) {
                this.t = e, this.p = i, this.s = n, this.c = o, this.n = c || i, e instanceof yt || r.push(this.n), this.r = l ? "function" == typeof l ? l : Math.round : l, this.type = a || 0, u && (this.pr = u, t = !0), this.b = void 0 === h ? n : h, this.e = void 0 === p ? n + o : p, s && (this._next = s, s._prev = this)
            }),
            _t = function(t, e, i, n, r, o) {
                var s = new yt(t, e, i, n - i, r, -1, o);
                return s.b = i, s.e = s.xs0 = n, s
            },
            bt = o.parseComplex = function(t, e, i, n, r, s, a, c, u, h) {
                i = i || s || "", "function" == typeof n && (n = n(v, m)), a = new yt(t, e, 0, 0, a, h ? 2 : 1, null, !1, c, i, n), n += "", r && ft.test(n + i) && (n = [i, n], o.colorStringFilter(n), i = n[0], n = n[1]);
                var p, d, f, _, b, x, w, S, M, T, A, C, E, O = i.split(", ").join(",").split(" "),
                    P = n.split(", ").join(",").split(" "),
                    k = O.length,
                    L = !1 !== l;
                for (-1 === n.indexOf(",") && -1 === i.indexOf(",") || (-1 !== (n + i).indexOf("rgb") || -1 !== (n + i).indexOf("hsl") ? (O = O.join(" ").replace(I, ", ").split(" "), P = P.join(" ").replace(I, ", ").split(" ")) : (O = O.join(" ").split(",").join(", ").split(" "), P = P.join(" ").split(",").join(", ").split(" ")), k = O.length), k !== P.length && (k = (O = (s || "").split(" ")).length), a.plugin = u, a.setRatio = h, ft.lastIndex = 0, p = 0; p < k; p++)
                    if (_ = O[p], b = P[p] + "", (S = parseFloat(_)) || 0 === S) a.appendXtra("", S, at(b, S), b.replace(y, ""), !(!L || -1 === b.indexOf("px")) && Math.round, !0);
                    else if (r && ft.test(_)) C = ")" + ((C = b.indexOf(")") + 1) ? b.substr(C) : ""), E = -1 !== b.indexOf("hsl") && H, T = b, _ = pt(_, E), b = pt(b, E), (M = _.length + b.length > 6) && !H && 0 === b[3] ? (a["xs" + a.l] += a.l ? " transparent" : "transparent", a.e = a.e.split(P[p]).join("transparent")) : (H || (M = !1), E ? a.appendXtra(T.substr(0, T.indexOf("hsl")) + (M ? "hsla(" : "hsl("), _[0], at(b[0], _[0]), ",", !1, !0).appendXtra("", _[1], at(b[1], _[1]), "%,", !1).appendXtra("", _[2], at(b[2], _[2]), M ? "%," : "%" + C, !1) : a.appendXtra(T.substr(0, T.indexOf("rgb")) + (M ? "rgba(" : "rgb("), _[0], b[0] - _[0], ",", Math.round, !0).appendXtra("", _[1], b[1] - _[1], ",", Math.round).appendXtra("", _[2], b[2] - _[2], M ? "," : C, Math.round), M && (_ = _.length < 4 ? 1 : _[3], a.appendXtra("", _, (b.length < 4 ? 1 : b[3]) - _, C, !1))), ft.lastIndex = 0;
                else if (x = _.match(g)) {
                    if (!(w = b.match(y)) || w.length !== x.length) return a;
                    for (f = 0, d = 0; d < x.length; d++) A = x[d], T = _.indexOf(A, f), a.appendXtra(_.substr(f, T - f), Number(A), at(w[d], A), "", !(!L || "px" !== _.substr(T + A.length, 2)) && Math.round, 0 === d), f = T + A.length;
                    a["xs" + a.l] += _.substr(f)
                } else a["xs" + a.l] += a.l || a["xs" + a.l] ? " " + b : b;
                if (-1 !== n.indexOf("=") && a.data) {
                    for (C = a.xs0 + a.data.s, p = 1; p < a.l; p++) C += a["xs" + p] + a.data["xn" + p];
                    a.e = C + a["xs" + p]
                }
                return a.l || (a.type = -1, a.xs0 = a.e), a.xfirst || a
            },
            xt = 9;
        for ((c = yt.prototype).l = c.pr = 0; --xt > 0;) c["xn" + xt] = 0, c["xs" + xt] = "";
        c.xs0 = "", c._next = c._prev = c.xfirst = c.data = c.plugin = c.setRatio = c.rxp = null, c.appendXtra = function(t, e, i, n, r, o) {
            var s = this,
                a = s.l;
            return s["xs" + a] += o && (a || s["xs" + a]) ? " " + t : t || "", i || 0 === a || s.plugin ? (s.l++, s.type = s.setRatio ? 2 : 1, s["xs" + s.l] = n || "", a > 0 ? (s.data["xn" + a] = e + i, s.rxp["xn" + a] = r, s["xn" + a] = e, s.plugin || (s.xfirst = new yt(s, "xn" + a, e, i, s.xfirst || s, 0, s.n, r, s.pr), s.xfirst.xs0 = 0), s) : (s.data = {
                s: e + i
            }, s.rxp = {}, s.s = e, s.c = i, s.r = r, s)) : (s["xs" + a] += e + (n || ""), s)
        };
        var wt = function(t, e) {
                e = e || {}, this.p = e.prefix && Z(t) || t, a[t] = a[this.p] = this, this.format = e.formatter || mt(e.defaultValue, e.color, e.collapsible, e.multi), e.parser && (this.parse = e.parser), this.clrs = e.color, this.multi = e.multi, this.keyword = e.keyword, this.dflt = e.defaultValue, this.pr = e.priority || 0
            },
            St = G._registerComplexSpecialProp = function(t, e, i) {
                "object" != typeof e && (e = {
                    parser: i
                });
                var n, r = t.split(","),
                    o = e.defaultValue;
                for (i = i || [o], n = 0; n < r.length; n++) e.prefix = 0 === n && e.prefix, e.defaultValue = i[n] || o, new wt(r[n], e)
            },
            Mt = G._registerPluginProp = function(t) {
                if (!a[t]) {
                    var e = t.charAt(0).toUpperCase() + t.substr(1) + "Plugin";
                    St(t, {
                        parser: function(t, i, n, r, o, c, l) {
                            var u = s.com.greensock.plugins[e];
                            return u ? (u._cssRegister(), a[n].parse(t, i, n, r, o, c, l)) : (X(), o)
                        }
                    })
                }
            };
        (c = wt.prototype).parseComplex = function(t, e, i, n, r, o) {
            var s, a, c, l, u, h, p = this.keyword;
            if (this.multi && (I.test(i) || I.test(e) ? (a = e.replace(I, "|").split("|"), c = i.replace(I, "|").split("|")) : p && (a = [e], c = [i])), c) {
                for (l = c.length > a.length ? c.length : a.length, s = 0; s < l; s++) e = a[s] = a[s] || this.dflt, i = c[s] = c[s] || this.dflt, p && (u = e.indexOf(p)) !== (h = i.indexOf(p)) && (-1 === h ? a[s] = a[s].split(p).join("") : -1 === u && (a[s] += " " + p));
                e = a.join(", "), i = c.join(", ")
            }
            return bt(t, this.p, e, i, this.clrs, this.dflt, n, this.pr, r, o)
        }, c.parse = function(t, e, n, r, o, s, a) {
            return this.parseComplex(t.style, this.format(Q(t, this.p, i, !1, this.dflt)), this.format(e), o, s)
        }, o.registerSpecialProp = function(t, e, i) {
            St(t, {
                parser: function(t, n, r, o, s, a, c) {
                    var l = new yt(t, r, 0, 0, s, 2, r, !1, i);
                    return l.plugin = a, l.setRatio = e(t, n, o._tween, r), l
                },
                priority: i
            })
        }, o.useSVGTransformAttr = !0;
        var Tt, At, Ct, Et, Ot, Pt = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),
            kt = Z("transform"),
            Lt = q + "transform",
            It = Z("transformOrigin"),
            Rt = null !== Z("perspective"),
            Dt = G.Transform = function() {
                this.perspective = parseFloat(o.defaultTransformPerspective) || 0, this.force3D = !(!1 === o.defaultForce3D || !Rt) && (o.defaultForce3D || "auto")
            },
            Nt = n.e.SVGElement,
            zt = function(t, e, i) {
                var n, r = B.createElementNS("http://www.w3.org/2000/svg", t),
                    o = /([a-z])([A-Z])/g;
                for (n in i) r.setAttributeNS(null, n.replace(o, "$1-$2").toLowerCase(), i[n]);
                return e.appendChild(r), r
            },
            Ft = B.documentElement || {},
            Bt = (Ot = f || /Android/i.test(W) && !n.e.chrome, B.createElementNS && !Ot && (At = zt("svg", Ft), Et = (Ct = zt("rect", At, {
                width: 100,
                height: 50,
                x: 100
            })).getBoundingClientRect().width, Ct.style[It] = "50% 50%", Ct.style[kt] = "scaleX(0.5)", Ot = Et === Ct.getBoundingClientRect().width && !(p && Rt), Ft.removeChild(At)), Ot),
            jt = function(t, e, i, n, r, s) {
                var a, c, l, u, h, p, d, f, m, v, g, y, _, b, x = t._gsTransform,
                    w = Wt(t, !0);
                x && (_ = x.xOrigin, b = x.yOrigin), (!n || (a = n.split(" ")).length < 2) && (0 === (d = t.getBBox()).x && 0 === d.y && d.width + d.height === 0 && (d = {
                    x: parseFloat(t.hasAttribute("x") ? t.getAttribute("x") : t.hasAttribute("cx") ? t.getAttribute("cx") : 0) || 0,
                    y: parseFloat(t.hasAttribute("y") ? t.getAttribute("y") : t.hasAttribute("cy") ? t.getAttribute("cy") : 0) || 0,
                    width: 0,
                    height: 0
                }), a = [(-1 !== (e = st(e).split(" "))[0].indexOf("%") ? parseFloat(e[0]) / 100 * d.width : parseFloat(e[0])) + d.x, (-1 !== e[1].indexOf("%") ? parseFloat(e[1]) / 100 * d.height : parseFloat(e[1])) + d.y]), i.xOrigin = u = parseFloat(a[0]), i.yOrigin = h = parseFloat(a[1]), n && w !== Gt && (p = w[0], d = w[1], f = w[2], m = w[3], v = w[4], g = w[5], (y = p * m - d * f) && (c = u * (m / y) + h * (-f / y) + (f * g - m * v) / y, l = u * (-d / y) + h * (p / y) - (p * g - d * v) / y, u = i.xOrigin = a[0] = c, h = i.yOrigin = a[1] = l)), x && (s && (i.xOffset = x.xOffset, i.yOffset = x.yOffset, x = i), r || !1 !== r && !1 !== o.defaultSmoothOrigin ? (c = u - _, l = h - b, x.xOffset += c * w[0] + l * w[2] - c, x.yOffset += c * w[1] + l * w[3] - l) : x.xOffset = x.yOffset = 0), s || t.setAttribute("data-svg-origin", a.join(" "))
            },
            Ut = function(t) {
                var e, i = j("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"),
                    n = this.parentNode,
                    r = this.nextSibling,
                    o = this.style.cssText;
                if (Ft.appendChild(i), i.appendChild(this), this.style.display = "block", t) try {
                    e = this.getBBox(), this._originalGetBBox = this.getBBox, this.getBBox = Ut
                } catch (t) {} else this._originalGetBBox && (e = this._originalGetBBox());
                return r ? n.insertBefore(this, r) : n.appendChild(this), Ft.removeChild(i), this.style.cssText = o, e
            },
            Vt = function(t) {
                return !(!Nt || !t.getCTM || t.parentNode && !t.ownerSVGElement || ! function(t) {
                    try {
                        return t.getBBox()
                    } catch (e) {
                        return Ut.call(t, !0)
                    }
                }(t))
            },
            Gt = [1, 0, 0, 1, 0, 0],
            Wt = function(t, e) {
                var i, n, r, o, s, a, c = t._gsTransform || new Dt,
                    l = t.style;
                if (kt ? n = Q(t, Lt, null, !0) : t.currentStyle && (n = (n = t.currentStyle.filter.match(k)) && 4 === n.length ? [n[0].substr(4), Number(n[2].substr(4)), Number(n[1].substr(4)), n[3].substr(4), c.x || 0, c.y || 0].join(",") : ""), i = !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n, !kt || !(a = !J(t) || "none" === J(t).display) && t.parentNode || (a && (o = l.display, l.display = "block"), t.parentNode || (s = 1, Ft.appendChild(t)), i = !(n = Q(t, Lt, null, !0)) || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n, o ? l.display = o : a && Yt(l, "display"), s && Ft.removeChild(t)), (c.svg || t.getCTM && Vt(t)) && (i && -1 !== (l[kt] + "").indexOf("matrix") && (n = l[kt], i = 0), r = t.getAttribute("transform"), i && r && (n = "matrix(" + (r = t.transform.baseVal.consolidate().matrix).a + "," + r.b + "," + r.c + "," + r.d + "," + r.e + "," + r.f + ")", i = 0)), i) return Gt;
                for (r = (n || "").match(g) || [], xt = r.length; --xt > -1;) o = Number(r[xt]), r[xt] = (s = o - (o |= 0)) ? (1e5 * s + (s < 0 ? -.5 : .5) | 0) / 1e5 + o : o;
                return e && r.length > 6 ? [r[0], r[1], r[4], r[5], r[12], r[13]] : r
            },
            Ht = G.getTransform = function(t, e, i, r) {
                if (t._gsTransform && i && !r) return t._gsTransform;
                var s, a, c, l, u, h, p = i && t._gsTransform || new Dt,
                    d = p.scaleX < 0,
                    f = Rt && (parseFloat(Q(t, It, e, !1, "0 0 0").split(" ")[2]) || p.zOrigin) || 0,
                    m = parseFloat(o.defaultTransformPerspective) || 0;
                if (p.svg = !(!t.getCTM || !Vt(t)), p.svg && (jt(t, Q(t, It, e, !1, "50% 50%") + "", p, t.getAttribute("data-svg-origin")), Tt = o.useSVGTransformAttr || Bt), (s = Wt(t)) !== Gt) {
                    if (16 === s.length) {
                        var v, g, y, _, b, x = s[0],
                            w = s[1],
                            S = s[2],
                            M = s[3],
                            T = s[4],
                            A = s[5],
                            C = s[6],
                            E = s[7],
                            O = s[8],
                            P = s[9],
                            k = s[10],
                            L = s[12],
                            I = s[13],
                            R = s[14],
                            D = s[11],
                            z = Math.atan2(C, k);
                        p.zOrigin && (L = O * (R = -p.zOrigin) - s[12], I = P * R - s[13], R = k * R + p.zOrigin - s[14]), p.rotationX = z * N, z && (v = T * (_ = Math.cos(-z)) + O * (b = Math.sin(-z)), g = A * _ + P * b, y = C * _ + k * b, O = T * -b + O * _, P = A * -b + P * _, k = C * -b + k * _, D = E * -b + D * _, T = v, A = g, C = y), z = Math.atan2(-S, k), p.rotationY = z * N, z && (g = w * (_ = Math.cos(-z)) - P * (b = Math.sin(-z)), y = S * _ - k * b, P = w * b + P * _, k = S * b + k * _, D = M * b + D * _, x = v = x * _ - O * b, w = g, S = y), z = Math.atan2(w, x), p.rotation = z * N, z && (v = x * (_ = Math.cos(z)) + w * (b = Math.sin(z)), g = T * _ + A * b, y = O * _ + P * b, w = w * _ - x * b, A = A * _ - T * b, P = P * _ - O * b, x = v, T = g, O = y), p.rotationX && Math.abs(p.rotationX) + Math.abs(p.rotation) > 359.9 && (p.rotationX = p.rotation = 0, p.rotationY = 180 - p.rotationY), z = Math.atan2(T, A), p.scaleX = (1e5 * Math.sqrt(x * x + w * w + S * S) + .5 | 0) / 1e5, p.scaleY = (1e5 * Math.sqrt(A * A + C * C) + .5 | 0) / 1e5, p.scaleZ = (1e5 * Math.sqrt(O * O + P * P + k * k) + .5 | 0) / 1e5, x /= p.scaleX, T /= p.scaleY, w /= p.scaleX, A /= p.scaleY, Math.abs(z) > 2e-5 ? (p.skewX = z * N, T = 0, "simple" !== p.skewType && (p.scaleY *= 1 / Math.cos(z))) : p.skewX = 0, p.perspective = D ? 1 / (D < 0 ? -D : D) : 0, p.x = L, p.y = I, p.z = R, p.svg && (p.x -= p.xOrigin - (p.xOrigin * x - p.yOrigin * T), p.y -= p.yOrigin - (p.yOrigin * w - p.xOrigin * A))
                    } else if (!Rt || r || !s.length || p.x !== s[4] || p.y !== s[5] || !p.rotationX && !p.rotationY) {
                        var F = s.length >= 6,
                            B = F ? s[0] : 1,
                            j = s[1] || 0,
                            U = s[2] || 0,
                            V = F ? s[3] : 1;
                        p.x = s[4] || 0, p.y = s[5] || 0, c = Math.sqrt(B * B + j * j), l = Math.sqrt(V * V + U * U), u = B || j ? Math.atan2(j, B) * N : p.rotation || 0, h = U || V ? Math.atan2(U, V) * N + u : p.skewX || 0, p.scaleX = c, p.scaleY = l, p.rotation = u, p.skewX = h, Rt && (p.rotationX = p.rotationY = p.z = 0, p.perspective = m, p.scaleZ = 1), p.svg && (p.x -= p.xOrigin - (p.xOrigin * B + p.yOrigin * U), p.y -= p.yOrigin - (p.xOrigin * j + p.yOrigin * V))
                    }
                    for (a in Math.abs(p.skewX) > 90 && Math.abs(p.skewX) < 270 && (d ? (p.scaleX *= -1, p.skewX += p.rotation <= 0 ? 180 : -180, p.rotation += p.rotation <= 0 ? 180 : -180) : (p.scaleY *= -1, p.skewX += p.skewX <= 0 ? 180 : -180)), p.zOrigin = f, p) p[a] < 2e-5 && p[a] > -2e-5 && (p[a] = 0)
                }
                return i && (t._gsTransform = p, p.svg && (Tt && t.style[kt] ? n.f.delayedCall(.001, function() {
                    Yt(t.style, kt)
                }) : !Tt && t.getAttribute("transform") && n.f.delayedCall(.001, function() {
                    t.removeAttribute("transform")
                }))), p
            },
            $t = function(t) {
                var e, i, n = this.data,
                    r = -n.rotation * D,
                    o = r + n.skewX * D,
                    s = (Math.cos(r) * n.scaleX * 1e5 | 0) / 1e5,
                    a = (Math.sin(r) * n.scaleX * 1e5 | 0) / 1e5,
                    c = (Math.sin(o) * -n.scaleY * 1e5 | 0) / 1e5,
                    l = (Math.cos(o) * n.scaleY * 1e5 | 0) / 1e5,
                    u = this.t.style,
                    h = this.t.currentStyle;
                if (h) {
                    i = a, a = -c, c = -i, e = h.filter, u.filter = "";
                    var p, d, m = this.t.offsetWidth,
                        v = this.t.offsetHeight,
                        g = "absolute" !== h.position,
                        y = "progid:DXImageTransform.Microsoft.Matrix(M11=" + s + ", M12=" + a + ", M21=" + c + ", M22=" + l,
                        _ = n.x + m * n.xPercent / 100,
                        b = n.y + v * n.yPercent / 100;
                    if (null != n.ox && (_ += (p = (n.oxp ? m * n.ox * .01 : n.ox) - m / 2) - (p * s + (d = (n.oyp ? v * n.oy * .01 : n.oy) - v / 2) * a), b += d - (p * c + d * l)), y += g ? ", Dx=" + ((p = m / 2) - (p * s + (d = v / 2) * a) + _) + ", Dy=" + (d - (p * c + d * l) + b) + ")" : ", sizingMethod='auto expand')", -1 !== e.indexOf("DXImageTransform.Microsoft.Matrix(") ? u.filter = e.replace(L, y) : u.filter = y + " " + e, 0 !== t && 1 !== t || 1 === s && 0 === a && 0 === c && 1 === l && (g && -1 === y.indexOf("Dx=0, Dy=0") || w.test(e) && 100 !== parseFloat(RegExp.$1) || -1 === e.indexOf(e.indexOf("Alpha")) && u.removeAttribute("filter")), !g) {
                        var S, M, T, A = f < 8 ? 1 : -1;
                        for (p = n.ieOffsetX || 0, d = n.ieOffsetY || 0, n.ieOffsetX = Math.round((m - ((s < 0 ? -s : s) * m + (a < 0 ? -a : a) * v)) / 2 + _), n.ieOffsetY = Math.round((v - ((l < 0 ? -l : l) * v + (c < 0 ? -c : c) * m)) / 2 + b), xt = 0; xt < 4; xt++) T = (i = -1 !== (S = h[M = rt[xt]]).indexOf("px") ? parseFloat(S) : K(this.t, M, parseFloat(S), S.replace(x, "")) || 0) !== n[M] ? xt < 2 ? -n.ieOffsetX : -n.ieOffsetY : xt < 2 ? p - n.ieOffsetX : d - n.ieOffsetY, u[M] = (n[M] = Math.round(i - T * (0 === xt || 2 === xt ? 1 : A))) + "px"
                    }
                }
            },
            Xt = G.set3DTransformRatio = G.setTransformRatio = function(t) {
                var e, i, n, r, o, s, a, c, l, u, h, d, f, m, v, g, y, _, b, x, w, S = this.data,
                    M = this.t.style,
                    T = S.rotation,
                    A = S.rotationX,
                    C = S.rotationY,
                    E = S.scaleX,
                    O = S.scaleY,
                    P = S.scaleZ,
                    k = S.x,
                    L = S.y,
                    I = S.z,
                    R = S.svg,
                    N = S.perspective,
                    z = S.force3D,
                    F = S.skewY,
                    B = S.skewX;
                if (F && (B += F, T += F), !((1 !== t && 0 !== t || "auto" !== z || this.tween._totalTime !== this.tween._totalDuration && this.tween._totalTime) && z || I || N || C || A || 1 !== P) || Tt && R || !Rt) T || B || R ? (T *= D, x = B * D, w = 1e5, i = Math.cos(T) * E, o = Math.sin(T) * E, n = Math.sin(T - x) * -O, s = Math.cos(T - x) * O, x && "simple" === S.skewType && (e = Math.tan(x - F * D), n *= e = Math.sqrt(1 + e * e), s *= e, F && (e = Math.tan(F * D), i *= e = Math.sqrt(1 + e * e), o *= e)), R && (k += S.xOrigin - (S.xOrigin * i + S.yOrigin * n) + S.xOffset, L += S.yOrigin - (S.xOrigin * o + S.yOrigin * s) + S.yOffset, Tt && (S.xPercent || S.yPercent) && (v = this.t.getBBox(), k += .01 * S.xPercent * v.width, L += .01 * S.yPercent * v.height), k < (v = 1e-6) && k > -v && (k = 0), L < v && L > -v && (L = 0)), b = (i * w | 0) / w + "," + (o * w | 0) / w + "," + (n * w | 0) / w + "," + (s * w | 0) / w + "," + k + "," + L + ")", R && Tt ? this.t.setAttribute("transform", "matrix(" + b) : M[kt] = (S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) matrix(" : "matrix(") + b) : M[kt] = (S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) matrix(" : "matrix(") + E + ",0,0," + O + "," + k + "," + L + ")";
                else {
                    if (p && (E < (v = 1e-4) && E > -v && (E = P = 2e-5), O < v && O > -v && (O = P = 2e-5), !N || S.z || S.rotationX || S.rotationY || (N = 0)), T || B) T *= D, g = i = Math.cos(T), y = o = Math.sin(T), B && (T -= B * D, g = Math.cos(T), y = Math.sin(T), "simple" === S.skewType && (e = Math.tan((B - F) * D), g *= e = Math.sqrt(1 + e * e), y *= e, S.skewY && (e = Math.tan(F * D), i *= e = Math.sqrt(1 + e * e), o *= e))), n = -y, s = g;
                    else {
                        if (!(C || A || 1 !== P || N || R)) return void(M[kt] = (S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) translate3d(" : "translate3d(") + k + "px," + L + "px," + I + "px)" + (1 !== E || 1 !== O ? " scale(" + E + "," + O + ")" : ""));
                        i = s = 1, n = o = 0
                    }
                    u = 1, r = a = c = l = h = d = 0, f = N ? -1 / N : 0, m = S.zOrigin, v = 1e-6, ",", "0", (T = C * D) && (g = Math.cos(T), c = -(y = Math.sin(T)), h = f * -y, r = i * y, a = o * y, u = g, f *= g, i *= g, o *= g), (T = A * D) && (e = n * (g = Math.cos(T)) + r * (y = Math.sin(T)), _ = s * g + a * y, l = u * y, d = f * y, r = n * -y + r * g, a = s * -y + a * g, u *= g, f *= g, n = e, s = _), 1 !== P && (r *= P, a *= P, u *= P, f *= P), 1 !== O && (n *= O, s *= O, l *= O, d *= O), 1 !== E && (i *= E, o *= E, c *= E, h *= E), (m || R) && (m && (k += r * -m, L += a * -m, I += u * -m + m), R && (k += S.xOrigin - (S.xOrigin * i + S.yOrigin * n) + S.xOffset, L += S.yOrigin - (S.xOrigin * o + S.yOrigin * s) + S.yOffset), k < v && k > -v && (k = "0"), L < v && L > -v && (L = "0"), I < v && I > -v && (I = 0)), b = S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) matrix3d(" : "matrix3d(", b += (i < v && i > -v ? "0" : i) + "," + (o < v && o > -v ? "0" : o) + "," + (c < v && c > -v ? "0" : c), b += "," + (h < v && h > -v ? "0" : h) + "," + (n < v && n > -v ? "0" : n) + "," + (s < v && s > -v ? "0" : s), A || C || 1 !== P ? (b += "," + (l < v && l > -v ? "0" : l) + "," + (d < v && d > -v ? "0" : d) + "," + (r < v && r > -v ? "0" : r), b += "," + (a < v && a > -v ? "0" : a) + "," + (u < v && u > -v ? "0" : u) + "," + (f < v && f > -v ? "0" : f) + ",") : b += ",0,0,0,0,1,0,", b += k + "," + L + "," + I + "," + (N ? 1 + -I / N : 1) + ")", M[kt] = b
                }
            };
        (c = Dt.prototype).x = c.y = c.z = c.skewX = c.skewY = c.rotation = c.rotationX = c.rotationY = c.zOrigin = c.xPercent = c.yPercent = c.xOffset = c.yOffset = 0, c.scaleX = c.scaleY = c.scaleZ = 1, St("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
            parser: function(t, e, n, r, s, a, c) {
                if (r._lastParsedTransform === c) return s;
                r._lastParsedTransform = c;
                var l, u = c.scale && "function" == typeof c.scale ? c.scale : 0;
                "function" == typeof c[n] && (l = c[n], c[n] = e), u && (c.scale = u(v, t));
                var h, p, d, f, g, y, _, b, x, w = t._gsTransform,
                    S = t.style,
                    M = Pt.length,
                    T = c,
                    A = {},
                    C = Ht(t, i, !0, T.parseTransform),
                    E = T.transform && ("function" == typeof T.transform ? T.transform(v, m) : T.transform);
                if (C.skewType = T.skewType || C.skewType || o.defaultSkewType, r._transform = C, "rotationZ" in T && (T.rotation = T.rotationZ), E && "string" == typeof E && kt)(p = U.style)[kt] = E, p.display = "block", p.position = "absolute", -1 !== E.indexOf("%") && (p.width = Q(t, "width"), p.height = Q(t, "height")), B.body.appendChild(U), h = Ht(U, null, !1), "simple" === C.skewType && (h.scaleY *= Math.cos(h.skewX * D)), C.svg && (y = C.xOrigin, _ = C.yOrigin, h.x -= C.xOffset, h.y -= C.yOffset, (T.transformOrigin || T.svgOrigin) && (E = {}, jt(t, st(T.transformOrigin), E, T.svgOrigin, T.smoothOrigin, !0), y = E.xOrigin, _ = E.yOrigin, h.x -= E.xOffset - C.xOffset, h.y -= E.yOffset - C.yOffset), (y || _) && (b = Wt(U, !0), h.x -= y - (y * b[0] + _ * b[2]), h.y -= _ - (y * b[1] + _ * b[3]))), B.body.removeChild(U), h.perspective || (h.perspective = C.perspective), null != T.xPercent && (h.xPercent = ct(T.xPercent, C.xPercent)), null != T.yPercent && (h.yPercent = ct(T.yPercent, C.yPercent));
                else if ("object" == typeof T) {
                    if (h = {
                            scaleX: ct(null != T.scaleX ? T.scaleX : T.scale, C.scaleX),
                            scaleY: ct(null != T.scaleY ? T.scaleY : T.scale, C.scaleY),
                            scaleZ: ct(T.scaleZ, C.scaleZ),
                            x: ct(T.x, C.x),
                            y: ct(T.y, C.y),
                            z: ct(T.z, C.z),
                            xPercent: ct(T.xPercent, C.xPercent),
                            yPercent: ct(T.yPercent, C.yPercent),
                            perspective: ct(T.transformPerspective, C.perspective)
                        }, null != (g = T.directionalRotation))
                        if ("object" == typeof g)
                            for (p in g) T[p] = g[p];
                        else T.rotation = g;
                        "string" == typeof T.x && -1 !== T.x.indexOf("%") && (h.x = 0, h.xPercent = ct(T.x, C.xPercent)), "string" == typeof T.y && -1 !== T.y.indexOf("%") && (h.y = 0, h.yPercent = ct(T.y, C.yPercent)), h.rotation = lt("rotation" in T ? T.rotation : "shortRotation" in T ? T.shortRotation + "_short" : C.rotation, C.rotation, "rotation", A), Rt && (h.rotationX = lt("rotationX" in T ? T.rotationX : "shortRotationX" in T ? T.shortRotationX + "_short" : C.rotationX || 0, C.rotationX, "rotationX", A), h.rotationY = lt("rotationY" in T ? T.rotationY : "shortRotationY" in T ? T.shortRotationY + "_short" : C.rotationY || 0, C.rotationY, "rotationY", A)), h.skewX = lt(T.skewX, C.skewX), h.skewY = lt(T.skewY, C.skewY)
                }
                for (Rt && null != T.force3D && (C.force3D = T.force3D, f = !0), (d = C.force3D || C.z || C.rotationX || C.rotationY || h.z || h.rotationX || h.rotationY || h.perspective) || null == T.scale || (h.scaleZ = 1); --M > -1;)((E = h[x = Pt[M]] - C[x]) > 1e-6 || E < -1e-6 || null != T[x] || null != z[x]) && (f = !0, s = new yt(C, x, C[x], E, s), x in A && (s.e = A[x]), s.xs0 = 0, s.plugin = a, r._overwriteProps.push(s.n));
                return E = T.transformOrigin, C.svg && (E || T.svgOrigin) && (y = C.xOffset, _ = C.yOffset, jt(t, st(E), h, T.svgOrigin, T.smoothOrigin), s = _t(C, "xOrigin", (w ? C : h).xOrigin, h.xOrigin, s, "transformOrigin"), s = _t(C, "yOrigin", (w ? C : h).yOrigin, h.yOrigin, s, "transformOrigin"), y === C.xOffset && _ === C.yOffset || (s = _t(C, "xOffset", w ? y : C.xOffset, C.xOffset, s, "transformOrigin"), s = _t(C, "yOffset", w ? _ : C.yOffset, C.yOffset, s, "transformOrigin")), E = "0px 0px"), (E || Rt && d && C.zOrigin) && (kt ? (f = !0, x = It, E = (E || Q(t, x, i, !1, "50% 50%")) + "", (s = new yt(S, x, 0, 0, s, -1, "transformOrigin")).b = S[x], s.plugin = a, Rt ? (p = C.zOrigin, E = E.split(" "), C.zOrigin = (E.length > 2 && (0 === p || "0px" !== E[2]) ? parseFloat(E[2]) : p) || 0, s.xs0 = s.e = E[0] + " " + (E[1] || "50%") + " 0px", (s = new yt(C, "zOrigin", 0, 0, s, -1, s.n)).b = p, s.xs0 = s.e = C.zOrigin) : s.xs0 = s.e = E) : st(E + "", C)), f && (r._transformType = C.svg && Tt || !d && 3 !== this._transformType ? 2 : 3), l && (c[n] = l), u && (c.scale = u), s
            },
            prefix: !0
        }), St("boxShadow", {
            defaultValue: "0px 0px 0px 0px #999",
            prefix: !0,
            color: !0,
            multi: !0,
            keyword: "inset"
        }), St("borderRadius", {
            defaultValue: "0px",
            parser: function(t, n, r, o, s, a) {
                n = this.format(n);
                var c, l, u, h, p, d, f, m, v, g, y, _, b, x, w, S, M = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"],
                    T = t.style;
                for (v = parseFloat(t.offsetWidth), g = parseFloat(t.offsetHeight), c = n.split(" "), l = 0; l < M.length; l++) this.p.indexOf("border") && (M[l] = Z(M[l])), -1 !== (p = h = Q(t, M[l], i, !1, "0px")).indexOf(" ") && (p = (h = p.split(" "))[0], h = h[1]), d = u = c[l], f = parseFloat(p), _ = p.substr((f + "").length), (b = "=" === d.charAt(1)) ? (m = parseInt(d.charAt(0) + "1", 10), d = d.substr(2), m *= parseFloat(d), y = d.substr((m + "").length - (m < 0 ? 1 : 0)) || "") : (m = parseFloat(d), y = d.substr((m + "").length)), "" === y && (y = e[r] || _), y !== _ && (x = K(t, "borderLeft", f, _), w = K(t, "borderTop", f, _), "%" === y ? (p = x / v * 100 + "%", h = w / g * 100 + "%") : "em" === y ? (p = x / (S = K(t, "borderLeft", 1, "em")) + "em", h = w / S + "em") : (p = x + "px", h = w + "px"), b && (d = parseFloat(p) + m + y, u = parseFloat(h) + m + y)), s = bt(T, M[l], p + " " + h, d + " " + u, !1, "0px", s);
                return s
            },
            prefix: !0,
            formatter: mt("0px 0px 0px 0px", !1, !0)
        }), St("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", {
            defaultValue: "0px",
            parser: function(t, e, n, r, o, s) {
                return bt(t.style, n, this.format(Q(t, n, i, !1, "0px 0px")), this.format(e), !1, "0px", o)
            },
            prefix: !0,
            formatter: mt("0px 0px", !1, !0)
        }), St("backgroundPosition", {
            defaultValue: "0 0",
            parser: function(t, e, n, r, o, s) {
                var a, c, l, u, h, p, d = "background-position",
                    m = i || J(t, null),
                    v = this.format((m ? f ? m.getPropertyValue(d + "-x") + " " + m.getPropertyValue(d + "-y") : m.getPropertyValue(d) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"),
                    g = this.format(e);
                if (-1 !== v.indexOf("%") != (-1 !== g.indexOf("%")) && g.split(",").length < 2 && (p = Q(t, "backgroundImage").replace(E, "")) && "none" !== p) {
                    for (a = v.split(" "), c = g.split(" "), V.setAttribute("src", p), l = 2; --l > -1;)(u = -1 !== (v = a[l]).indexOf("%")) !== (-1 !== c[l].indexOf("%")) && (h = 0 === l ? t.offsetWidth - V.width : t.offsetHeight - V.height, a[l] = u ? parseFloat(v) / 100 * h + "px" : parseFloat(v) / h * 100 + "%");
                    v = a.join(" ")
                }
                return this.parseComplex(t.style, v, g, o, s)
            },
            formatter: st
        }), St("backgroundSize", {
            defaultValue: "0 0",
            formatter: function(t) {
                return "co" === (t += "").substr(0, 2) ? t : st(-1 === t.indexOf(" ") ? t + " " + t : t)
            }
        }), St("perspective", {
            defaultValue: "0px",
            prefix: !0
        }), St("perspectiveOrigin", {
            defaultValue: "50% 50%",
            prefix: !0
        }), St("transformStyle", {
            prefix: !0
        }), St("backfaceVisibility", {
            prefix: !0
        }), St("userSelect", {
            prefix: !0
        }), St("margin", {
            parser: vt("marginTop,marginRight,marginBottom,marginLeft")
        }), St("padding", {
            parser: vt("paddingTop,paddingRight,paddingBottom,paddingLeft")
        }), St("clip", {
            defaultValue: "rect(0px,0px,0px,0px)",
            parser: function(t, e, n, r, o, s) {
                var a, c, l;
                return f < 9 ? (c = t.currentStyle, l = f < 8 ? " " : ",", a = "rect(" + c.clipTop + l + c.clipRight + l + c.clipBottom + l + c.clipLeft + ")", e = this.format(e).split(",").join(l)) : (a = this.format(Q(t, this.p, i, !1, this.dflt)), e = this.format(e)), this.parseComplex(t.style, a, e, o, s)
            }
        }), St("textShadow", {
            defaultValue: "0px 0px 0px #999",
            color: !0,
            multi: !0
        }), St("autoRound,strictUnits", {
            parser: function(t, e, i, n, r) {
                return r
            }
        }), St("border", {
            defaultValue: "0px solid #000",
            parser: function(t, e, n, r, o, s) {
                var a = Q(t, "borderTopWidth", i, !1, "0px"),
                    c = this.format(e).split(" "),
                    l = c[0].replace(x, "");
                return "px" !== l && (a = parseFloat(a) / K(t, "borderTopWidth", 1, l) + l), this.parseComplex(t.style, this.format(a + " " + Q(t, "borderTopStyle", i, !1, "solid") + " " + Q(t, "borderTopColor", i, !1, "#000")), c.join(" "), o, s)
            },
            color: !0,
            formatter: function(t) {
                var e = t.split(" ");
                return e[0] + " " + (e[1] || "solid") + " " + (t.match(ft) || ["#000"])[0]
            }
        }), St("borderWidth", {
            parser: vt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")
        }), St("float,cssFloat,styleFloat", {
            parser: function(t, e, i, n, r, o) {
                var s = t.style,
                    a = "cssFloat" in s ? "cssFloat" : "styleFloat";
                return new yt(s, a, 0, 0, r, -1, i, !1, 0, s[a], e)
            }
        });
        var qt = function(t) {
            var e, i = this.t,
                n = i.filter || Q(this.data, "filter") || "",
                r = this.s + this.c * t | 0;
            100 === r && (-1 === n.indexOf("atrix(") && -1 === n.indexOf("radient(") && -1 === n.indexOf("oader(") ? (i.removeAttribute("filter"), e = !Q(this.data, "filter")) : (i.filter = n.replace(M, ""), e = !0)), e || (this.xn1 && (i.filter = n = n || "alpha(opacity=" + r + ")"), -1 === n.indexOf("pacity") ? 0 === r && this.xn1 || (i.filter = n + " alpha(opacity=" + r + ")") : i.filter = n.replace(w, "opacity=" + r))
        };
        St("opacity,alpha,autoAlpha", {
            defaultValue: "1",
            parser: function(t, e, n, r, o, s) {
                var a = parseFloat(Q(t, "opacity", i, !1, "1")),
                    c = t.style,
                    l = "autoAlpha" === n;
                return "string" == typeof e && "=" === e.charAt(1) && (e = ("-" === e.charAt(0) ? -1 : 1) * parseFloat(e.substr(2)) + a), l && 1 === a && "hidden" === Q(t, "visibility", i) && 0 !== e && (a = 0), H ? o = new yt(c, "opacity", a, e - a, o) : ((o = new yt(c, "opacity", 100 * a, 100 * (e - a), o)).xn1 = l ? 1 : 0, c.zoom = 1, o.type = 2, o.b = "alpha(opacity=" + o.s + ")", o.e = "alpha(opacity=" + (o.s + o.c) + ")", o.data = t, o.plugin = s, o.setRatio = qt), l && ((o = new yt(c, "visibility", 0, 0, o, -1, null, !1, 0, 0 !== a ? "inherit" : "hidden", 0 === e ? "hidden" : "inherit")).xs0 = "inherit", r._overwriteProps.push(o.n), r._overwriteProps.push(n)), o
            }
        });
        var Yt = function(t, e) {
                e && (t.removeProperty ? ("ms" !== e.substr(0, 2) && "webkit" !== e.substr(0, 6) || (e = "-" + e), t.removeProperty(e.replace(A, "-$1").toLowerCase())) : t.removeAttribute(e))
            },
            Zt = function(t) {
                if (this.t._gsClassPT = this, 1 === t || 0 === t) {
                    this.t.setAttribute("class", 0 === t ? this.b : this.e);
                    for (var e = this.data, i = this.t.style; e;) e.v ? i[e.p] = e.v : Yt(i, e.p), e = e._next;
                    1 === t && this.t._gsClassPT === this && (this.t._gsClassPT = null)
                } else this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
            };
        St("className", {
            parser: function(e, n, r, o, s, a, c) {
                var l, u, h, p, d, f = e.getAttribute("class") || "",
                    m = e.style.cssText;
                if ((s = o._classNamePT = new yt(e, r, 0, 0, s, 2)).setRatio = Zt, s.pr = -11, t = !0, s.b = f, u = et(e, i), h = e._gsClassPT) {
                    for (p = {}, d = h.data; d;) p[d.p] = 1, d = d._next;
                    h.setRatio(1)
                }
                return e._gsClassPT = s, s.e = "=" !== n.charAt(1) ? n : f.replace(new RegExp("(?:\\s|^)" + n.substr(2) + "(?![\\w-])"), "") + ("+" === n.charAt(0) ? " " + n.substr(2) : ""), e.setAttribute("class", s.e), l = it(e, u, et(e), c, p), e.setAttribute("class", f), s.data = l.firstMPT, e.style.cssText = m, s = s.xfirst = o.parse(e, l.difs, s, a)
            }
        });
        var Jt = function(t) {
            if ((1 === t || 0 === t) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                var e, i, n, r, o, s = this.t.style,
                    c = a.transform.parse;
                if ("all" === this.e) s.cssText = "", r = !0;
                else
                    for (n = (e = this.e.split(" ").join("").split(",")).length; --n > -1;) i = e[n], a[i] && (a[i].parse === c ? r = !0 : i = "transformOrigin" === i ? It : a[i].p), Yt(s, i);
                r && (Yt(s, kt), (o = this.t._gsTransform) && (o.svg && (this.t.removeAttribute("data-svg-origin"), this.t.removeAttribute("transform")), delete this.t._gsTransform))
            }
        };
        for (St("clearProps", {
                parser: function(e, i, n, r, o) {
                    return (o = new yt(e, n, 0, 0, o, 2)).setRatio = Jt, o.e = i, o.pr = -10, o.data = r._tween, t = !0, o
                }
            }), c = "bezier,throwProps,physicsProps,physics2D".split(","), xt = c.length; xt--;) Mt(c[xt]);
        (c = o.prototype)._firstPT = c._lastParsedTransform = c._transform = null, c._onInitTween = function(n, s, c, p) {
            if (!n.nodeType) return !1;
            this._target = m = n, this._tween = c, this._vars = s, v = p, l = s.autoRound, t = !1, e = s.suffixMap || o.suffixMap, i = J(n, ""), r = this._overwriteProps;
            var f, g, y, _, b, x, w, M, T, A = n.style;
            if (u && "" === A.zIndex && ("auto" !== (f = Q(n, "zIndex", i)) && "" !== f || this._addLazySet(A, "zIndex", 0)), "string" == typeof s && (_ = A.cssText, f = et(n, i), A.cssText = _ + ";" + s, f = it(n, f, et(n)).difs, !H && S.test(s) && (f.opacity = parseFloat(RegExp.$1)), s = f, A.cssText = _), s.className ? this._firstPT = g = a.className.parse(n, s.className, "className", this, null, null, s) : this._firstPT = g = this.parse(n, s, null), this._transformType) {
                for (T = 3 === this._transformType, kt ? h && (u = !0, "" === A.zIndex && ("auto" !== (w = Q(n, "zIndex", i)) && "" !== w || this._addLazySet(A, "zIndex", 0)), d && this._addLazySet(A, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (T ? "visible" : "hidden"))) : A.zoom = 1, y = g; y && y._next;) y = y._next;
                M = new yt(n, "transform", 0, 0, null, 2), this._linkCSSP(M, null, y), M.setRatio = kt ? Xt : $t, M.data = this._transform || Ht(n, i, !0), M.tween = c, M.pr = -1, r.pop()
            }
            if (t) {
                for (; g;) {
                    for (x = g._next, y = _; y && y.pr > g.pr;) y = y._next;
                    (g._prev = y ? y._prev : b) ? g._prev._next = g: _ = g, (g._next = y) ? y._prev = g : b = g, g = x
                }
                this._firstPT = _
            }
            return !0
        }, c.parse = function(t, n, r, o) {
            var s, c, u, h, p, d, f, g, y, _, b = t.style;
            for (s in n) {
                if ("function" == typeof(d = n[s]) && (d = d(v, m)), c = a[s]) r = c.parse(t, d, s, this, r, o, n);
                else {
                    if ("--" === s.substr(0, 2)) {
                        this._tween._propLookup[s] = this._addTween.call(this._tween, t.style, "setProperty", J(t).getPropertyValue(s) + "", d + "", s, !1, s);
                        continue
                    }
                    p = Q(t, s, i) + "", y = "string" == typeof d, "color" === s || "fill" === s || "stroke" === s || -1 !== s.indexOf("Color") || y && T.test(d) ? (y || (d = ((d = pt(d)).length > 3 ? "rgba(" : "rgb(") + d.join(",") + ")"), r = bt(b, s, p, d, !0, "transparent", r, 0, o)) : y && R.test(d) ? r = bt(b, s, p, d, !0, null, r, 0, o) : (f = (u = parseFloat(p)) || 0 === u ? p.substr((u + "").length) : "", "" !== p && "auto" !== p || ("width" === s || "height" === s ? (u = ot(t, s, i), f = "px") : "left" === s || "top" === s ? (u = tt(t, s, i), f = "px") : (u = "opacity" !== s ? 0 : 1, f = "")), (_ = y && "=" === d.charAt(1)) ? (h = parseInt(d.charAt(0) + "1", 10), d = d.substr(2), h *= parseFloat(d), g = d.replace(x, "")) : (h = parseFloat(d), g = y ? d.replace(x, "") : ""), "" === g && (g = s in e ? e[s] : f), d = h || 0 === h ? (_ ? h + u : h) + g : n[s], f !== g && ("" === g && "lineHeight" !== s || (h || 0 === h) && u && (u = K(t, s, u, f), "%" === g ? (u /= K(t, s, 100, "%") / 100, !0 !== n.strictUnits && (p = u + "%")) : "em" === g || "rem" === g || "vw" === g || "vh" === g ? u /= K(t, s, 1, g) : "px" !== g && (h = K(t, s, h, g), g = "px"), _ && (h || 0 === h) && (d = h + u + g))), _ && (h += u), !u && 0 !== u || !h && 0 !== h ? void 0 !== b[s] && (d || d + "" != "NaN" && null != d) ? (r = new yt(b, s, h || u || 0, 0, r, -1, s, !1, 0, p, d)).xs0 = "none" !== d || "display" !== s && -1 === s.indexOf("Style") ? d : p : X(n[s]) : (r = new yt(b, s, u, h - u, r, 0, s, !1 !== l && ("px" === g || "zIndex" === s), 0, p, d)).xs0 = g)
                }
                o && r && !r.plugin && (r.plugin = o)
            }
            return r
        }, c.setRatio = function(t) {
            var e, i, n, r = this._firstPT;
            if (1 !== t || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                if (t || this._tween._time !== this._tween._duration && 0 !== this._tween._time || -1e-6 === this._tween._rawPrevTime)
                    for (; r;) {
                        if (e = r.c * t + r.s, r.r ? e = r.r(e) : e < 1e-6 && e > -1e-6 && (e = 0), r.type)
                            if (1 === r.type)
                                if (2 === (n = r.l)) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2;
                                else if (3 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3;
                        else if (4 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4;
                        else if (5 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4 + r.xn4 + r.xs5;
                        else {
                            for (i = r.xs0 + e + r.xs1, n = 1; n < r.l; n++) i += r["xn" + n] + r["xs" + (n + 1)];
                            r.t[r.p] = i
                        } else -1 === r.type ? r.t[r.p] = r.xs0 : r.setRatio && r.setRatio(t);
                        else r.t[r.p] = e + r.xs0;
                        r = r._next
                    } else
                        for (; r;) 2 !== r.type ? r.t[r.p] = r.b : r.setRatio(t), r = r._next;
                else
                    for (; r;) {
                        if (2 !== r.type)
                            if (r.r && -1 !== r.type)
                                if (e = r.r(r.s + r.c), r.type) {
                                    if (1 === r.type) {
                                        for (n = r.l, i = r.xs0 + e + r.xs1, n = 1; n < r.l; n++) i += r["xn" + n] + r["xs" + (n + 1)];
                                        r.t[r.p] = i
                                    }
                                } else r.t[r.p] = e + r.xs0;
                        else r.t[r.p] = r.e;
                        else r.setRatio(t);
                        r = r._next
                    }
        }, c._enableTransforms = function(t) {
            this._transform = this._transform || Ht(this._target, i, !0), this._transformType = this._transform.svg && Tt || !t && 3 !== this._transformType ? 2 : 3
        };
        var Qt = function(t) {
            this.t[this.p] = this.e, this.data._linkCSSP(this, this._next, null, !0)
        };
        c._addLazySet = function(t, e, i) {
            var n = this._firstPT = new yt(t, e, 0, 0, this._firstPT, 2);
            n.e = i, n.setRatio = Qt, n.data = this
        }, c._linkCSSP = function(t, e, i, n) {
            return t && (e && (e._prev = t), t._next && (t._next._prev = t._prev), t._prev ? t._prev._next = t._next : this._firstPT === t && (this._firstPT = t._next, n = !0), i ? i._next = t : n || null !== this._firstPT || (this._firstPT = t), t._next = e, t._prev = i), t
        }, c._mod = function(t) {
            for (var e = this._firstPT; e;) "function" == typeof t[e.p] && (e.r = t[e.p]), e = e._next
        }, c._kill = function(t) {
            var e, i, r, o = t;
            if (t.autoAlpha || t.alpha) {
                for (i in o = {}, t) o[i] = t[i];
                o.opacity = 1, o.autoAlpha && (o.visibility = 1)
            }
            for (t.className && (e = this._classNamePT) && ((r = e.xfirst) && r._prev ? this._linkCSSP(r._prev, e._next, r._prev._prev) : r === this._firstPT && (this._firstPT = e._next), e._next && this._linkCSSP(e._next, e._next._next, r._prev), this._classNamePT = null), e = this._firstPT; e;) e.plugin && e.plugin !== i && e.plugin._kill && (e.plugin._kill(t), i = e.plugin), e = e._next;
            return n.d.prototype._kill.call(this, o)
        };
        var Kt = function(t, e, i) {
            var n, r, o, s;
            if (t.slice)
                for (r = t.length; --r > -1;) Kt(t[r], e, i);
            else
                for (r = (n = t.childNodes).length; --r > -1;) s = (o = n[r]).type, o.style && (e.push(et(o)), i && i.push(o)), 1 !== s && 9 !== s && 11 !== s || !o.childNodes.length || Kt(o, e, i)
        };
        return o.cascadeTo = function(t, e, i) {
            var r, o, s, a, c = n.f.to(t, e, i),
                l = [c],
                u = [],
                h = [],
                p = [],
                d = n.f._internals.reservedProps;
            for (t = c._targets || c.target, Kt(t, u, p), c.render(e, !0, !0), Kt(t, h), c.render(0, !0, !0), c._enabled(!0), r = p.length; --r > -1;)
                if ((o = it(p[r], u[r], h[r])).firstMPT) {
                    for (s in o = o.difs, i) d[s] && (o[s] = i[s]);
                    for (s in a = {}, o) a[s] = u[r][s];
                    l.push(n.f.fromTo(p[r], e, a, o))
                }
            return l
        }, n.d.activate([o]), o
    }, !0);
    var r = n.g.CSSPlugin
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = i(18).e._gsDefine.plugin({
        propName: "attr",
        API: 2,
        version: "0.6.1",
        init: function(t, e, i, n) {
            var r, o;
            if ("function" != typeof t.setAttribute) return !1;
            for (r in e) "function" == typeof(o = e[r]) && (o = o(n, t)), this._addTween(t, "setAttribute", t.getAttribute(r) + "", o + "", r, !1, r), this._overwriteProps.push(r);
            return !0
        }
    })
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = i(18).e._gsDefine.plugin({
            propName: "roundProps",
            version: "1.7.0",
            priority: -1,
            API: 2,
            init: function(t, e, i) {
                return this._tween = i, !0
            }
        }),
        r = function(t) {
            var e = t < 1 ? Math.pow(10, (t + "").length - 2) : 1;
            return function(i) {
                return (Math.round(i / t) * t * e | 0) / e
            }
        },
        o = function(t, e) {
            for (; t;) t.f || t.blob || (t.m = e || Math.round), t = t._next
        },
        s = n.prototype;
    s._onInitAllProps = function() {
        var t, e, i, n, s = this._tween,
            a = s.vars.roundProps,
            c = {},
            l = s._propLookup.roundProps;
        if ("object" != typeof a || a.push)
            for ("string" == typeof a && (a = a.split(",")), i = a.length; --i > -1;) c[a[i]] = Math.round;
        else
            for (n in a) c[n] = r(a[n]);
        for (n in c)
            for (t = s._firstPT; t;) e = t._next, t.pg ? t.t._mod(c) : t.n === n && (2 === t.f && t.t ? o(t.t._firstPT, c[n]) : (this._add(t.t, n, t.s, t.c, c[n]), e && (e._prev = t._prev), t._prev ? t._prev._next = e : s._firstPT === t && (s._firstPT = e), t._next = t._prev = null, s._propLookup[n] = l)), t = e;
        return !1
    }, s._add = function(t, e, i, n, r) {
        this._addTween(t, e, i, i + n, e, r || Math.round), this._overwriteProps.push(e)
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = i(18).e._gsDefine.plugin({
        propName: "directionalRotation",
        version: "0.3.1",
        API: 2,
        init: function(t, e, i, n) {
            "object" != typeof e && (e = {
                rotation: e
            }), this.finals = {};
            var r, o, s, a, c, l, u = !0 === e.useRadians ? 2 * Math.PI : 360;
            for (r in e) "useRadians" !== r && ("function" == typeof(a = e[r]) && (a = a(n, t)), o = (l = (a + "").split("_"))[0], s = parseFloat("function" != typeof t[r] ? t[r] : t[r.indexOf("set") || "function" != typeof t["get" + r.substr(3)] ? r : "get" + r.substr(3)]()), c = (a = this.finals[r] = "string" == typeof o && "=" === o.charAt(1) ? s + parseInt(o.charAt(0) + "1", 10) * Number(o.substr(2)) : Number(o) || 0) - s, l.length && (-1 !== (o = l.join("_")).indexOf("short") && (c %= u) !== c % (u / 2) && (c = c < 0 ? c + u : c - u), -1 !== o.indexOf("_cw") && c < 0 ? c = (c + 9999999999 * u) % u - (c / u | 0) * u : -1 !== o.indexOf("ccw") && c > 0 && (c = (c - 9999999999 * u) % u - (c / u | 0) * u)), (c > 1e-6 || c < -1e-6) && (this._addTween(t, r, s, s + c, r), this._overwriteProps.push(r)));
            return !0
        },
        set: function(t) {
            var e;
            if (1 !== t) this._super.setRatio.call(this, t);
            else
                for (e = this._firstPT; e;) e.f ? e.t[e.p](this.finals[e.p]) : e.t[e.p] = this.finals[e.p], e = e._next
        }
    });
    n._autoCSS = !0
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return v
    });
    var n = i(18),
        r = 180 / Math.PI,
        o = [],
        s = [],
        a = [],
        c = {},
        l = n.e._gsDefine.globals,
        u = function(t, e, i, n) {
            i === n && (i = n - (n - e) / 1e6), t === e && (e = t + (i - t) / 1e6), this.a = t, this.b = e, this.c = i, this.d = n, this.da = n - t, this.ca = i - t, this.ba = e - t
        },
        h = function(t, e, i, n) {
            var r = {
                    a: t
                },
                o = {},
                s = {},
                a = {
                    c: n
                },
                c = (t + e) / 2,
                l = (e + i) / 2,
                u = (i + n) / 2,
                h = (c + l) / 2,
                p = (l + u) / 2,
                d = (p - h) / 8;
            return r.b = c + (t - c) / 4, o.b = h + d, r.c = o.a = (r.b + o.b) / 2, o.c = s.a = (h + p) / 2, s.b = p - d, a.b = u + (n - u) / 4, s.c = a.a = (s.b + a.b) / 2, [r, o, s, a]
        },
        p = function(t, e, i, n, r) {
            var c, l, u, p, d, f, m, v, g, y, _, b, x, w = t.length - 1,
                S = 0,
                M = t[0].a;
            for (c = 0; c < w; c++) l = (d = t[S]).a, u = d.d, p = t[S + 1].d, r ? (_ = o[c], x = ((b = s[c]) + _) * e * .25 / (n ? .5 : a[c] || .5), v = u - ((f = u - (u - l) * (n ? .5 * e : 0 !== _ ? x / _ : 0)) + (((m = u + (p - u) * (n ? .5 * e : 0 !== b ? x / b : 0)) - f) * (3 * _ / (_ + b) + .5) / 4 || 0))) : v = u - ((f = u - (u - l) * e * .5) + (m = u + (p - u) * e * .5)) / 2, f += v, m += v, d.c = g = f, d.b = 0 !== c ? M : M = d.a + .6 * (d.c - d.a), d.da = u - l, d.ca = g - l, d.ba = M - l, i ? (y = h(l, M, g, u), t.splice(S, 1, y[0], y[1], y[2], y[3]), S += 4) : S++, M = m;
            (d = t[S]).b = M, d.c = M + .4 * (d.d - M), d.da = d.d - d.a, d.ca = d.c - d.a, d.ba = M - d.a, i && (y = h(d.a, M, d.c, d.d), t.splice(S, 1, y[0], y[1], y[2], y[3]))
        },
        d = function(t, e, i, n) {
            var r, a, c, l, h, p, d = [];
            if (n)
                for (a = (t = [n].concat(t)).length; --a > -1;) "string" == typeof(p = t[a][e]) && "=" === p.charAt(1) && (t[a][e] = n[e] + Number(p.charAt(0) + p.substr(2)));
            if ((r = t.length - 2) < 0) return d[0] = new u(t[0][e], 0, 0, t[0][e]), d;
            for (a = 0; a < r; a++) c = t[a][e], l = t[a + 1][e], d[a] = new u(c, 0, 0, l), i && (h = t[a + 2][e], o[a] = (o[a] || 0) + (l - c) * (l - c), s[a] = (s[a] || 0) + (h - l) * (h - l));
            return d[a] = new u(t[a][e], 0, 0, t[a + 1][e]), d
        },
        f = function(t, e, i, n, r, l) {
            var u, h, f, m, v, g, y, _, b = {},
                x = [],
                w = l || t[0];
            for (h in r = "string" == typeof r ? "," + r + "," : ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,", null == e && (e = 1), t[0]) x.push(h);
            if (t.length > 1) {
                for (_ = t[t.length - 1], y = !0, u = x.length; --u > -1;)
                    if (h = x[u], Math.abs(w[h] - _[h]) > .05) {
                        y = !1;
                        break
                    }
                y && (t = t.concat(), l && t.unshift(l), t.push(t[1]), l = t[t.length - 3])
            }
            for (o.length = s.length = a.length = 0, u = x.length; --u > -1;) h = x[u], c[h] = -1 !== r.indexOf("," + h + ","), b[h] = d(t, h, c[h], l);
            for (u = o.length; --u > -1;) o[u] = Math.sqrt(o[u]), s[u] = Math.sqrt(s[u]);
            if (!n) {
                for (u = x.length; --u > -1;)
                    if (c[h])
                        for (g = (f = b[x[u]]).length - 1, m = 0; m < g; m++) v = f[m + 1].da / s[m] + f[m].da / o[m] || 0, a[m] = (a[m] || 0) + v * v;
                for (u = a.length; --u > -1;) a[u] = Math.sqrt(a[u])
            }
            for (u = x.length, m = i ? 4 : 1; --u > -1;) f = b[h = x[u]], p(f, e, i, n, c[h]), y && (f.splice(0, m), f.splice(f.length - m, m));
            return b
        },
        m = function(t, e, i) {
            for (var n, r, o, s, a, c, l, u, h, p, d, f = 1 / i, m = t.length; --m > -1;)
                for (o = (p = t[m]).a, s = p.d - o, a = p.c - o, c = p.b - o, n = r = 0, u = 1; u <= i; u++) n = r - (r = ((l = f * u) * l * s + 3 * (h = 1 - l) * (l * a + h * c)) * l), e[d = m * i + u - 1] = (e[d] || 0) + n * n
        },
        v = n.e._gsDefine.plugin({
            propName: "bezier",
            priority: -1,
            version: "1.3.8",
            API: 2,
            global: !0,
            init: function(t, e, i) {
                this._target = t, e instanceof Array && (e = {
                    values: e
                }), this._func = {}, this._mod = {}, this._props = [], this._timeRes = null == e.timeResolution ? 6 : parseInt(e.timeResolution, 10);
                var n, r, o, s, a, c = e.values || [],
                    l = {},
                    h = c[0],
                    p = e.autoRotate || i.vars.orientToBezier;
                for (n in this._autoRotate = p ? p instanceof Array ? p : [
                        ["x", "y", "rotation", !0 === p ? 0 : Number(p) || 0]
                    ] : null, h) this._props.push(n);
                for (o = this._props.length; --o > -1;) n = this._props[o], this._overwriteProps.push(n), r = this._func[n] = "function" == typeof t[n], l[n] = r ? t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)]() : parseFloat(t[n]), a || l[n] !== c[0][n] && (a = l);
                if (this._beziers = "cubic" !== e.type && "quadratic" !== e.type && "soft" !== e.type ? f(c, isNaN(e.curviness) ? 1 : e.curviness, !1, "thruBasic" === e.type, e.correlate, a) : function(t, e, i) {
                        var n, r, o, s, a, c, l, h, p, d, f, m = {},
                            v = "cubic" === (e = e || "soft") ? 3 : 2,
                            g = "soft" === e,
                            y = [];
                        if (g && i && (t = [i].concat(t)), null == t || t.length < v + 1) throw "invalid Bezier data";
                        for (p in t[0]) y.push(p);
                        for (c = y.length; --c > -1;) {
                            for (m[p = y[c]] = a = [], d = 0, h = t.length, l = 0; l < h; l++) n = null == i ? t[l][p] : "string" == typeof(f = t[l][p]) && "=" === f.charAt(1) ? i[p] + Number(f.charAt(0) + f.substr(2)) : Number(f), g && l > 1 && l < h - 1 && (a[d++] = (n + a[d - 2]) / 2), a[d++] = n;
                            for (h = d - v + 1, d = 0, l = 0; l < h; l += v) n = a[l], r = a[l + 1], o = a[l + 2], s = 2 === v ? 0 : a[l + 3], a[d++] = f = 3 === v ? new u(n, r, o, s) : new u(n, (2 * r + n) / 3, (2 * r + o) / 3, o);
                            a.length = d
                        }
                        return m
                    }(c, e.type, l), this._segCount = this._beziers[n].length, this._timeRes) {
                    var d = function(t, e) {
                        var i, n, r, o, s = [],
                            a = [],
                            c = 0,
                            l = 0,
                            u = (e = e >> 0 || 6) - 1,
                            h = [],
                            p = [];
                        for (i in t) m(t[i], s, e);
                        for (r = s.length, n = 0; n < r; n++) c += Math.sqrt(s[n]), p[o = n % e] = c, o === u && (l += c, h[o = n / e >> 0] = p, a[o] = l, c = 0, p = []);
                        return {
                            length: l,
                            lengths: a,
                            segments: h
                        }
                    }(this._beziers, this._timeRes);
                    this._length = d.length, this._lengths = d.lengths, this._segments = d.segments, this._l1 = this._li = this._s1 = this._si = 0, this._l2 = this._lengths[0], this._curSeg = this._segments[0], this._s2 = this._curSeg[0], this._prec = 1 / this._curSeg.length
                }
                if (p = this._autoRotate)
                    for (this._initialRotations = [], p[0] instanceof Array || (this._autoRotate = p = [p]), o = p.length; --o > -1;) {
                        for (s = 0; s < 3; s++) n = p[o][s], this._func[n] = "function" == typeof t[n] && t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)];
                        n = p[o][2], this._initialRotations[o] = (this._func[n] ? this._func[n].call(this._target) : this._target[n]) || 0, this._overwriteProps.push(n)
                    }
                return this._startRatio = i.vars.runBackwards ? 1 : 0, !0
            },
            set: function(t) {
                var e, i, n, o, s, a, c, l, u, h, p = this._segCount,
                    d = this._func,
                    f = this._target,
                    m = t !== this._startRatio;
                if (this._timeRes) {
                    if (u = this._lengths, h = this._curSeg, t *= this._length, n = this._li, t > this._l2 && n < p - 1) {
                        for (l = p - 1; n < l && (this._l2 = u[++n]) <= t;);
                        this._l1 = u[n - 1], this._li = n, this._curSeg = h = this._segments[n], this._s2 = h[this._s1 = this._si = 0]
                    } else if (t < this._l1 && n > 0) {
                        for (; n > 0 && (this._l1 = u[--n]) >= t;);
                        0 === n && t < this._l1 ? this._l1 = 0 : n++, this._l2 = u[n], this._li = n, this._curSeg = h = this._segments[n], this._s1 = h[(this._si = h.length - 1) - 1] || 0, this._s2 = h[this._si]
                    }
                    if (e = n, t -= this._l1, n = this._si, t > this._s2 && n < h.length - 1) {
                        for (l = h.length - 1; n < l && (this._s2 = h[++n]) <= t;);
                        this._s1 = h[n - 1], this._si = n
                    } else if (t < this._s1 && n > 0) {
                        for (; n > 0 && (this._s1 = h[--n]) >= t;);
                        0 === n && t < this._s1 ? this._s1 = 0 : n++, this._s2 = h[n], this._si = n
                    }
                    a = (n + (t - this._s1) / (this._s2 - this._s1)) * this._prec || 0
                } else a = (t - (e = t < 0 ? 0 : t >= 1 ? p - 1 : p * t >> 0) * (1 / p)) * p;
                for (i = 1 - a, n = this._props.length; --n > -1;) o = this._props[n], c = (a * a * (s = this._beziers[o][e]).da + 3 * i * (a * s.ca + i * s.ba)) * a + s.a, this._mod[o] && (c = this._mod[o](c, f)), d[o] ? f[o](c) : f[o] = c;
                if (this._autoRotate) {
                    var v, g, y, _, b, x, w, S = this._autoRotate;
                    for (n = S.length; --n > -1;) o = S[n][2], x = S[n][3] || 0, w = !0 === S[n][4] ? 1 : r, s = this._beziers[S[n][0]], v = this._beziers[S[n][1]], s && v && (s = s[e], v = v[e], g = s.a + (s.b - s.a) * a, g += ((_ = s.b + (s.c - s.b) * a) - g) * a, _ += (s.c + (s.d - s.c) * a - _) * a, y = v.a + (v.b - v.a) * a, y += ((b = v.b + (v.c - v.b) * a) - y) * a, b += (v.c + (v.d - v.c) * a - b) * a, c = m ? Math.atan2(b - y, _ - g) * w + x : this._initialRotations[n], this._mod[o] && (c = this._mod[o](c, f)), d[o] ? f[o](c) : f[o] = c)
                }
            }
        }),
        g = v.prototype;
    v.bezierThrough = f, v.cubicToQuadratic = h, v._autoCSS = !0, v.quadraticToCubic = function(t, e, i) {
        return new u(t, (2 * e + t) / 3, (2 * e + i) / 3, i)
    }, v._cssRegister = function() {
        var t = l.CSSPlugin;
        if (t) {
            var e = t._internals,
                i = e._parseToProxy,
                n = e._setPluginRatio,
                r = e.CSSPropTween;
            e._registerComplexSpecialProp("bezier", {
                parser: function(t, e, o, s, a, c) {
                    e instanceof Array && (e = {
                        values: e
                    }), c = new v;
                    var l, u, h, p = e.values,
                        d = p.length - 1,
                        f = [],
                        m = {};
                    if (d < 0) return a;
                    for (l = 0; l <= d; l++) h = i(t, p[l], s, a, c, d !== l), f[l] = h.end;
                    for (u in e) m[u] = e[u];
                    return m.values = f, (a = new r(t, "bezier", 0, 0, h.pt, 2)).data = h, a.plugin = c, a.setRatio = n, 0 === m.autoRotate && (m.autoRotate = !0), !m.autoRotate || m.autoRotate instanceof Array || (l = !0 === m.autoRotate ? 0 : Number(m.autoRotate), m.autoRotate = null != h.end.left ? [
                        ["left", "top", "rotation", l, !1]
                    ] : null != h.end.x && [
                        ["x", "y", "rotation", l, !1]
                    ]), m.autoRotate && (s._transform || s._enableTransforms(!1), h.autoRotate = s._target._gsTransform, h.proxy.rotation = h.autoRotate.rotation || 0, s._overwriteProps.push("rotation")), c._onInitTween(h.proxy, m, s._tween), a
                }
            })
        }
    }, g._mod = function(t) {
        for (var e, i = this._overwriteProps, n = i.length; --n > -1;)(e = t[i[n]]) && "function" == typeof e && (this._mod[i[n]] = e)
    }, g._kill = function(t) {
        var e, i, n = this._props;
        for (e in this._beziers)
            if (e in t)
                for (delete this._beziers[e], delete this._func[e], i = n.length; --i > -1;) n[i] === e && n.splice(i, 1);
        if (n = this._autoRotate)
            for (i = n.length; --i > -1;) t[n[i][2]] && n.splice(i, 1);
        return this._super._kill.call(this, t)
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    }), i.d(e, "d", function() {
        return o
    }), i.d(e, "b", function() {
        return s
    }), i.d(e, "g", function() {
        return a
    }), i.d(e, "i", function() {
        return c
    }), i.d(e, "j", function() {
        return l
    }), i.d(e, "c", function() {
        return u
    }), i.d(e, "e", function() {
        return h
    }), i.d(e, "h", function() {
        return p
    }), i.d(e, "f", function() {
        return d
    });
    var n = i(18);
    n.e._gsDefine("easing.Back", ["easing.Ease"], function() {
        var t, e, i, r, o = n.e.GreenSockGlobals || n.e,
            s = o.com.greensock,
            a = 2 * Math.PI,
            c = Math.PI / 2,
            l = s._class,
            u = function(t, e) {
                var i = l("easing." + t, function() {}, !0),
                    r = i.prototype = new n.b;
                return r.constructor = i, r.getRatio = e, i
            },
            h = n.b.register || function() {},
            p = function(t, e, i, n, r) {
                var o = l("easing." + t, {
                    easeOut: new e,
                    easeIn: new i,
                    easeInOut: new n
                }, !0);
                return h(o, t), o
            },
            d = function(t, e, i) {
                this.t = t, this.v = e, i && (this.next = i, i.prev = this, this.c = i.v - e, this.gap = i.t - t)
            },
            f = function(t, e) {
                var i = l("easing." + t, function(t) {
                        this._p1 = t || 0 === t ? t : 1.70158, this._p2 = 1.525 * this._p1
                    }, !0),
                    r = i.prototype = new n.b;
                return r.constructor = i, r.getRatio = e, r.config = function(t) {
                    return new i(t)
                }, i
            },
            m = p("Back", f("BackOut", function(t) {
                return (t -= 1) * t * ((this._p1 + 1) * t + this._p1) + 1
            }), f("BackIn", function(t) {
                return t * t * ((this._p1 + 1) * t - this._p1)
            }), f("BackInOut", function(t) {
                return (t *= 2) < 1 ? .5 * t * t * ((this._p2 + 1) * t - this._p2) : .5 * ((t -= 2) * t * ((this._p2 + 1) * t + this._p2) + 2)
            })),
            v = l("easing.SlowMo", function(t, e, i) {
                e = e || 0 === e ? e : .7, null == t ? t = .7 : t > 1 && (t = 1), this._p = 1 !== t ? e : 0, this._p1 = (1 - t) / 2, this._p2 = t, this._p3 = this._p1 + this._p2, this._calcEnd = !0 === i
            }, !0),
            g = v.prototype = new n.b;
        return g.constructor = v, g.getRatio = function(t) {
            var e = t + (.5 - t) * this._p;
            return t < this._p1 ? this._calcEnd ? 1 - (t = 1 - t / this._p1) * t : e - (t = 1 - t / this._p1) * t * t * t * e : t > this._p3 ? this._calcEnd ? 1 === t ? 0 : 1 - (t = (t - this._p3) / this._p1) * t : e + (t - e) * (t = (t - this._p3) / this._p1) * t * t * t : this._calcEnd ? 1 : e
        }, v.ease = new v(.7, .7), g.config = v.config = function(t, e, i) {
            return new v(t, e, i)
        }, (g = (t = l("easing.SteppedEase", function(t, e) {
            t = t || 1, this._p1 = 1 / t, this._p2 = t + (e ? 0 : 1), this._p3 = e ? 1 : 0
        }, !0)).prototype = new n.b).constructor = t, g.getRatio = function(t) {
            return t < 0 ? t = 0 : t >= 1 && (t = .999999999), ((this._p2 * t | 0) + this._p3) * this._p1
        }, g.config = t.config = function(e, i) {
            return new t(e, i)
        }, (g = (e = l("easing.ExpoScaleEase", function(t, e, i) {
            this._p1 = Math.log(e / t), this._p2 = e - t, this._p3 = t, this._ease = i
        }, !0)).prototype = new n.b).constructor = e, g.getRatio = function(t) {
            return this._ease && (t = this._ease.getRatio(t)), (this._p3 * Math.exp(this._p1 * t) - this._p3) / this._p2
        }, g.config = e.config = function(t, i, n) {
            return new e(t, i, n)
        }, (g = (i = l("easing.RoughEase", function(t) {
            for (var e, i, r, o, s, a, c = (t = t || {}).taper || "none", l = [], u = 0, h = 0 | (t.points || 20), p = h, f = !1 !== t.randomize, m = !0 === t.clamp, v = t.template instanceof n.b ? t.template : null, g = "number" == typeof t.strength ? .4 * t.strength : .4; --p > -1;) e = f ? Math.random() : 1 / h * p, i = v ? v.getRatio(e) : e, r = "none" === c ? g : "out" === c ? (o = 1 - e) * o * g : "in" === c ? e * e * g : e < .5 ? (o = 2 * e) * o * .5 * g : (o = 2 * (1 - e)) * o * .5 * g, f ? i += Math.random() * r - .5 * r : p % 2 ? i += .5 * r : i -= .5 * r, m && (i > 1 ? i = 1 : i < 0 && (i = 0)), l[u++] = {
                x: e,
                y: i
            };
            for (l.sort(function(t, e) {
                    return t.x - e.x
                }), a = new d(1, 1, null), p = h; --p > -1;) s = l[p], a = new d(s.x, s.y, a);
            this._prev = new d(0, 0, 0 !== a.t ? a : a.next)
        }, !0)).prototype = new n.b).constructor = i, g.getRatio = function(t) {
            var e = this._prev;
            if (t > e.t) {
                for (; e.next && t >= e.t;) e = e.next;
                e = e.prev
            } else
                for (; e.prev && t <= e.t;) e = e.prev;
            return this._prev = e, e.v + (t - e.t) / e.gap * e.c
        }, g.config = function(t) {
            return new i(t)
        }, i.ease = new i, p("Bounce", u("BounceOut", function(t) {
            return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
        }), u("BounceIn", function(t) {
            return (t = 1 - t) < 1 / 2.75 ? 1 - 7.5625 * t * t : t < 2 / 2.75 ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375)
        }), u("BounceInOut", function(t) {
            var e = t < .5;
            return (t = e ? 1 - 2 * t : 2 * t - 1) < 1 / 2.75 ? t *= 7.5625 * t : t = t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5
        })), p("Circ", u("CircOut", function(t) {
            return Math.sqrt(1 - (t -= 1) * t)
        }), u("CircIn", function(t) {
            return -(Math.sqrt(1 - t * t) - 1)
        }), u("CircInOut", function(t) {
            return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
        })), p("Elastic", (r = function(t, e, i) {
            var r = l("easing." + t, function(t, e) {
                    this._p1 = t >= 1 ? t : 1, this._p2 = (e || i) / (t < 1 ? t : 1), this._p3 = this._p2 / a * (Math.asin(1 / this._p1) || 0), this._p2 = a / this._p2
                }, !0),
                o = r.prototype = new n.b;
            return o.constructor = r, o.getRatio = e, o.config = function(t, e) {
                return new r(t, e)
            }, r
        })("ElasticOut", function(t) {
            return this._p1 * Math.pow(2, -10 * t) * Math.sin((t - this._p3) * this._p2) + 1
        }, .3), r("ElasticIn", function(t) {
            return -this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2)
        }, .3), r("ElasticInOut", function(t) {
            return (t *= 2) < 1 ? this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * -.5 : this._p1 * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * .5 + 1
        }, .45)), p("Expo", u("ExpoOut", function(t) {
            return 1 - Math.pow(2, -10 * t)
        }), u("ExpoIn", function(t) {
            return Math.pow(2, 10 * (t - 1)) - .001
        }), u("ExpoInOut", function(t) {
            return (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1)))
        })), p("Sine", u("SineOut", function(t) {
            return Math.sin(t * c)
        }), u("SineIn", function(t) {
            return 1 - Math.cos(t * c)
        }), u("SineInOut", function(t) {
            return -.5 * (Math.cos(Math.PI * t) - 1)
        })), l("easing.EaseLookup", {
            find: function(t) {
                return n.b.map[t]
            }
        }, !0), h(o.SlowMo, "SlowMo", "ease,"), h(i, "RoughEase", "ease,"), h(t, "SteppedEase", "ease,"), m
    }, !0);
    var r = n.g.Back,
        o = n.g.Elastic,
        s = n.g.Bounce,
        a = n.g.RoughEase,
        c = n.g.SlowMo,
        l = n.g.SteppedEase,
        u = n.g.Circ,
        h = n.g.Expo,
        p = n.g.Sine,
        d = n.g.ExpoScaleEase
}, function(t, e, i) {
    var n, r;
    void 0 === (r = "function" == typeof(n = function() {
        "use strict";
        var t = function() {
            n.log(2, "(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")
        };
        t.version = "2.0.5", window.addEventListener("mousewheel", function() {});
        t.Controller = function(i) {
            var r, o, s = "ScrollMagic.Controller",
                a = e.defaults,
                c = this,
                l = n.extend({}, a, i),
                u = [],
                h = !1,
                p = 0,
                d = "PAUSED",
                f = !0,
                m = 0,
                v = !0,
                g = function() {
                    l.refreshInterval > 0 && (o = window.setTimeout(M, l.refreshInterval))
                },
                y = function() {
                    return l.vertical ? n.get.scrollTop(l.container) : n.get.scrollLeft(l.container)
                },
                _ = function() {
                    return l.vertical ? n.get.height(l.container) : n.get.width(l.container)
                },
                b = this._setScrollPos = function(t) {
                    l.vertical ? f ? window.scrollTo(n.get.scrollLeft(), t) : l.container.scrollTop = t : f ? window.scrollTo(t, n.get.scrollTop()) : l.container.scrollLeft = t
                },
                x = function() {
                    if (v && h) {
                        var t = n.type.Array(h) ? h : u.slice(0);
                        h = !1;
                        var e = p,
                            i = (p = c.scrollPos()) - e;
                        0 !== i && (d = i > 0 ? "FORWARD" : "REVERSE"), "REVERSE" === d && t.reverse(), t.forEach(function(e, i) {
                            T(3, "updating Scene " + (i + 1) + "/" + t.length + " (" + u.length + " total)"), e.update(!0)
                        }), 0 === t.length && l.loglevel >= 3 && T(3, "updating 0 Scenes (nothing added to controller)")
                    }
                },
                w = function() {
                    r = n.rAF(x)
                },
                S = function(t) {
                    T(3, "event fired causing an update:", t.type), "resize" == t.type && (m = _(), d = "PAUSED"), !0 !== h && (h = !0, w())
                },
                M = function() {
                    if (!f && m != _()) {
                        var t;
                        try {
                            t = new Event("resize", {
                                bubbles: !1,
                                cancelable: !1
                            })
                        } catch (e) {
                            (t = document.createEvent("Event")).initEvent("resize", !1, !1)
                        }
                        l.container.dispatchEvent(t)
                    }
                    u.forEach(function(t, e) {
                        t.refresh()
                    }), g()
                },
                T = this._log = function(t, e) {
                    l.loglevel >= t && (Array.prototype.splice.call(arguments, 1, 0, "(" + s + ") ->"), n.log.apply(window, arguments))
                };
            this._options = l;
            var A = function(t) {
                if (t.length <= 1) return t;
                var e = t.slice(0);
                return e.sort(function(t, e) {
                    return t.scrollOffset() > e.scrollOffset() ? 1 : -1
                }), e
            };
            return this.addScene = function(e) {
                    if (n.type.Array(e)) e.forEach(function(t, e) {
                        c.addScene(t)
                    });
                    else if (e instanceof t.Scene) {
                        if (e.controller() !== c) e.addTo(c);
                        else if (u.indexOf(e) < 0) {
                            for (var i in u.push(e), u = A(u), e.on("shift.controller_sort", function() {
                                    u = A(u)
                                }), l.globalSceneOptions) e[i] && e[i].call(e, l.globalSceneOptions[i]);
                            T(3, "adding Scene (now " + u.length + " total)")
                        }
                    } else T(1, "ERROR: invalid argument supplied for '.addScene()'");
                    return c
                }, this.removeScene = function(t) {
                    if (n.type.Array(t)) t.forEach(function(t, e) {
                        c.removeScene(t)
                    });
                    else {
                        var e = u.indexOf(t);
                        e > -1 && (t.off("shift.controller_sort"), u.splice(e, 1), T(3, "removing Scene (now " + u.length + " left)"), t.remove())
                    }
                    return c
                }, this.updateScene = function(e, i) {
                    return n.type.Array(e) ? e.forEach(function(t, e) {
                        c.updateScene(t, i)
                    }) : i ? e.update(!0) : !0 !== h && e instanceof t.Scene && (-1 == (h = h || []).indexOf(e) && h.push(e), h = A(h), w()), c
                }, this.update = function(t) {
                    return S({
                        type: "resize"
                    }), t && x(), c
                }, this.scrollTo = function(e, i) {
                    if (n.type.Number(e)) b.call(l.container, e, i);
                    else if (e instanceof t.Scene) e.controller() === c ? c.scrollTo(e.scrollOffset(), i) : T(2, "scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.", e);
                    else if (n.type.Function(e)) b = e;
                    else {
                        var r = n.get.elements(e)[0];
                        if (r) {
                            for (; r.parentNode.hasAttribute("data-scrollmagic-pin-spacer");) r = r.parentNode;
                            var o = l.vertical ? "top" : "left",
                                s = n.get.offset(l.container),
                                a = n.get.offset(r);
                            f || (s[o] -= c.scrollPos()), c.scrollTo(a[o] - s[o], i)
                        } else T(2, "scrollTo(): The supplied argument is invalid. Scroll cancelled.", e)
                    }
                    return c
                }, this.scrollPos = function(t) {
                    return arguments.length ? (n.type.Function(t) ? y = t : T(2, "Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."), c) : y.call(c)
                }, this.info = function(t) {
                    var e = {
                        size: m,
                        vertical: l.vertical,
                        scrollPos: p,
                        scrollDirection: d,
                        container: l.container,
                        isDocument: f
                    };
                    return arguments.length ? void 0 !== e[t] ? e[t] : void T(1, 'ERROR: option "' + t + '" is not available') : e
                }, this.loglevel = function(t) {
                    return arguments.length ? (l.loglevel != t && (l.loglevel = t), c) : l.loglevel
                }, this.enabled = function(t) {
                    return arguments.length ? (v != t && (v = !!t, c.updateScene(u, !0)), c) : v
                }, this.destroy = function(t) {
                    window.clearTimeout(o);
                    for (var e = u.length; e--;) u[e].destroy(t);
                    return l.container.removeEventListener("resize", S), l.container.removeEventListener("scroll", S), n.cAF(r), T(3, "destroyed " + s + " (reset: " + (t ? "true" : "false") + ")"), null
                },
                function() {
                    for (var e in l) a.hasOwnProperty(e) || (T(2, 'WARNING: Unknown option "' + e + '"'), delete l[e]);
                    if (l.container = n.get.elements(l.container)[0], !l.container) throw T(1, "ERROR creating object " + s + ": No valid scroll container supplied"), s + " init failed.";
                    (f = l.container === window || l.container === document.body || !document.body.contains(l.container)) && (l.container = window), m = _(), l.container.addEventListener("resize", S), l.container.addEventListener("scroll", S), l.refreshInterval = parseInt(l.refreshInterval) || a.refreshInterval, g(), T(3, "added new " + s + " controller (v" + t.version + ")")
                }(), c
        };
        var e = {
            defaults: {
                container: window,
                vertical: !0,
                globalSceneOptions: {},
                loglevel: 2,
                refreshInterval: 100
            }
        };
        t.Controller.addOption = function(t, i) {
            e.defaults[t] = i
        }, t.Controller.extend = function(e) {
            var i = this;
            t.Controller = function() {
                return i.apply(this, arguments), this.$super = n.extend({}, this), e.apply(this, arguments) || this
            }, n.extend(t.Controller, i), t.Controller.prototype = i.prototype, t.Controller.prototype.constructor = t.Controller
        }, t.Scene = function(e) {
            var r, o, s = "ScrollMagic.Scene",
                a = i.defaults,
                c = this,
                l = n.extend({}, a, e),
                u = "BEFORE",
                h = 0,
                p = {
                    start: 0,
                    end: 0
                },
                d = 0,
                f = !0,
                m = {};
            this.on = function(t, e) {
                return n.type.Function(e) ? (t = t.trim().split(" ")).forEach(function(t) {
                    var i = t.split("."),
                        n = i[0],
                        r = i[1];
                    "*" != n && (m[n] || (m[n] = []), m[n].push({
                        namespace: r || "",
                        callback: e
                    }))
                }) : v(1, "ERROR when calling '.on()': Supplied callback for '" + t + "' is not a valid function!"), c
            }, this.off = function(t, e) {
                return t ? ((t = t.trim().split(" ")).forEach(function(t, i) {
                    var n = t.split("."),
                        r = n[0],
                        o = n[1] || "";
                    ("*" === r ? Object.keys(m) : [r]).forEach(function(t) {
                        for (var i = m[t] || [], n = i.length; n--;) {
                            var r = i[n];
                            !r || o !== r.namespace && "*" !== o || e && e != r.callback || i.splice(n, 1)
                        }
                        i.length || delete m[t]
                    })
                }), c) : (v(1, "ERROR: Invalid event name supplied."), c)
            }, this.trigger = function(e, i) {
                if (e) {
                    var n = e.trim().split("."),
                        r = n[0],
                        o = n[1],
                        s = m[r];
                    v(3, "event fired:", r, i ? "->" : "", i || ""), s && s.forEach(function(e, n) {
                        o && o !== e.namespace || e.callback.call(c, new t.Event(r, e.namespace, c, i))
                    })
                } else v(1, "ERROR: Invalid event name supplied.");
                return c
            }, c.on("change.internal", function(t) {
                "loglevel" !== t.what && "tweenChanges" !== t.what && ("triggerElement" === t.what ? x() : "reverse" === t.what && c.update())
            }).on("shift.internal", function(t) {
                _(), c.update()
            });
            var v = this._log = function(t, e) {
                l.loglevel >= t && (Array.prototype.splice.call(arguments, 1, 0, "(" + s + ") ->"), n.log.apply(window, arguments))
            };
            this.addTo = function(e) {
                return e instanceof t.Controller ? o != e && (o && o.removeScene(c), o = e, M(), b(!0), x(!0), _(), o.info("container").addEventListener("resize", w), e.addScene(c), c.trigger("add", {
                    controller: o
                }), v(3, "added " + s + " to controller"), c.update()) : v(1, "ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"), c
            }, this.enabled = function(t) {
                return arguments.length ? (f != t && (f = !!t, c.update(!0)), c) : f
            }, this.remove = function() {
                if (o) {
                    o.info("container").removeEventListener("resize", w);
                    var t = o;
                    o = void 0, t.removeScene(c), c.trigger("remove"), v(3, "removed " + s + " from controller")
                }
                return c
            }, this.destroy = function(t) {
                return c.trigger("destroy", {
                    reset: t
                }), c.remove(), c.off("*.*"), v(3, "destroyed " + s + " (reset: " + (t ? "true" : "false") + ")"), null
            }, this.update = function(t) {
                if (o)
                    if (t)
                        if (o.enabled() && f) {
                            var e, i = o.info("scrollPos");
                            e = l.duration > 0 ? (i - p.start) / (p.end - p.start) : i >= p.start ? 1 : 0, c.trigger("update", {
                                startPos: p.start,
                                endPos: p.end,
                                scrollPos: i
                            }), c.progress(e)
                        } else g && "DURING" === u && C(!0);
                else o.updateScene(c, !1);
                return c
            }, this.refresh = function() {
                return b(), x(), c
            }, this.progress = function(t) {
                if (arguments.length) {
                    var e = !1,
                        i = u,
                        n = o ? o.info("scrollDirection") : "PAUSED",
                        r = l.reverse || t >= h;
                    if (0 === l.duration ? (e = h != t, u = 0 === (h = t < 1 && r ? 0 : 1) ? "BEFORE" : "DURING") : t < 0 && "BEFORE" !== u && r ? (h = 0, u = "BEFORE", e = !0) : t >= 0 && t < 1 && r ? (h = t, u = "DURING", e = !0) : t >= 1 && "AFTER" !== u ? (h = 1, u = "AFTER", e = !0) : "DURING" !== u || r || C(), e) {
                        var s = {
                                progress: h,
                                state: u,
                                scrollDirection: n
                            },
                            a = u != i,
                            p = function(t) {
                                c.trigger(t, s)
                            };
                        a && "DURING" !== i && (p("enter"), p("BEFORE" === i ? "start" : "end")), p("progress"), a && "DURING" !== u && (p("BEFORE" === u ? "start" : "end"), p("leave"))
                    }
                    return c
                }
                return h
            };
            var g, y, _ = function() {
                    p = {
                        start: d + l.offset
                    }, o && l.triggerElement && (p.start -= o.info("size") * l.triggerHook), p.end = p.start + l.duration
                },
                b = function(t) {
                    if (r) {
                        T("duration", r.call(c)) && !t && (c.trigger("change", {
                            what: "duration",
                            newval: l.duration
                        }), c.trigger("shift", {
                            reason: "duration"
                        }))
                    }
                },
                x = function(t) {
                    var e = 0,
                        i = l.triggerElement;
                    if (o && i) {
                        for (var r = o.info(), s = n.get.offset(r.container), a = r.vertical ? "top" : "left"; i.parentNode.hasAttribute("data-scrollmagic-pin-spacer");) i = i.parentNode;
                        var u = n.get.offset(i);
                        r.isDocument || (s[a] -= o.scrollPos()), e = u[a] - s[a]
                    }
                    var h = e != d;
                    d = e, h && !t && c.trigger("shift", {
                        reason: "triggerElementPosition"
                    })
                },
                w = function(t) {
                    l.triggerHook > 0 && c.trigger("shift", {
                        reason: "containerResize"
                    })
                },
                S = n.extend(i.validate, {
                    duration: function(t) {
                        if (n.type.String(t) && t.match(/^(\.|\d)*\d+%$/)) {
                            var e = parseFloat(t) / 100;
                            t = function() {
                                return o ? o.info("size") * e : 0
                            }
                        }
                        if (n.type.Function(t)) {
                            r = t;
                            try {
                                t = parseFloat(r())
                            } catch (e) {
                                t = -1
                            }
                        }
                        if (t = parseFloat(t), !n.type.Number(t) || t < 0) throw r ? (r = void 0, ['Invalid return value of supplied function for option "duration":', t]) : ['Invalid value for option "duration":', t];
                        return t
                    }
                }),
                M = function(t) {
                    (t = arguments.length ? [t] : Object.keys(S)).forEach(function(t, e) {
                        var i;
                        if (S[t]) try {
                            i = S[t](l[t])
                        } catch (e) {
                            i = a[t];
                            var r = n.type.String(e) ? [e] : e;
                            n.type.Array(r) ? (r[0] = "ERROR: " + r[0], r.unshift(1), v.apply(this, r)) : v(1, "ERROR: Problem executing validation callback for option '" + t + "':", e.message)
                        } finally {
                            l[t] = i
                        }
                    })
                },
                T = function(t, e) {
                    var i = !1,
                        n = l[t];
                    return l[t] != e && (l[t] = e, M(t), i = n != l[t]), i
                },
                A = function(t) {
                    c[t] || (c[t] = function(e) {
                        return arguments.length ? ("duration" === t && (r = void 0), T(t, e) && (c.trigger("change", {
                            what: t,
                            newval: l[t]
                        }), i.shifts.indexOf(t) > -1 && c.trigger("shift", {
                            reason: t
                        })), c) : l[t]
                    })
                };
            this.controller = function() {
                return o
            }, this.state = function() {
                return u
            }, this.scrollOffset = function() {
                return p.start
            }, this.triggerPosition = function() {
                var t = l.offset;
                return o && (l.triggerElement ? t += d : t += o.info("size") * c.triggerHook()), t
            }, c.on("shift.internal", function(t) {
                var e = "duration" === t.reason;
                ("AFTER" === u && e || "DURING" === u && 0 === l.duration) && C(), e && E()
            }).on("progress.internal", function(t) {
                C()
            }).on("add.internal", function(t) {
                E()
            }).on("destroy.internal", function(t) {
                c.removePin(t.reset)
            });
            var C = function(t) {
                    if (g && o) {
                        var e = o.info(),
                            i = y.spacer.firstChild;
                        if (t || "DURING" !== u) {
                            var r = {
                                    position: y.inFlow ? "relative" : "absolute",
                                    top: 0,
                                    left: 0
                                },
                                s = n.css(i, "position") != r.position;
                            y.pushFollowers ? l.duration > 0 && ("AFTER" === u && 0 === parseFloat(n.css(y.spacer, "padding-top")) ? s = !0 : "BEFORE" === u && 0 === parseFloat(n.css(y.spacer, "padding-bottom")) && (s = !0)) : r[e.vertical ? "top" : "left"] = l.duration * h, n.css(i, r), s && E()
                        } else {
                            "fixed" != n.css(i, "position") && (n.css(i, {
                                position: "fixed"
                            }), E());
                            var a = n.get.offset(y.spacer, !0),
                                c = l.reverse || 0 === l.duration ? e.scrollPos - p.start : Math.round(h * l.duration * 10) / 10;
                            a[e.vertical ? "top" : "left"] += c, n.css(y.spacer.firstChild, {
                                top: a.top,
                                left: a.left
                            })
                        }
                    }
                },
                E = function() {
                    if (g && o && y.inFlow) {
                        var t = "DURING" === u,
                            e = o.info("vertical"),
                            i = y.spacer.firstChild,
                            r = n.isMarginCollapseType(n.css(y.spacer, "display")),
                            s = {};
                        y.relSize.width || y.relSize.autoFullWidth ? t ? n.css(g, {
                            width: n.get.width(y.spacer)
                        }) : n.css(g, {
                            width: "100%"
                        }) : (s["min-width"] = n.get.width(e ? g : i, !0, !0), s.width = t ? s["min-width"] : "auto"), y.relSize.height ? t ? n.css(g, {
                            height: n.get.height(y.spacer) - (y.pushFollowers ? l.duration : 0)
                        }) : n.css(g, {
                            height: "100%"
                        }) : (s["min-height"] = n.get.height(e ? i : g, !0, !r), s.height = t ? s["min-height"] : "auto"), y.pushFollowers && (s["padding" + (e ? "Top" : "Left")] = l.duration * h, s["padding" + (e ? "Bottom" : "Right")] = l.duration * (1 - h)), n.css(y.spacer, s)
                    }
                },
                O = function() {
                    o && g && "DURING" === u && !o.info("isDocument") && C()
                },
                P = function() {
                    o && g && "DURING" === u && ((y.relSize.width || y.relSize.autoFullWidth) && n.get.width(window) != n.get.width(y.spacer.parentNode) || y.relSize.height && n.get.height(window) != n.get.height(y.spacer.parentNode)) && E()
                },
                k = function(t) {
                    o && g && "DURING" === u && !o.info("isDocument") && (t.preventDefault(), o._setScrollPos(o.info("scrollPos") - ((t.wheelDelta || t[o.info("vertical") ? "wheelDeltaY" : "wheelDeltaX"]) / 3 || 30 * -t.detail)))
                };
            this.setPin = function(t, e) {
                if (e = n.extend({}, {
                        pushFollowers: !0,
                        spacerClass: "scrollmagic-pin-spacer"
                    }, e), !(t = n.get.elements(t)[0])) return v(1, "ERROR calling method 'setPin()': Invalid pin element supplied."), c;
                if ("fixed" === n.css(t, "position")) return v(1, "ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."), c;
                if (g) {
                    if (g === t) return c;
                    c.removePin()
                }
                var i = (g = t).parentNode.style.display,
                    r = ["top", "left", "bottom", "right", "margin", "marginLeft", "marginRight", "marginTop", "marginBottom"];
                g.parentNode.style.display = "none";
                var o = "absolute" != n.css(g, "position"),
                    s = n.css(g, r.concat(["display"])),
                    a = n.css(g, ["width", "height"]);
                g.parentNode.style.display = i, !o && e.pushFollowers && (v(2, "WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."), e.pushFollowers = !1), window.setTimeout(function() {
                    g && 0 === l.duration && e.pushFollowers && v(2, "WARNING: pushFollowers =", !0, "has no effect, when scene duration is 0.")
                }, 0);
                var u = g.parentNode.insertBefore(document.createElement("div"), g),
                    h = n.extend(s, {
                        position: o ? "relative" : "absolute",
                        boxSizing: "content-box",
                        mozBoxSizing: "content-box",
                        webkitBoxSizing: "content-box"
                    });
                if (o || n.extend(h, n.css(g, ["width", "height"])), n.css(u, h), u.setAttribute("data-scrollmagic-pin-spacer", ""), n.addClass(u, e.spacerClass), y = {
                        spacer: u,
                        relSize: {
                            width: "%" === a.width.slice(-1),
                            height: "%" === a.height.slice(-1),
                            autoFullWidth: "auto" === a.width && o && n.isMarginCollapseType(s.display)
                        },
                        pushFollowers: e.pushFollowers,
                        inFlow: o
                    }, !g.___origStyle) {
                    g.___origStyle = {};
                    var p = g.style;
                    r.concat(["width", "height", "position", "boxSizing", "mozBoxSizing", "webkitBoxSizing"]).forEach(function(t) {
                        g.___origStyle[t] = p[t] || ""
                    })
                }
                return y.relSize.width && n.css(u, {
                    width: a.width
                }), y.relSize.height && n.css(u, {
                    height: a.height
                }), u.appendChild(g), n.css(g, {
                    position: o ? "relative" : "absolute",
                    margin: "auto",
                    top: "auto",
                    left: "auto",
                    bottom: "auto",
                    right: "auto"
                }), (y.relSize.width || y.relSize.autoFullWidth) && n.css(g, {
                    boxSizing: "border-box",
                    mozBoxSizing: "border-box",
                    webkitBoxSizing: "border-box"
                }), window.addEventListener("scroll", O), window.addEventListener("resize", O), window.addEventListener("resize", P), g.addEventListener("mousewheel", k), g.addEventListener("DOMMouseScroll", k), v(3, "added pin"), C(), c
            }, this.removePin = function(t) {
                if (g) {
                    if ("DURING" === u && C(!0), t || !o) {
                        var e = y.spacer.firstChild;
                        if (e.hasAttribute("data-scrollmagic-pin-spacer")) {
                            var i = y.spacer.style;
                            margins = {}, ["margin", "marginLeft", "marginRight", "marginTop", "marginBottom"].forEach(function(t) {
                                margins[t] = i[t] || ""
                            }), n.css(e, margins)
                        }
                        y.spacer.parentNode.insertBefore(e, y.spacer), y.spacer.parentNode.removeChild(y.spacer), g.parentNode.hasAttribute("data-scrollmagic-pin-spacer") || (n.css(g, g.___origStyle), delete g.___origStyle)
                    }
                    window.removeEventListener("scroll", O), window.removeEventListener("resize", O), window.removeEventListener("resize", P), g.removeEventListener("mousewheel", k), g.removeEventListener("DOMMouseScroll", k), g = void 0, v(3, "removed pin (reset: " + (t ? "true" : "false") + ")")
                }
                return c
            };
            var L, I = [];
            return c.on("destroy.internal", function(t) {
                    c.removeClassToggle(t.reset)
                }), this.setClassToggle = function(t, e) {
                    var i = n.get.elements(t);
                    return 0 !== i.length && n.type.String(e) ? (I.length > 0 && c.removeClassToggle(), L = e, I = i, c.on("enter.internal_class leave.internal_class", function(t) {
                        var e = "enter" === t.type ? n.addClass : n.removeClass;
                        I.forEach(function(t, i) {
                            e(t, L)
                        })
                    }), c) : (v(1, "ERROR calling method 'setClassToggle()': Invalid " + (0 === i.length ? "element" : "classes") + " supplied."), c)
                }, this.removeClassToggle = function(t) {
                    return t && I.forEach(function(t, e) {
                        n.removeClass(t, L)
                    }), c.off("start.internal_class end.internal_class"), L = void 0, I = [], c
                },
                function() {
                    for (var t in l) a.hasOwnProperty(t) || (v(2, 'WARNING: Unknown option "' + t + '"'), delete l[t]);
                    for (var e in a) A(e);
                    M()
                }(), c
        };
        var i = {
            defaults: {
                duration: 0,
                offset: 0,
                triggerElement: void 0,
                triggerHook: .5,
                reverse: !0,
                loglevel: 2
            },
            validate: {
                offset: function(t) {
                    if (t = parseFloat(t), !n.type.Number(t)) throw ['Invalid value for option "offset":', t];
                    return t
                },
                triggerElement: function(t) {
                    if (t = t || void 0) {
                        var e = n.get.elements(t)[0];
                        if (!e) throw ['Element defined in option "triggerElement" was not found:', t];
                        t = e
                    }
                    return t
                },
                triggerHook: function(t) {
                    var e = {
                        onCenter: .5,
                        onEnter: 1,
                        onLeave: 0
                    };
                    if (n.type.Number(t)) t = Math.max(0, Math.min(parseFloat(t), 1));
                    else {
                        if (!(t in e)) throw ['Invalid value for option "triggerHook": ', t];
                        t = e[t]
                    }
                    return t
                },
                reverse: function(t) {
                    return !!t
                },
                loglevel: function(t) {
                    if (t = parseInt(t), !n.type.Number(t) || t < 0 || t > 3) throw ['Invalid value for option "loglevel":', t];
                    return t
                }
            },
            shifts: ["duration", "offset", "triggerHook"]
        };
        t.Scene.addOption = function(e, n, r, o) {
            e in i.defaults ? t._util.log(1, "[static] ScrollMagic.Scene -> Cannot add Scene option '" + e + "', because it already exists.") : (i.defaults[e] = n, i.validate[e] = r, o && i.shifts.push(e))
        }, t.Scene.extend = function(e) {
            var i = this;
            t.Scene = function() {
                return i.apply(this, arguments), this.$super = n.extend({}, this), e.apply(this, arguments) || this
            }, n.extend(t.Scene, i), t.Scene.prototype = i.prototype, t.Scene.prototype.constructor = t.Scene
        }, t.Event = function(t, e, i, n) {
            for (var r in n = n || {}) this[r] = n[r];
            return this.type = t, this.target = this.currentTarget = i, this.namespace = e || "", this.timeStamp = this.timestamp = Date.now(), this
        };
        var n = t._util = function(t) {
            var e, i = {},
                n = function(t) {
                    return parseFloat(t) || 0
                },
                r = function(e) {
                    return e.currentStyle ? e.currentStyle : t.getComputedStyle(e)
                },
                o = function(e, i, o, s) {
                    if ((i = i === document ? t : i) === t) s = !1;
                    else if (!f.DomElement(i)) return 0;
                    e = e.charAt(0).toUpperCase() + e.substr(1).toLowerCase();
                    var a = (o ? i["offset" + e] || i["outer" + e] : i["client" + e] || i["inner" + e]) || 0;
                    if (o && s) {
                        var c = r(i);
                        a += "Height" === e ? n(c.marginTop) + n(c.marginBottom) : n(c.marginLeft) + n(c.marginRight)
                    }
                    return a
                },
                s = function(t) {
                    return t.replace(/^[^a-z]+([a-z])/g, "$1").replace(/-([a-z])/g, function(t) {
                        return t[1].toUpperCase()
                    })
                };
            i.extend = function(t) {
                for (t = t || {}, e = 1; e < arguments.length; e++)
                    if (arguments[e])
                        for (var i in arguments[e]) arguments[e].hasOwnProperty(i) && (t[i] = arguments[e][i]);
                return t
            }, i.isMarginCollapseType = function(t) {
                return ["block", "flex", "list-item", "table", "-webkit-box"].indexOf(t) > -1
            };
            var a = 0,
                c = ["ms", "moz", "webkit", "o"],
                l = t.requestAnimationFrame,
                u = t.cancelAnimationFrame;
            for (e = 0; !l && e < c.length; ++e) l = t[c[e] + "RequestAnimationFrame"], u = t[c[e] + "CancelAnimationFrame"] || t[c[e] + "CancelRequestAnimationFrame"];
            l || (l = function(e) {
                var i = (new Date).getTime(),
                    n = Math.max(0, 16 - (i - a)),
                    r = t.setTimeout(function() {
                        e(i + n)
                    }, n);
                return a = i + n, r
            }), u || (u = function(e) {
                t.clearTimeout(e)
            }), i.rAF = l.bind(t), i.cAF = u.bind(t);
            var h = ["error", "warn", "log"],
                p = t.console || {};
            for (p.log = p.log || function() {}, e = 0; e < h.length; e++) {
                var d = h[e];
                p[d] || (p[d] = p.log)
            }
            i.log = function(t) {
                (t > h.length || t <= 0) && (t = h.length);
                var e = new Date,
                    i = ("0" + e.getHours()).slice(-2) + ":" + ("0" + e.getMinutes()).slice(-2) + ":" + ("0" + e.getSeconds()).slice(-2) + ":" + ("00" + e.getMilliseconds()).slice(-3),
                    n = h[t - 1],
                    r = Array.prototype.splice.call(arguments, 1),
                    o = Function.prototype.bind.call(p[n], p);
                r.unshift(i), o.apply(p, r)
            };
            var f = i.type = function(t) {
                return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/, "$1").toLowerCase()
            };
            f.String = function(t) {
                return "string" === f(t)
            }, f.Function = function(t) {
                return "function" === f(t)
            }, f.Array = function(t) {
                return Array.isArray(t)
            }, f.Number = function(t) {
                return !f.Array(t) && t - parseFloat(t) + 1 >= 0
            }, f.DomElement = function(t) {
                return "object" == typeof HTMLElement ? t instanceof HTMLElement : t && "object" == typeof t && null !== t && 1 === t.nodeType && "string" == typeof t.nodeName
            };
            var m = i.get = {};
            return m.elements = function(e) {
                var i = [];
                if (f.String(e)) try {
                    e = document.querySelectorAll(e)
                } catch (t) {
                    return i
                }
                if ("nodelist" === f(e) || f.Array(e))
                    for (var n = 0, r = i.length = e.length; n < r; n++) {
                        var o = e[n];
                        i[n] = f.DomElement(o) ? o : m.elements(o)
                    } else(f.DomElement(e) || e === document || e === t) && (i = [e]);
                return i
            }, m.scrollTop = function(e) {
                return e && "number" == typeof e.scrollTop ? e.scrollTop : t.pageYOffset || 0
            }, m.scrollLeft = function(e) {
                return e && "number" == typeof e.scrollLeft ? e.scrollLeft : t.pageXOffset || 0
            }, m.width = function(t, e, i) {
                return o("width", t, e, i)
            }, m.height = function(t, e, i) {
                return o("height", t, e, i)
            }, m.offset = function(t, e) {
                var i = {
                    top: 0,
                    left: 0
                };
                if (t && t.getBoundingClientRect) {
                    var n = t.getBoundingClientRect();
                    i.top = n.top, i.left = n.left, e || (i.top += m.scrollTop(), i.left += m.scrollLeft())
                }
                return i
            }, i.addClass = function(t, e) {
                e && (t.classList ? t.classList.add(e) : t.className += " " + e)
            }, i.removeClass = function(t, e) {
                e && (t.classList ? t.classList.remove(e) : t.className = t.className.replace(new RegExp("(^|\\b)" + e.split(" ").join("|") + "(\\b|$)", "gi"), " "))
            }, i.css = function(t, e) {
                if (f.String(e)) return r(t)[s(e)];
                if (f.Array(e)) {
                    var i = {},
                        n = r(t);
                    return e.forEach(function(t, e) {
                        i[t] = n[s(t)]
                    }), i
                }
                for (var o in e) {
                    var a = e[o];
                    a == parseFloat(a) && (a += "px"), t.style[s(o)] = a
                }
            }, i
        }(window || {});
        return t.Scene.prototype.addIndicators = function() {
            return t._util.log(1, "(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"), this
        }, t.Scene.prototype.removeIndicators = function() {
            return t._util.log(1, "(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"), this
        }, t.Scene.prototype.setTween = function() {
            return t._util.log(1, "(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"), this
        }, t.Scene.prototype.removeTween = function() {
            return t._util.log(1, "(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"), this
        }, t.Scene.prototype.setVelocity = function() {
            return t._util.log(1, "(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"), this
        }, t.Scene.prototype.removeVelocity = function() {
            return t._util.log(1, "(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"), this
        }, t
    }) ? n.call(e, i, e, t) : n) || (t.exports = r)
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(2);
    i.d(e, "Observable", function() {
        return n.a
    });
    var r = i(126);
    i.d(e, "ConnectableObservable", function() {
        return r.a
    });
    var o = i(128);
    i.d(e, "GroupedObservable", function() {
        return o.a
    });
    var s = i(38);
    i.d(e, "observable", function() {
        return s.a
    });
    var a = i(8);
    i.d(e, "Subject", function() {
        return a.a
    });
    var c = i(129);
    i.d(e, "BehaviorSubject", function() {
        return c.a
    });
    var l = i(88);
    i.d(e, "ReplaySubject", function() {
        return l.a
    });
    var u = i(62);
    i.d(e, "AsyncSubject", function() {
        return u.a
    });
    var h = i(134);
    i.d(e, "asapScheduler", function() {
        return h.a
    });
    var p = i(12);
    i.d(e, "asyncScheduler", function() {
        return p.a
    });
    var d = i(130);
    i.d(e, "queueScheduler", function() {
        return d.a
    });
    var f = i(198);
    i.d(e, "animationFrameScheduler", function() {
        return f.a
    });
    var m = i(201);
    i.d(e, "VirtualTimeScheduler", function() {
        return m.b
    }), i.d(e, "VirtualAction", function() {
        return m.a
    });
    var v = i(131);
    i.d(e, "Scheduler", function() {
        return v.a
    });
    var g = i(5);
    i.d(e, "Subscription", function() {
        return g.a
    });
    var y = i(1);
    i.d(e, "Subscriber", function() {
        return y.a
    });
    var _ = i(61);
    i.d(e, "Notification", function() {
        return _.a
    });
    var b = i(86);
    i.d(e, "pipe", function() {
        return b.a
    });
    var x = i(59);
    i.d(e, "noop", function() {
        return x.a
    });
    var w = i(39);
    i.d(e, "identity", function() {
        return w.a
    });
    var S = i(202);
    i.d(e, "isObservable", function() {
        return S.a
    });
    var M = i(46);
    i.d(e, "ArgumentOutOfRangeError", function() {
        return M.a
    });
    var T = i(47);
    i.d(e, "EmptyError", function() {
        return T.a
    });
    var A = i(60);
    i.d(e, "ObjectUnsubscribedError", function() {
        return A.a
    });
    var C = i(125);
    i.d(e, "UnsubscriptionError", function() {
        return C.a
    });
    var E = i(135);
    i.d(e, "TimeoutError", function() {
        return E.a
    });
    var O = i(203);
    i.d(e, "bindCallback", function() {
        return O.a
    });
    var P = i(204);
    i.d(e, "bindNodeCallback", function() {
        return P.a
    });
    var k = i(92);
    i.d(e, "combineLatest", function() {
        return k.b
    });
    var L = i(63);
    i.d(e, "concat", function() {
        return L.a
    });
    var I = i(94);
    i.d(e, "defer", function() {
        return I.a
    });
    var R = i(11);
    i.d(e, "empty", function() {
        return R.b
    });
    var D = i(210);
    i.d(e, "forkJoin", function() {
        return D.a
    });
    var N = i(20);
    i.d(e, "from", function() {
        return N.a
    });
    var z = i(211);
    i.d(e, "fromEvent", function() {
        return z.a
    });
    var F = i(212);
    i.d(e, "fromEventPattern", function() {
        return F.a
    });
    var B = i(213);
    i.d(e, "generate", function() {
        return B.a
    });
    var j = i(214);
    i.d(e, "iif", function() {
        return j.a
    });
    var U = i(215);
    i.d(e, "interval", function() {
        return U.a
    });
    var V = i(143);
    i.d(e, "merge", function() {
        return V.a
    });
    var G = i(144);
    i.d(e, "never", function() {
        return G.b
    });
    var W = i(89);
    i.d(e, "of", function() {
        return W.a
    });
    var H = i(216);
    i.d(e, "onErrorResumeNext", function() {
        return H.a
    });
    var $ = i(217);
    i.d(e, "pairs", function() {
        return $.a
    });
    var X = i(145);
    i.d(e, "race", function() {
        return X.a
    });
    var q = i(218);
    i.d(e, "range", function() {
        return q.a
    });
    var Y = i(91);
    i.d(e, "throwError", function() {
        return Y.a
    });
    var Z = i(146);
    i.d(e, "timer", function() {
        return Z.a
    });
    var J = i(219);
    i.d(e, "using", function() {
        return J.a
    });
    var Q = i(95);
    i.d(e, "zip", function() {
        return Q.b
    }), i.d(e, "EMPTY", function() {
        return R.a
    }), i.d(e, "NEVER", function() {
        return G.a
    });
    var K = i(58);
    i.d(e, "config", function() {
        return K.a
    })
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return o
    });
    var n = i(58),
        r = i(84),
        o = {
            closed: !0,
            next: function(t) {},
            error: function(t) {
                if (n.a.useDeprecatedSynchronousErrorHandling) throw t;
                Object(r.a)(t)
            },
            complete: function() {}
        }
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return null != t && "object" == typeof t
    }
}, function(t, e, i) {
    "use strict";

    function n(t) {
        return Error.call(this), this.message = t ? t.length + " errors occurred during unsubscription:\n" + t.map(function(t, e) {
            return e + 1 + ") " + t.toString()
        }).join("\n  ") : "", this.name = "UnsubscriptionError", this.errors = t, this
    }
    i.d(e, "a", function() {
        return r
    }), n.prototype = Object.create(Error.prototype);
    var r = n
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return l
    }), i.d(e, "b", function() {
        return h
    });
    var n = i(0),
        r = i(8),
        o = i(2),
        s = i(1),
        a = i(5),
        c = i(87),
        l = function(t) {
            function e(e, i) {
                var n = t.call(this) || this;
                return n.source = e, n.subjectFactory = i, n._refCount = 0, n._isComplete = !1, n
            }
            return n.a(e, t), e.prototype._subscribe = function(t) {
                return this.getSubject().subscribe(t)
            }, e.prototype.getSubject = function() {
                var t = this._subject;
                return t && !t.isStopped || (this._subject = this.subjectFactory()), this._subject
            }, e.prototype.connect = function() {
                var t = this._connection;
                return t || (this._isComplete = !1, (t = this._connection = new a.a).add(this.source.subscribe(new p(this.getSubject(), this))), t.closed ? (this._connection = null, t = a.a.EMPTY) : this._connection = t), t
            }, e.prototype.refCount = function() {
                return Object(c.a)()(this)
            }, e
        }(o.a),
        u = l.prototype,
        h = {
            operator: {
                value: null
            },
            _refCount: {
                value: 0,
                writable: !0
            },
            _subject: {
                value: null,
                writable: !0
            },
            _connection: {
                value: null,
                writable: !0
            },
            _subscribe: {
                value: u._subscribe
            },
            _isComplete: {
                value: u._isComplete,
                writable: !0
            },
            getSubject: {
                value: u.getSubject
            },
            connect: {
                value: u.connect
            },
            refCount: {
                value: u.refCount
            }
        },
        p = function(t) {
            function e(e, i) {
                var n = t.call(this, e) || this;
                return n.connectable = i, n
            }
            return n.a(e, t), e.prototype._error = function(e) {
                this._unsubscribe(), t.prototype._error.call(this, e)
            }, e.prototype._complete = function() {
                this.connectable._isComplete = !0, this._unsubscribe(), t.prototype._complete.call(this)
            }, e.prototype._unsubscribe = function() {
                var t = this.connectable;
                if (t) {
                    this.connectable = null;
                    var e = t._connection;
                    t._refCount = 0, t._subject = null, t._connection = null, e && e.unsubscribe()
                }
            }, e
        }(r.b);
    s.a
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e(e, i) {
                var n = t.call(this) || this;
                return n.subject = e, n.subscriber = i, n.closed = !1, n
            }
            return n.a(e, t), e.prototype.unsubscribe = function() {
                if (!this.closed) {
                    this.closed = !0;
                    var t = this.subject,
                        e = t.observers;
                    if (this.subject = null, e && 0 !== e.length && !t.isStopped && !t.closed) {
                        var i = e.indexOf(this.subscriber); - 1 !== i && e.splice(i, 1)
                    }
                }
            }, e
        }(i(5).a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return l
    });
    var n = i(0),
        r = i(1),
        o = i(5),
        s = i(2),
        a = i(8);
    r.a;
    var c = function(t) {
            function e(e, i, n) {
                var r = t.call(this, i) || this;
                return r.key = e, r.group = i, r.parent = n, r
            }
            return n.a(e, t), e.prototype._next = function(t) {
                this.complete()
            }, e.prototype._unsubscribe = function() {
                var t = this.parent,
                    e = this.key;
                this.key = this.parent = null, t && t.removeGroup(e)
            }, e
        }(r.a),
        l = function(t) {
            function e(e, i, n) {
                var r = t.call(this) || this;
                return r.key = e, r.groupSubject = i, r.refCountSubscription = n, r
            }
            return n.a(e, t), e.prototype._subscribe = function(t) {
                var e = new o.a,
                    i = this.refCountSubscription,
                    n = this.groupSubject;
                return i && !i.closed && e.add(new u(i)), e.add(n.subscribe(t)), e
            }, e
        }(s.a),
        u = function(t) {
            function e(e) {
                var i = t.call(this) || this;
                return i.parent = e, e.count++, i
            }
            return n.a(e, t), e.prototype.unsubscribe = function() {
                var e = this.parent;
                e.closed || this.closed || (t.prototype.unsubscribe.call(this), e.count -= 1, 0 === e.count && e.attemptedToUnsubscribe && e.unsubscribe())
            }, e
        }(o.a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return s
    });
    var n = i(0),
        r = i(8),
        o = i(60),
        s = function(t) {
            function e(e) {
                var i = t.call(this) || this;
                return i._value = e, i
            }
            return n.a(e, t), Object.defineProperty(e.prototype, "value", {
                get: function() {
                    return this.getValue()
                },
                enumerable: !0,
                configurable: !0
            }), e.prototype._subscribe = function(e) {
                var i = t.prototype._subscribe.call(this, e);
                return i && !i.closed && e.next(this._value), i
            }, e.prototype.getValue = function() {
                if (this.hasError) throw this.thrownError;
                if (this.closed) throw new o.a;
                return this._value
            }, e.prototype.next = function(e) {
                t.prototype.next.call(this, this._value = e)
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(192),
        r = new(i(194).a)(n.a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = function() {
        function t(e, i) {
            void 0 === i && (i = t.now), this.SchedulerAction = e, this.now = i
        }
        return t.prototype.schedule = function(t, e, i) {
            return void 0 === e && (e = 0), new this.SchedulerAction(this, t).schedule(i, e)
        }, t.now = function() {
            return Date.now()
        }, t
    }()
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return s
    });
    var n = i(0),
        r = i(1),
        o = i(61);
    var s = function(t) {
            function e(e, i, n) {
                void 0 === n && (n = 0);
                var r = t.call(this, e) || this;
                return r.scheduler = i, r.delay = n, r
            }
            return n.a(e, t), e.dispatch = function(t) {
                var e = t.notification,
                    i = t.destination;
                e.observe(i), this.unsubscribe()
            }, e.prototype.scheduleMessage = function(t) {
                this.add(this.scheduler.schedule(e.dispatch, this.delay, new a(t, this.destination)))
            }, e.prototype._next = function(t) {
                this.scheduleMessage(o.a.createNext(t))
            }, e.prototype._error = function(t) {
                this.scheduleMessage(o.a.createError(t))
            }, e.prototype._complete = function() {
                this.scheduleMessage(o.a.createComplete())
            }, e
        }(r.a),
        a = function() {
            return function(t, e) {
                this.notification = t, this.destination = e
            }
        }()
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = function(t) {
        return function(e) {
            for (var i = 0, n = t.length; i < n && !e.closed; i++) e.next(t[i]);
            e.closed || e.complete()
        }
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(195),
        r = new(i(197).a)(n.a)
}, function(t, e, i) {
    "use strict";

    function n() {
        return Error.call(this), this.message = "Timeout has occurred", this.name = "TimeoutError", this
    }
    i.d(e, "a", function() {
        return r
    }), n.prototype = Object.create(Error.prototype);
    var r = n
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return d
    });
    var n = i(2),
        r = i(133),
        o = i(137),
        s = i(138),
        a = i(139),
        c = i(140),
        l = i(141),
        u = i(124),
        h = i(48),
        p = i(38),
        d = function(t) {
            if (t instanceof n.a) return function(e) {
                return t._isScalar ? (e.next(t.value), void e.complete()) : t.subscribe(e)
            };
            if (t && "function" == typeof t[p.a]) return Object(a.a)(t);
            if (Object(c.a)(t)) return Object(r.a)(t);
            if (Object(l.a)(t)) return Object(o.a)(t);
            if (t && "function" == typeof t[h.a]) return Object(s.a)(t);
            var e = Object(u.a)(t) ? "an invalid object" : "'" + t + "'";
            throw new TypeError("You provided " + e + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")
        }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(84),
        r = function(t) {
            return function(e) {
                return t.then(function(t) {
                    e.closed || (e.next(t), e.complete())
                }, function(t) {
                    return e.error(t)
                }).then(null, n.a), e
            }
        }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(48),
        r = function(t) {
            return function(e) {
                for (var i = t[n.a]();;) {
                    var r = i.next();
                    if (r.done) {
                        e.complete();
                        break
                    }
                    if (e.next(r.value), e.closed) break
                }
                return "function" == typeof i.return && e.add(function() {
                    i.return && i.return()
                }), e
            }
        }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(38),
        r = function(t) {
            return function(e) {
                var i = t[n.a]();
                if ("function" != typeof i.subscribe) throw new TypeError("Provided object does not correctly implement Symbol.observable");
                return i.subscribe(e)
            }
        }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = function(t) {
        return t && "number" == typeof t.length && "function" != typeof t
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return t && "function" != typeof t.subscribe && "function" == typeof t.then
    }
}, function(t, e, i) {
    "use strict";
    e.a = function() {
        return Object(n.a)(1)
    };
    var n = i(93)
}, function(t, e, i) {
    "use strict";
    e.a = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var i = Number.POSITIVE_INFINITY,
            a = null,
            c = t[t.length - 1];
        Object(r.a)(c) ? (a = t.pop(), t.length > 1 && "number" == typeof t[t.length - 1] && (i = t.pop())) : "number" == typeof c && (i = t.pop());
        if (null === a && 1 === t.length && t[0] instanceof n.a) return t[0];
        return Object(o.a)(i)(Object(s.a)(t, a))
    };
    var n = i(2),
        r = i(15),
        o = i(93),
        s = i(22)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return o
    }), e.b = function() {
        return o
    };
    var n = i(2),
        r = i(59),
        o = new n.a(r.a)
}, function(t, e, i) {
    "use strict";
    e.a = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        if (1 === t.length) {
            if (!Object(r.a)(t[0])) return t[0];
            t = t[0]
        }
        return Object(o.a)(t, void 0).lift(new c)
    };
    var n = i(0),
        r = i(10),
        o = i(22),
        s = i(3),
        a = i(4);
    var c = function() {
            function t() {}
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t))
            }, t
        }(),
        l = function(t) {
            function e(e) {
                var i = t.call(this, e) || this;
                return i.hasFirst = !1, i.observables = [], i.subscriptions = [], i
            }
            return n.a(e, t), e.prototype._next = function(t) {
                this.observables.push(t)
            }, e.prototype._complete = function() {
                var t = this.observables,
                    e = t.length;
                if (0 === e) this.destination.complete();
                else {
                    for (var i = 0; i < e && !this.hasFirst; i++) {
                        var n = t[i],
                            r = Object(a.a)(this, n, n, i);
                        this.subscriptions && this.subscriptions.push(r), this.add(r)
                    }
                    this.observables = null
                }
            }, e.prototype.notifyNext = function(t, e, i, n, r) {
                if (!this.hasFirst) {
                    this.hasFirst = !0;
                    for (var o = 0; o < this.subscriptions.length; o++)
                        if (o !== i) {
                            var s = this.subscriptions[o];
                            s.unsubscribe(), this.remove(s)
                        }
                    this.subscriptions = null
                }
                this.destination.next(e)
            }, e
        }(s.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e, i) {
        void 0 === t && (t = 0);
        var c = -1;
        Object(o.a)(e) ? c = Number(e) < 1 ? 1 : Number(e) : Object(s.a)(e) && (i = e);
        Object(s.a)(i) || (i = r.a);
        return new n.a(function(e) {
            var n = Object(o.a)(t) ? t : +t - i.now();
            return i.schedule(a, n, {
                index: 0,
                period: c,
                subscriber: e
            })
        })
    };
    var n = i(2),
        r = i(12),
        o = i(64),
        s = i(15);

    function a(t) {
        var e = t.index,
            i = t.period,
            n = t.subscriber;
        if (n.next(e), !n.closed) {
            if (-1 === i) return n.complete();
            t.index = e + 1, this.schedule(t, i)
        }
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return function(e) {
            return e.lift(new c(t))
        }
    };
    var n = i(0),
        r = i(19),
        o = i(14),
        s = i(3),
        a = i(4);
    var c = function() {
            function t(t) {
                this.durationSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.durationSelector))
            }, t
        }(),
        l = function(t) {
            function e(e, i) {
                var n = t.call(this, e) || this;
                return n.durationSelector = i, n.hasValue = !1, n
            }
            return n.a(e, t), e.prototype._next = function(t) {
                if (this.value = t, this.hasValue = !0, !this.throttled) {
                    var e = Object(r.a)(this.durationSelector)(t);
                    if (e === o.a) this.destination.error(o.a.e);
                    else {
                        var i = Object(a.a)(this, e);
                        !i || i.closed ? this.clearThrottle() : this.add(this.throttled = i)
                    }
                }
            }, e.prototype.clearThrottle = function() {
                var t = this.value,
                    e = this.hasValue,
                    i = this.throttled;
                i && (this.remove(i), this.throttled = null, i.unsubscribe()), e && (this.value = null, this.hasValue = !1, this.destination.next(t))
            }, e.prototype.notifyNext = function(t, e, i, n) {
                this.clearThrottle()
            }, e.prototype.notifyComplete = function() {
                this.clearThrottle()
            }, e
        }(s.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return Object(n.a)(t, e, 1)
    };
    var n = i(49)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return t instanceof Date && !isNaN(+t)
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return function(i) {
            return i.lift(new a(t, e))
        }
    };
    var n = i(0),
        r = i(1),
        o = i(19),
        s = i(14);
    var a = function() {
            function t(t, e) {
                this.compare = t, this.keySelector = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.compare, this.keySelector))
            }, t
        }(),
        c = function(t) {
            function e(e, i, n) {
                var r = t.call(this, e) || this;
                return r.keySelector = n, r.hasKey = !1, "function" == typeof i && (r.compare = i), r
            }
            return n.a(e, t), e.prototype.compare = function(t, e) {
                return t === e
            }, e.prototype._next = function(t) {
                var e = t;
                if (this.keySelector && (e = Object(o.a)(this.keySelector)(t)) === s.a) return this.destination.error(s.a.e);
                var i = !1;
                if (this.hasKey) {
                    if ((i = Object(o.a)(this.compare)(this.key, e)) === s.a) return this.destination.error(s.a.e)
                } else this.hasKey = !0;
                !1 === Boolean(i) && (this.key = e, this.destination.next(t))
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e, i) {
        return function(n) {
            return n.lift(new a(t, e, i))
        }
    };
    var n = i(0),
        r = i(1),
        o = i(59),
        s = i(43);
    var a = function() {
            function t(t, e, i) {
                this.nextOrObserver = t, this.error = e, this.complete = i
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.nextOrObserver, this.error, this.complete))
            }, t
        }(),
        c = function(t) {
            function e(e, i, n, r) {
                var a = t.call(this, e) || this;
                return a._tapNext = o.a, a._tapError = o.a, a._tapComplete = o.a, a._tapError = n || o.a, a._tapComplete = r || o.a, Object(s.a)(i) ? (a._context = a, a._tapNext = i) : i && (a._context = i, a._tapNext = i.next || o.a, a._tapError = i.error || o.a, a._tapComplete = i.complete || o.a), a
            }
            return n.a(e, t), e.prototype._next = function(t) {
                try {
                    this._tapNext.call(this._context, t)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.next(t)
            }, e.prototype._error = function(t) {
                try {
                    this._tapError.call(this._context, t)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.error(t)
            }, e.prototype._complete = function() {
                try {
                    this._tapComplete.call(this._context)
                } catch (t) {
                    return void this.destination.error(t)
                }
                return this.destination.complete()
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return o
    });
    var n = i(0),
        r = i(1);
    var o = function() {
            function t(t, e, i, n) {
                this.predicate = t, this.source = e, this.yieldIndex = i, this.thisArg = n
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new s(t, this.predicate, this.source, this.yieldIndex, this.thisArg))
            }, t
        }(),
        s = function(t) {
            function e(e, i, n, r, o) {
                var s = t.call(this, e) || this;
                return s.predicate = i, s.source = n, s.yieldIndex = r, s.thisArg = o, s.index = 0, s
            }
            return n.a(e, t), e.prototype.notifyComplete = function(t) {
                var e = this.destination;
                e.next(t), e.complete(), this.unsubscribe()
            }, e.prototype._next = function(t) {
                var e = this.predicate,
                    i = this.thisArg,
                    n = this.index++;
                try {
                    e.call(i || this, t, n, this.source) && this.notifyComplete(this.yieldIndex ? n : t)
                } catch (t) {
                    this.destination.error(t)
                }
            }, e.prototype._complete = function() {
                this.notifyComplete(this.yieldIndex ? -1 : void 0)
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return s
    });
    var n = i(0),
        r = i(3),
        o = i(4),
        s = {
            leading: !0,
            trailing: !1
        };
    r.a
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e, i) {
        void 0 === i && (i = r.a);
        return function(n) {
            var r = Object(o.a)(t),
                s = r ? +t - i.now() : Math.abs(t);
            return n.lift(new c(s, r, e, i))
        }
    };
    var n = i(0),
        r = i(12),
        o = i(149),
        s = i(3),
        a = i(4);
    var c = function() {
            function t(t, e, i, n) {
                this.waitFor = t, this.absoluteTimeout = e, this.withObservable = i, this.scheduler = n
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler))
            }, t
        }(),
        l = function(t) {
            function e(e, i, n, r, o) {
                var s = t.call(this, e) || this;
                return s.absoluteTimeout = i, s.waitFor = n, s.withObservable = r, s.scheduler = o, s.action = null, s.scheduleTimeout(), s
            }
            return n.a(e, t), e.dispatchTimeout = function(t) {
                var e = t.withObservable;
                t._unsubscribeAndRecycle(), t.add(Object(a.a)(t, e))
            }, e.prototype.scheduleTimeout = function() {
                var t = this.action;
                t ? this.action = t.schedule(this, this.waitFor) : this.add(this.action = this.scheduler.schedule(e.dispatchTimeout, this.waitFor, this))
            }, e.prototype._next = function(e) {
                this.absoluteTimeout || this.scheduleTimeout(), t.prototype._next.call(this, e)
            }, e.prototype._unsubscribe = function() {
                this.action = null, this.scheduler = null, this.withObservable = null
            }, e
        }(s.a)
}, function(t, e, i) {
    "use strict";
    var n = i(6),
        r = i.n(n),
        o = i(7),
        s = i.n(o),
        a = i(9),
        c = i.n(a),
        l = i(13),
        u = function() {
            function t(e) {
                if (r()(this, t), Object(l.q)(e)) throw new Error("Navi: require options object when create instance.");
                var i = this;
                i._option = c.a.extend({
                    btns: [],
                    mouseoverCallback: null,
                    mouseoutCallback: null,
                    mousedownCallback: null,
                    mouseupCallback: null,
                    clickCallback: null,
                    activateCallback: null
                }, e), i._initialized = !1, i._uniqueId = Date.now(), i._$btns = c()(i._option.btns || []), i._currentIndex = 0, i._activatedIndex = 0, i._proxy = {
                    mouseoverBtnEventHandler: null,
                    mouseoutBtnEventHandler: null,
                    mousedownBtnEventHandler: null,
                    mouseupBtnEventHandler: null,
                    clickBtnEventHandler: null
                }
            }
            return s()(t, [{
                key: "init",
                value: function() {
                    var t = this;
                    return t._initialized ? t : (t._initialized = !0, t._proxy.mouseoverBtnEventHandler = t._mouseoverBtnEventHandler.bind(t), t._proxy.mouseoutBtnEventHandler = t._mouseoutBtnEventHandler.bind(t), t._proxy.mousedownBtnEventHandler = t._mousedownBtnEventHandler.bind(t), t._proxy.mouseupBtnEventHandler = t._mouseupBtnEventHandler.bind(t), t._proxy.clickBtnEventHandler = t._clickBtnEventHandler.bind(t), t.setBtnsEventHandler(!0), t)
                }
            }, {
                key: "getBtns",
                value: function() {
                    return this._$btns.toArray()
                }
            }, {
                key: "getBtn",
                value: function(t) {
                    var e = t - 1;
                    return e < 0 || e >= this._$btns.length ? null : this._$btns.get(e)
                }
            }, {
                key: "getActivatedIndex",
                value: function() {
                    return this._activatedIndex
                }
            }, {
                key: "activate",
                value: function(t) {
                    var e = this,
                        i = t <= 0 || t > e._$btns.length ? 0 : t;
                    return Object(l.m)(e._option.activateCallback) && e._option.activateCallback.call(e, {
                        prevActivatedIndex: e._activatedIndex,
                        index: i
                    }), e._activatedIndex = i, e
                }
            }, {
                key: "setBtnsEventHandler",
                value: function(t) {
                    if (Object(l.t)(l.k)(t)) throw new TypeError("Navi: setBtnsEventHandler require boolean parameter.");
                    var e = this;
                    return Object(l.b)(e.getBtns(), function(t) {
                        c()(t).off("mouseover.navi." + e._uniqueId, e._proxy.mouseoverBtnEventHandler).off("mouseout.navi." + e._uniqueId, e._proxy.mouseoutBtnEventHandler).off("mousedown.navi." + e._uniqueId, e._proxy.mousedownBtnEventHandler).off("mouseup.navi." + e._uniqueId, e._proxy.mouseupBtnEventHandler).off("click.navi." + e._uniqueId, e._proxy.clickBtnEventHandler)
                    }), t && Object(l.b)(e.getBtns(), function(t) {
                        c()(t).on("mouseover.navi." + e._uniqueId, e._proxy.mouseoverBtnEventHandler).on("mouseout.navi." + e._uniqueId, e._proxy.mouseoutBtnEventHandler).on("mousedown.navi." + e._uniqueId, e._proxy.mousedownBtnEventHandler).on("mouseup.navi." + e._uniqueId, e._proxy.mouseupBtnEventHandler).on("click.navi." + e._uniqueId, e._proxy.clickBtnEventHandler)
                    }), e
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = this;
                    return t._initialized = !1, t.setBtnsEventHandler(!1), t._currentIndex = 0, t._activatedIndex = 0, t._proxy.mouseoverBtnEventHandler = null, t._proxy.mouseoutBtnEventHandler = null, t._proxy.mousedownBtnEventHandler = null, t._proxy.mouseupBtnEventHandler = null, t._proxy.clickBtnEventHandler = null, t
                }
            }, {
                key: "_mouseoverBtnEventHandler",
                value: function(t) {
                    var e = this,
                        i = t.currentTarget,
                        n = e._$btns.index(i);
                    n < 0 || (e._currentIndex = n + 1, Object(l.m)(e._option.mouseoverCallback) && e._option.mouseoverCallback.call(e, {
                        event: t,
                        btn: i,
                        index: e._currentIndex
                    }))
                }
            }, {
                key: "_mouseoutBtnEventHandler",
                value: function(t) {
                    var e = this,
                        i = t.currentTarget,
                        n = e._$btns.index(i);
                    n < 0 || Object(l.m)(e._option.mouseoutCallback) && e._option.mouseoutCallback.call(e, {
                        event: t,
                        btn: i,
                        index: n + 1
                    })
                }
            }, {
                key: "_mousedownBtnEventHandler",
                value: function(t) {
                    var e = this,
                        i = t.currentTarget,
                        n = e._$btns.index(i);
                    n < 0 || (t.preventDefault(), Object(l.m)(e._option.mousedownCallback) && e._option.mousedownCallback.call(e, {
                        event: t,
                        btn: i,
                        index: n + 1
                    }))
                }
            }, {
                key: "_mouseupBtnEventHandler",
                value: function(t) {
                    var e = this,
                        i = t.currentTarget,
                        n = e._$btns.index(i);
                    n < 0 || (t.preventDefault(), Object(l.m)(e._option.mouseupCallback) && e._option.mouseupCallback.call(e, {
                        event: t,
                        btn: i,
                        index: n + 1
                    }))
                }
            }, {
                key: "_clickBtnEventHandler",
                value: function(t) {
                    var e = this,
                        i = t.currentTarget,
                        n = e._$btns.index(i);
                    if (!(n < 0)) {
                        t.preventDefault();
                        var r = e._activatedIndex;
                        Object(l.m)(e._option.clickCallback) && e._option.clickCallback.call(e, {
                            event: t,
                            btn: i,
                            prevActivatedIndex: r,
                            index: n + 1
                        }), Object(l.m)(e._option.activateCallback) && e._option.activateCallback.call(e, {
                            prevActivatedIndex: r,
                            index: n + 1
                        }), e._currentIndex = e._activatedIndex = n + 1
                    }
                }
            }]), t
        }();
    e.a = u
}, function(t, e, i) {
    var n = i(25),
        r = i(17),
        o = i(35);
    t.exports = function(t, e) {
        var i = (r.Object || {})[t] || Object[t],
            s = {};
        s[t] = e(i), n(n.S + n.F * o(function() {
            i(1)
        }), "Object", s)
    }
}, function(t, e, i) {
    t.exports = i(158)
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(9),
        r = i.n(n),
        o = (i(159), i(113)),
        s = i(121),
        a = i.n(s),
        c = i(57),
        l = i(13),
        u = i(83),
        h = i(190),
        p = i(309),
        d = i(155),
        f = i(312),
        m = i(326),
        v = i(329),
        g = i(331),
        y = i(332),
        _ = i(333),
        b = i(334),
        x = i(337);
    ! function() {
        var t = Object(l.h)(c.a),
            e = r()(window),
            i = r()("body"),
            n = r()("#container"),
            s = r()(".bg-wrap").children().toArray().reverse(),
            w = r()("> .section", n),
            S = [],
            M = new p.a,
            T = u.a.getInstance(),
            A = null,
            C = null,
            E = null,
            O = null,
            P = void 0,
            k = void 0,
            L = void 0,
            I = void 0,
            R = void 0,
            D = void 0,
            N = r()(".wrap-scrolldown"),
            z = r()(".appdownload-wrap"),
            F = null,
            B = null,
            j = null;

        function U() {
            O && O.destroy();
            var e = r()("#navQuick");
            O = new f.a({
                btns: r()(".quick-menu-list li a", e),
                mouseoverCallback: function(t) {},
                mouseoutCallback: function(t) {},
                mousedownCallback: function(t) {},
                mouseupCallback: function(t) {},
                clickCallback: function(e) {
                    if (Object(l.p)(t)) {
                        X(e.index);
                        var i = W(e.index);
                        H(Object(l.d)(i.getSelector()).top), T.pageIndexObj.d1 = e.index
                    }
                },
                activateCallback: function(t) {
                    var e = r()(O.getBtns()),
                        i = r()(O.getBtn(t.index));
                    e.closest("li").removeClass("is-active"), i.closest("li").addClass("is-active")
                },
                wrap: e,
                handleClass: "handle",
                speed: .25,
                positionedCallback: function(t, e) {},
                dragStartCallback: function(t, e) {},
                dragStopCallback: function(t, e) {},
                animationCallback: function(t, e) {}
            }).init()
        }

        function V() {
            E && E.destroy(), (E = new d.a({
                btns: r()("#navQuick .quick-menu-list li a"),
                mouseoverCallback: function(t) {},
                mouseoutCallback: function(t) {},
                mousedownCallback: function(t) {},
                mouseupCallback: function(t) {},
                clickCallback: function(e) {
                    e.prevActivatedIndex !== e.index && (Object(l.p)(t) || (C.switchPage(e.index, !0), T.pageIndexObj.d1 = e.index))
                    //menuclickEvents
                   
                },
                activateCallback: function(t) {
                    var e = r()(E.getBtns()),
                        i = r()(E.getBtn(t.index));
                    e.closest("li").removeClass("is-active"), i.closest("li").addClass("is-active");
                   
                }
            }).init()).activate(T.pageIndexObj.d1)
        }

        function G(t) {
            T.pages.map(function(e) {
                e.enabledScrollMagicScene(t)
            })
        }

        function W(t) {
            return C.getPage(t)
        }

        function H(t) {
            r()("html, body").scrollTop(t)
        }

        function $(t) {
            O && (O.activate(t), X(t))
        }

        function X(t) {
            if (!(t < 1 || t > O.getBtns().length)) {
                var e = t <= 1 ? 0 : t - 1,
                    i = t > O.getBtns().length ? 0 : t + 1;
                if (e)
                    if (i) {
                        var n = r()(O.getBtn(e));
                        n.length && O.setX(-n.position().left)
                    } else O.setRatioX(1);
                else O.setRatioX(0)
            }
        }

        function q(t) {
            t <= 1 ? z.show() : z.hide()
        }

        function Y(t) {
            t < w.length ? Z(!0) : Z(!1)
        }

        function Z(t) {
            Object(l.w)(t) ? N.show() : N.hide()
        }

        function J(t) {
            if (Object(l.p)(Object(l.h)(c.a)));
            else {
                t <= 1 && (t = 1);
                var e = r()(s[t - 1]);
                r()(s).hide(), e.show()
            }
        }
        r()(document).ready(function() {
            w.each(function(t, e) {
                S.push(e.id)
            }), T.pageIndexObj.d1 = 1, A = new a.a.Controller, r()("#sectionIntro").length && (P = new m.a({
                selector: "#sectionIntro",
                scrollMagicController: A,
                emitter: M
            }).init(), T.pages.push(P));
            r()("#sectionStory").length && (k = new v.a({
                selector: "#sectionStory",
                scrollMagicController: A,
                emitter: M
            }).init(), T.pages.push(k));
            // new section archung
            r()("#sectionCharacter").length && (D = new b.a({
                selector: "#sectionCharacter",
                scrollMagicController: A,
                emitter: M
            }).init(), T.pages.push(D));

            r()("#sectionDungeon").length && (L = new g.a({
                selector: "#sectionDungeon",
                scrollMagicController: A,
                emitter: M
            }).init(), T.pages.push(L));
            r()("#sectionServer").length && (I = new y.a({
                selector: "#sectionServer",
                scrollMagicController: A,
                emitter: M
            }).init(), T.pages.push(I));
            r()("#sectionEvent").length && (R = new _.a({
                selector: "#sectionEvent",
                scrollMagicController: A,
                emitter: M
            }).init(), T.pages.push(R));
           


            
            T.pages.map(function(t) {
                return A.addScene(t.getScrollMagicScene())
            }), C = new h.a({
                emitter: M,
                pages: Array.prototype.slice.call(T.pages),
                d1: T.pageIndexObj.d1
            }).init(), n = !0, Object(l.w)(n) ? (F || (F = M.listen("COMPLETE_SEQUENCE_ANIMATION", function() {
                arguments.length > 0 && void 0 !== arguments[0] && arguments[0], T.isEnableMouseWheel = !0
            })), j || (j = M.listen("SWITCH", function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        d1: 1
                    },
                    i = t.d1;
                E && E.activate(i), q(i), Y(i), J(i), T.pageIndexObj.d1 = i, e.scrollTop(0)
            })), B || (B = M.listen("ENTER", function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                    page: null
                };
                T.pageIndexObj.d1 = T.pages.indexOf(t.page) + 1, O && $(T.pageIndexObj.d1)
            }))) : (F && (F.unsubscribe(), F = null), j && (j.unsubscribe(), j = null), B && (B.unsubscribe(), B = null)), Object(l.p)(t) ? (U(), C.setEnable(!1).showAllPages()) : (V(), G(!1), C.setEnable(!0).switchPage(T.pageIndexObj.d1), J(T.pageIndexObj.d1));
            var n;
            if (function() {
                    ! function(t, e) {
                        arguments.length > 2 && void 0 !== arguments[2] && arguments[2], Object(l.o)(i) && o.a.to(r()(".go-home .text"), .5, {
                            delay: 1,
                            autoAlpha: 0,
                            ease: Cubic.easeOut
                        }), o.a.to(r()(".btn-appdownload .text", z), .5, {
                            delay: 1,
                            autoAlpha: 0,
                            ease: Cubic.easeOut
                        })
                    }();
                    var t = r()(".go-home");
                    t.on("click", function(e) {
                        e.preventDefault(), Object(l.v)("LineageM_WEB_VISIT_0912", !1, 1), location.href = t.attr("href")
                    })
                }(), r()('[data-module-id="layer"]').on("click", function(t) {
                    t.preventDefault(), t.stopPropagation();
                    var e = r()(this),
                        i = e.attr("data-layer-target"),
                        n = this;
                    n.model = u.a.getInstance();
                    var o = n.model.modalLayers[i];
                    o ? o.show() : n.model.modalLayers[i] = new x.a({
                        layer: r()(i),
                        linked: e,
                        options: {
                            noScroll: !1,
                            keepDimmed: !0
                        },
                        onBeforeShow: function() {
                            G(!1), n.model.isShowBodyFixedLayer = !0
                        },
                        onBeforeHide: function() {
                            G(!0), n.model.isShowBodyFixedLayer = !1
                        },
                        onShow: function() {
                            O && $(T.pageIndexObj.d1)
                        }
                    })
                }), r()(window).on("scroll", function(t) {
                    var i = e.scrollTop();
                    Object(l.p)(Object(l.h)(c.a)) && (i <= 0 ? z.show() : z.hide())
                }), r()(window).on("resize", function(e) {
                    P && P.resize(e), k && k.resize(e), L && L.resize(e), I && I.resize(e), R && R.resize(e), D && D.resize(e),
                        function(e) {
                            var i = Object(l.h)(c.a);
                            if (i !== t) {
                                if (Object(l.p)(i)) {
                                    E && E.destroy(), U(), C.setEnable(!1).showAllPages(), T.pages.map(function(t) {
                                        A.removeScene(t.getScrollMagicScene())
                                    }), T.pages.map(function(t) {
                                        t.resetScrollMagicScene(), A.addScene(t.getScrollMagicScene())
                                    });
                                    var n = W(T.pageIndexObj.d1);
                                    H(Object(l.d)(n.getSelector()).top)
                                } else O && O.destroy(), V(), G(!1), C.setEnable(!0).switchPage(T.pageIndexObj.d1), q(T.pageIndexObj.d1), Y(T.pageIndexObj.d1), T.isEnableMouseWheel = !0;
                                t = i
                            }
                        }()
                }), r()(window).on("hashchange", function(e) {
                    if (Object(l.p)(t));
                    else {
                        var i = location.hash ? location.hash.slice(1) : "",
                            n = S.indexOf(i) + 1;
                        n > 0 && n <= S.length && C.switchPage(n, !0)
                    }
                }), Object(l.p)(t));
            else {
                var s = location.hash ? location.hash.slice(1) : "",
                    p = S.indexOf(s) + 1;
                p > 0 && p <= S.length && C.switchPage(p, !0)
            }
        })
    }()
}, function(t, e, i) {
    "use strict";
    (function(t) {
        var e, n = i(67),
            r = i.n(n);
        e = function(t) {
            var e = window.Slick || {};
            (e = function() {
                var e = 0;
                return function(i, n) {
                    var r, o = this;
                    o.defaults = {
                        accessibility: !0,
                        adaptiveHeight: !1,
                        appendArrows: t(i),
                        appendDots: t(i),
                        arrows: !0,
                        asNavFor: null,
                        prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',
                        nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',
                        autoplay: !1,
                        autoplaySpeed: 3e3,
                        centerMode: !1,
                        centerPadding: "50px",
                        cssEase: "ease",
                        customPaging: function(t, e) {
                            return '<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">' + (e + 1) + "</button>"
                        },
                        dots: !1,
                        dotsClass: "slick-dots",
                        draggable: !0,
                        easing: "linear",
                        edgeFriction: .35,
                        fade: !1,
                        focusOnSelect: !1,
                        infinite: !0,
                        initialSlide: 0,
                        lazyLoad: "ondemand",
                        mobileFirst: !1,
                        pauseOnHover: !0,
                        pauseOnDotsHover: !1,
                        respondTo: "window",
                        responsive: null,
                        rows: 1,
                        rtl: !1,
                        slide: "",
                        slidesPerRow: 1,
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        speed: 500,
                        swipe: !0,
                        swipeToSlide: !1,
                        touchMove: !0,
                        touchThreshold: 5,
                        useCSS: !0,
                        useTransform: !1,
                        variableWidth: !1,
                        vertical: !1,
                        verticalSwiping: !1,
                        waitForAnimate: !0,
                        zIndex: 1e3
                    }, o.initials = {
                        animating: !1,
                        dragging: !1,
                        autoPlayTimer: null,
                        currentDirection: 0,
                        currentLeft: null,
                        currentSlide: 0,
                        direction: 1,
                        $dots: null,
                        listWidth: null,
                        listHeight: null,
                        loadIndex: 0,
                        $nextArrow: null,
                        $prevArrow: null,
                        slideCount: null,
                        slideWidth: null,
                        $slideTrack: null,
                        $slides: null,
                        sliding: !1,
                        slideOffset: 0,
                        swipeLeft: null,
                        $list: null,
                        touchObject: {},
                        transformsEnabled: !1,
                        unslicked: !1
                    }, t.extend(o, o.initials), o.activeBreakpoint = null, o.animType = null, o.animProp = null, o.breakpoints = [], o.breakpointSettings = [], o.cssTransitions = !1, o.hidden = "hidden", o.paused = !1, o.positionProp = null, o.respondTo = null, o.rowCount = 1, o.shouldClick = !0, o.$slider = t(i), o.$slidesCache = null, o.transformType = null, o.transitionType = null, o.visibilityChange = "visibilitychange", o.windowWidth = 0, o.windowTimer = null, r = t(i).data("slick") || {}, o.options = t.extend({}, o.defaults, r, n), o.currentSlide = o.options.initialSlide, o.originalSettings = o.options, void 0 !== document.mozHidden ? (o.hidden = "mozHidden", o.visibilityChange = "mozvisibilitychange") : void 0 !== document.webkitHidden && (o.hidden = "webkitHidden", o.visibilityChange = "webkitvisibilitychange"), o.autoPlay = t.proxy(o.autoPlay, o), o.autoPlayClear = t.proxy(o.autoPlayClear, o), o.changeSlide = t.proxy(o.changeSlide, o), o.clickHandler = t.proxy(o.clickHandler, o), o.selectHandler = t.proxy(o.selectHandler, o), o.setPosition = t.proxy(o.setPosition, o), o.swipeHandler = t.proxy(o.swipeHandler, o), o.dragHandler = t.proxy(o.dragHandler, o), o.keyHandler = t.proxy(o.keyHandler, o), o.autoPlayIterator = t.proxy(o.autoPlayIterator, o), o.instanceUid = e++, o.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, o.registerBreakpoints(), o.init(!0), o.checkResponsive(!0)
                }
            }()).prototype.addSlide = e.prototype.slickAdd = function(e, i, n) {
                var r = this;
                if ("boolean" == typeof i) n = i, i = null;
                else if (i < 0 || i >= r.slideCount) return !1;
                r.unload(), "number" == typeof i ? 0 === i && 0 === r.$slides.length ? t(e).appendTo(r.$slideTrack) : n ? t(e).insertBefore(r.$slides.eq(i)) : t(e).insertAfter(r.$slides.eq(i)) : !0 === n ? t(e).prependTo(r.$slideTrack) : t(e).appendTo(r.$slideTrack), r.$slides = r.$slideTrack.children(this.options.slide), r.$slideTrack.children(this.options.slide).detach(), r.$slideTrack.append(r.$slides), r.$slides.each(function(e, i) {
                    t(i).attr("data-slick-index", e)
                }), r.$slidesCache = r.$slides, r.reinit()
            }, e.prototype.animateHeight = function() {
                var t = this;
                if (1 === t.options.slidesToShow && !0 === t.options.adaptiveHeight && !1 === t.options.vertical) {
                    var e = t.$slides.eq(t.currentSlide).outerHeight(!0);
                    t.$list.animate({
                        height: e
                    }, t.options.speed)
                }
            }, e.prototype.animateSlide = function(e, i) {
                var n = {},
                    r = this;
                r.animateHeight(), !0 === r.options.rtl && !1 === r.options.vertical && (e = -e), !1 === r.transformsEnabled ? !1 === r.options.vertical ? r.$slideTrack.animate({
                    left: e
                }, r.options.speed, r.options.easing, i) : r.$slideTrack.animate({
                    top: e
                }, r.options.speed, r.options.easing, i) : !1 === r.cssTransitions ? (!0 === r.options.rtl && (r.currentLeft = -r.currentLeft), t({
                    animStart: r.currentLeft
                }).animate({
                    animStart: e
                }, {
                    duration: r.options.speed,
                    easing: r.options.easing,
                    step: function(t) {
                        t = Math.ceil(t), !1 === r.options.vertical ? (n[r.animType] = "translate(" + t + "px, 0px)", r.$slideTrack.css(n)) : (n[r.animType] = "translate(0px," + t + "px)", r.$slideTrack.css(n))
                    },
                    complete: function() {
                        i && i.call()
                    }
                })) : (r.applyTransition(), e = Math.ceil(e), !1 === r.options.vertical ? n[r.animType] = "translate3d(" + e + "px, 0px, 0px)" : n[r.animType] = "translate3d(0px," + e + "px, 0px)", r.$slideTrack.css(n), i && setTimeout(function() {
                    r.disableTransition(), i.call()
                }, r.options.speed))
            }, e.prototype.asNavFor = function(e) {
                var i = this.options.asNavFor;
                i && null !== i && (i = t(i).not(this.$slider)), null !== i && "object" === (void 0 === i ? "undefined" : r()(i)) && i.each(function() {
                    var i = t(this).slick("getSlick");
                    i.unslicked || i.slideHandler(e, !0)
                })
            }, e.prototype.applyTransition = function(t) {
                var e = this,
                    i = {};
                !1 === e.options.fade ? i[e.transitionType] = e.transformType + " " + e.options.speed + "ms " + e.options.cssEase : i[e.transitionType] = "opacity " + e.options.speed + "ms " + e.options.cssEase, !1 === e.options.fade ? e.$slideTrack.css(i) : e.$slides.eq(t).css(i)
            }, e.prototype.autoPlay = function() {
                var t = this;
                t.autoPlayTimer && clearInterval(t.autoPlayTimer), t.slideCount > t.options.slidesToShow && !0 !== t.paused && (t.autoPlayTimer = setInterval(t.autoPlayIterator, t.options.autoplaySpeed))
            }, e.prototype.autoPlayClear = function() {
                this.autoPlayTimer && clearInterval(this.autoPlayTimer)
            }, e.prototype.autoPlayIterator = function() {
                var t = this;
                !1 === t.options.infinite ? 1 === t.direction ? (t.currentSlide + 1 === t.slideCount - 1 && (t.direction = 0), t.slideHandler(t.currentSlide + t.options.slidesToScroll)) : (t.currentSlide - 1 == 0 && (t.direction = 1), t.slideHandler(t.currentSlide - t.options.slidesToScroll)) : t.slideHandler(t.currentSlide + t.options.slidesToScroll)
            }, e.prototype.buildArrows = function() {
                var e = this;
                !0 === e.options.arrows && (e.$prevArrow = t(e.options.prevArrow).addClass("slick-arrow"), e.$nextArrow = t(e.options.nextArrow).addClass("slick-arrow"), e.slideCount > e.options.slidesToShow ? (e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.prependTo(e.options.appendArrows), e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.appendTo(e.options.appendArrows), !0 !== e.options.infinite && e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({
                    "aria-disabled": "true",
                    tabindex: "-1"
                }))
            }, e.prototype.buildDots = function() {
                var e, i, n = this;
                if (!0 === n.options.dots && n.slideCount > n.options.slidesToShow) {
                    for (i = '<ul class="' + n.options.dotsClass + '">', e = 0; e <= n.getDotCount(); e += 1) i += "<li>" + n.options.customPaging.call(this, n, e) + "</li>";
                    i += "</ul>", n.$dots = t(i).appendTo(n.options.appendDots), n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden", "false")
                }
            }, e.prototype.buildOut = function() {
                var e = this;
                e.$slides = e.$slider.children(e.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), e.slideCount = e.$slides.length, e.$slides.each(function(e, i) {
                    t(i).attr("data-slick-index", e).data("originalStyling", t(i).attr("style") || "")
                }), e.$slider.addClass("slick-slider"), e.$slideTrack = 0 === e.slideCount ? t('<div class="slick-track"/>').appendTo(e.$slider) : e.$slides.wrapAll('<div class="slick-track"/>').parent(), e.$list = e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(), e.$slideTrack.css("opacity", 0), !0 !== e.options.centerMode && !0 !== e.options.swipeToSlide || (e.options.slidesToScroll = 1), t("img[data-lazy]", e.$slider).not("[src]").addClass("slick-loading"), e.setupInfinite(), e.buildArrows(), e.buildDots(), e.updateDots(), e.setSlideClasses("number" == typeof e.currentSlide ? e.currentSlide : 0), !0 === e.options.draggable && e.$list.addClass("draggable")
            }, e.prototype.buildRows = function() {
                var t, e, i, n, r, o, s, a = this;
                if (n = document.createDocumentFragment(), o = a.$slider.children(), a.options.rows > 1) {
                    for (s = a.options.slidesPerRow * a.options.rows, r = Math.ceil(o.length / s), t = 0; t < r; t++) {
                        var c = document.createElement("div");
                        for (e = 0; e < a.options.rows; e++) {
                            var l = document.createElement("div");
                            for (i = 0; i < a.options.slidesPerRow; i++) {
                                var u = t * s + (e * a.options.slidesPerRow + i);
                                o.get(u) && l.appendChild(o.get(u))
                            }
                            c.appendChild(l)
                        }
                        n.appendChild(c)
                    }
                    a.$slider.html(n), a.$slider.children().children().children().css({
                        width: 100 / a.options.slidesPerRow + "%",
                        display: "inline-block"
                    })
                }
            }, e.prototype.checkResponsive = function(e, i) {
                var n, r, o, s = this,
                    a = !1,
                    c = s.$slider.width(),
                    l = window.innerWidth || t(window).width();
                if ("window" === s.respondTo ? o = l : "slider" === s.respondTo ? o = c : "min" === s.respondTo && (o = Math.min(l, c)), s.options.responsive && s.options.responsive.length && null !== s.options.responsive) {
                    for (n in r = null, s.breakpoints) s.breakpoints.hasOwnProperty(n) && (!1 === s.originalSettings.mobileFirst ? o < s.breakpoints[n] && (r = s.breakpoints[n]) : o > s.breakpoints[n] && (r = s.breakpoints[n]));
                    null !== r ? null !== s.activeBreakpoint ? (r !== s.activeBreakpoint || i) && (s.activeBreakpoint = r, "unslick" === s.breakpointSettings[r] ? s.unslick(r) : (s.options = t.extend({}, s.originalSettings, s.breakpointSettings[r]), !0 === e && (s.currentSlide = s.options.initialSlide), s.refresh(e)), a = r) : (s.activeBreakpoint = r, "unslick" === s.breakpointSettings[r] ? s.unslick(r) : (s.options = t.extend({}, s.originalSettings, s.breakpointSettings[r]), !0 === e && (s.currentSlide = s.options.initialSlide), s.refresh(e)), a = r) : null !== s.activeBreakpoint && (s.activeBreakpoint = null, s.options = s.originalSettings, !0 === e && (s.currentSlide = s.options.initialSlide), s.refresh(e), a = r), e || !1 === a || s.$slider.trigger("breakpoint", [s, a])
                }
            }, e.prototype.changeSlide = function(e, i) {
                var n, r, o = this,
                    s = t(e.target);
                switch (s.is("a") && e.preventDefault(), s.is("li") || (s = s.closest("li")), n = o.slideCount % o.options.slidesToScroll != 0 ? 0 : (o.slideCount - o.currentSlide) % o.options.slidesToScroll, e.data.message) {
                    case "previous":
                        r = 0 === n ? o.options.slidesToScroll : o.options.slidesToShow - n, o.slideCount > o.options.slidesToShow && o.slideHandler(o.currentSlide - r, !1, i);
                        break;
                    case "next":
                        r = 0 === n ? o.options.slidesToScroll : n, o.slideCount > o.options.slidesToShow && o.slideHandler(o.currentSlide + r, !1, i);
                        break;
                    case "index":
                        var a = 0 === e.data.index ? 0 : e.data.index || s.index() * o.options.slidesToScroll;
                        o.slideHandler(o.checkNavigable(a), !1, i), s.children().trigger("focus");
                        break;
                    default:
                        return
                }
            }, e.prototype.checkNavigable = function(t) {
                var e, i;
                if (i = 0, t > (e = this.getNavigableIndexes())[e.length - 1]) t = e[e.length - 1];
                else
                    for (var n in e) {
                        if (t < e[n]) {
                            t = i;
                            break
                        }
                        i = e[n]
                    }
                return t
            }, e.prototype.cleanUpEvents = function() {
                var e = this;
                e.options.dots && null !== e.$dots && (t("li", e.$dots).off("click.slick", e.changeSlide), !0 === e.options.pauseOnDotsHover && !0 === e.options.autoplay && t("li", e.$dots).off("mouseenter.slick", t.proxy(e.setPaused, e, !0)).off("mouseleave.slick", t.proxy(e.setPaused, e, !1))), !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow && e.$prevArrow.off("click.slick", e.changeSlide), e.$nextArrow && e.$nextArrow.off("click.slick", e.changeSlide)), e.$list.off("touchstart.slick mousedown.slick", e.swipeHandler), e.$list.off("touchmove.slick mousemove.slick", e.swipeHandler), e.$list.off("touchend.slick mouseup.slick", e.swipeHandler), e.$list.off("touchcancel.slick mouseleave.slick", e.swipeHandler), e.$list.off("click.slick", e.clickHandler), t(document).off(e.visibilityChange, e.visibility), e.$list.off("mouseenter.slick", t.proxy(e.setPaused, e, !0)), e.$list.off("mouseleave.slick", t.proxy(e.setPaused, e, !1)), !0 === e.options.accessibility && e.$list.off("keydown.slick", e.keyHandler), !0 === e.options.focusOnSelect && t(e.$slideTrack).children().off("click.slick", e.selectHandler), t(window).off("orientationchange.slick.slick-" + e.instanceUid, e.orientationChange), t(window).off("resize.slick.slick-" + e.instanceUid, e.resize), t("[draggable!=true]", e.$slideTrack).off("dragstart", e.preventDefault), t(window).off("load.slick.slick-" + e.instanceUid, e.setPosition), t(document).off("ready.slick.slick-" + e.instanceUid, e.setPosition)
            }, e.prototype.cleanUpRows = function() {
                var t, e = this;
                e.options.rows > 1 && ((t = e.$slides.children().children()).removeAttr("style"), e.$slider.html(t))
            }, e.prototype.clickHandler = function(t) {
                !1 === this.shouldClick && (t.stopImmediatePropagation(), t.stopPropagation(), t.preventDefault())
            }, e.prototype.destroy = function(e) {
                var i = this;
                i.autoPlayClear(), i.touchObject = {}, i.cleanUpEvents(), t(".slick-cloned", i.$slider).detach(), i.$dots && i.$dots.remove(), i.$prevArrow && i.$prevArrow.length && (i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.prevArrow) && i.$prevArrow.remove()), i.$nextArrow && i.$nextArrow.length && (i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.nextArrow) && i.$nextArrow.remove()), i.$slides && (i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function() {
                    t(this).attr("style", t(this).data("originalStyling"))
                }), i.$slideTrack.children(this.options.slide).detach(), i.$slideTrack.detach(), i.$list.detach(), i.$slider.append(i.$slides)), i.cleanUpRows(), i.$slider.removeClass("slick-slider"), i.$slider.removeClass("slick-initialized"), i.unslicked = !0, e || i.$slider.trigger("destroy", [i])
            }, e.prototype.disableTransition = function(t) {
                var e = this,
                    i = {};
                i[e.transitionType] = "", !1 === e.options.fade ? e.$slideTrack.css(i) : e.$slides.eq(t).css(i)
            }, e.prototype.fadeSlide = function(t, e) {
                var i = this;
                !1 === i.cssTransitions ? (i.$slides.eq(t).css({
                    zIndex: i.options.zIndex
                }), i.$slides.eq(t).animate({
                    opacity: 1
                }, i.options.speed, i.options.easing, e)) : (i.applyTransition(t), i.$slides.eq(t).css({
                    opacity: 1,
                    zIndex: i.options.zIndex
                }), e && setTimeout(function() {
                    i.disableTransition(t), e.call()
                }, i.options.speed))
            }, e.prototype.fadeSlideOut = function(t) {
                var e = this;
                !1 === e.cssTransitions ? e.$slides.eq(t).animate({
                    opacity: 0,
                    zIndex: e.options.zIndex - 2
                }, e.options.speed, e.options.easing) : (e.applyTransition(t), e.$slides.eq(t).css({
                    opacity: 0,
                    zIndex: e.options.zIndex - 2
                }))
            }, e.prototype.filterSlides = e.prototype.slickFilter = function(t) {
                var e = this;
                null !== t && (e.$slidesCache = e.$slides, e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.filter(t).appendTo(e.$slideTrack), e.reinit())
            }, e.prototype.getCurrent = e.prototype.slickCurrentSlide = function() {
                return this.currentSlide
            }, e.prototype.getDotCount = function() {
                var t = this,
                    e = 0,
                    i = 0,
                    n = 0;
                if (!0 === t.options.infinite)
                    for (; e < t.slideCount;) ++n, e = i + t.options.slidesToScroll, i += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow;
                else if (!0 === t.options.centerMode) n = t.slideCount;
                else
                    for (; e < t.slideCount;) ++n, e = i + t.options.slidesToScroll, i += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow;
                return n - 1
            }, e.prototype.getLeft = function(t) {
                var e, i, n, r = this,
                    o = 0;
                return r.slideOffset = 0, i = r.$slides.first().outerHeight(!0), !0 === r.options.infinite ? (r.slideCount > r.options.slidesToShow && (r.slideOffset = r.slideWidth * r.options.slidesToShow * -1, o = i * r.options.slidesToShow * -1), r.slideCount % r.options.slidesToScroll != 0 && t + r.options.slidesToScroll > r.slideCount && r.slideCount > r.options.slidesToShow && (t > r.slideCount ? (r.slideOffset = (r.options.slidesToShow - (t - r.slideCount)) * r.slideWidth * -1, o = (r.options.slidesToShow - (t - r.slideCount)) * i * -1) : (r.slideOffset = r.slideCount % r.options.slidesToScroll * r.slideWidth * -1, o = r.slideCount % r.options.slidesToScroll * i * -1))) : t + r.options.slidesToShow > r.slideCount && (r.slideOffset = (t + r.options.slidesToShow - r.slideCount) * r.slideWidth, o = (t + r.options.slidesToShow - r.slideCount) * i), r.slideCount <= r.options.slidesToShow && (r.slideOffset = 0, o = 0), !0 === r.options.centerMode && !0 === r.options.infinite ? r.slideOffset += r.slideWidth * Math.floor(r.options.slidesToShow / 2) - r.slideWidth : !0 === r.options.centerMode && (r.slideOffset = 0, r.slideOffset += r.slideWidth * Math.floor(r.options.slidesToShow / 2)), e = !1 === r.options.vertical ? t * r.slideWidth * -1 + r.slideOffset : t * i * -1 + o, !0 === r.options.variableWidth && (n = r.slideCount <= r.options.slidesToShow || !1 === r.options.infinite ? r.$slideTrack.children(".slick-slide").eq(t) : r.$slideTrack.children(".slick-slide").eq(t + r.options.slidesToShow), e = !0 === r.options.rtl ? n[0] ? -1 * (r.$slideTrack.width() - n[0].offsetLeft - n.width()) : 0 : n[0] ? -1 * n[0].offsetLeft : 0, !0 === r.options.centerMode && (n = r.slideCount <= r.options.slidesToShow || !1 === r.options.infinite ? r.$slideTrack.children(".slick-slide").eq(t) : r.$slideTrack.children(".slick-slide").eq(t + r.options.slidesToShow + 1), e = !0 === r.options.rtl ? n[0] ? -1 * (r.$slideTrack.width() - n[0].offsetLeft - n.width()) : 0 : n[0] ? -1 * n[0].offsetLeft : 0, e += (r.$list.width() - n.outerWidth()) / 2)), e
            }, e.prototype.getOption = e.prototype.slickGetOption = function(t) {
                return this.options[t]
            }, e.prototype.getNavigableIndexes = function() {
                var t, e = this,
                    i = 0,
                    n = 0,
                    r = [];
                for (!1 === e.options.infinite ? t = e.slideCount : (i = -1 * e.options.slidesToScroll, n = -1 * e.options.slidesToScroll, t = 2 * e.slideCount); i < t;) r.push(i), i = n + e.options.slidesToScroll, n += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
                return r
            }, e.prototype.getSlick = function() {
                return this
            }, e.prototype.getSlideCount = function() {
                var e, i, n = this;
                return i = !0 === n.options.centerMode ? n.slideWidth * Math.floor(n.options.slidesToShow / 2) : 0, !0 === n.options.swipeToSlide ? (n.$slideTrack.find(".slick-slide").each(function(r, o) {
                    if (o.offsetLeft - i + t(o).outerWidth() / 2 > -1 * n.swipeLeft) return e = o, !1
                }), Math.abs(t(e).attr("data-slick-index") - n.currentSlide) || 1) : n.options.slidesToScroll
            }, e.prototype.goTo = e.prototype.slickGoTo = function(t, e) {
                this.changeSlide({
                    data: {
                        message: "index",
                        index: parseInt(t)
                    }
                }, e)
            }, e.prototype.init = function(e) {
                var i = this;
                t(i.$slider).hasClass("slick-initialized") || (t(i.$slider).addClass("slick-initialized"), i.buildRows(), i.buildOut(), i.setProps(), i.startLoad(), i.loadSlider(), i.initializeEvents(), i.updateArrows(), i.updateDots()), e && i.$slider.trigger("init", [i]), !0 === i.options.accessibility && i.initADA()
            }, e.prototype.initArrowEvents = function() {
                var t = this;
                !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow.on("click.slick", {
                    message: "previous"
                }, t.changeSlide), t.$nextArrow.on("click.slick", {
                    message: "next"
                }, t.changeSlide))
            }, e.prototype.initDotEvents = function() {
                var e = this;
                !0 === e.options.dots && e.slideCount > e.options.slidesToShow && t("li", e.$dots).on("click.slick", {
                    message: "index"
                }, e.changeSlide), !0 === e.options.dots && !0 === e.options.pauseOnDotsHover && !0 === e.options.autoplay && t("li", e.$dots).on("mouseenter.slick", t.proxy(e.setPaused, e, !0)).on("mouseleave.slick", t.proxy(e.setPaused, e, !1))
            }, e.prototype.initializeEvents = function() {
                var e = this;
                e.initArrowEvents(), e.initDotEvents(), e.$list.on("touchstart.slick mousedown.slick", {
                    action: "start"
                }, e.swipeHandler), e.$list.on("touchmove.slick mousemove.slick", {
                    action: "move"
                }, e.swipeHandler), e.$list.on("touchend.slick mouseup.slick", {
                    action: "end"
                }, e.swipeHandler), e.$list.on("touchcancel.slick mouseleave.slick", {
                    action: "end"
                }, e.swipeHandler), e.$list.on("click.slick", e.clickHandler), t(document).on(e.visibilityChange, t.proxy(e.visibility, e)), e.$list.on("mouseenter.slick", t.proxy(e.setPaused, e, !0)), e.$list.on("mouseleave.slick", t.proxy(e.setPaused, e, !1)), !0 === e.options.accessibility && e.$list.on("keydown.slick", e.keyHandler), !0 === e.options.focusOnSelect && t(e.$slideTrack).children().on("click.slick", e.selectHandler), t(window).on("orientationchange.slick.slick-" + e.instanceUid, t.proxy(e.orientationChange, e)), t(window).on("resize.slick.slick-" + e.instanceUid, t.proxy(e.resize, e)), t("[draggable!=true]", e.$slideTrack).on("dragstart", e.preventDefault), t(window).on("load.slick.slick-" + e.instanceUid, e.setPosition), t(document).on("ready.slick.slick-" + e.instanceUid, e.setPosition)
            }, e.prototype.initUI = function() {
                var t = this;
                !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow.show(), t.$nextArrow.show()), !0 === t.options.dots && t.slideCount > t.options.slidesToShow && t.$dots.show(), !0 === t.options.autoplay && t.autoPlay()
            }, e.prototype.keyHandler = function(t) {
                var e = this;
                t.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === t.keyCode && !0 === e.options.accessibility ? e.changeSlide({
                    data: {
                        message: "previous"
                    }
                }) : 39 === t.keyCode && !0 === e.options.accessibility && e.changeSlide({
                    data: {
                        message: "next"
                    }
                }))
            }, e.prototype.lazyLoad = function() {
                var e, i, n = this;

                function r(e) {
                    t("img[data-lazy]", e).each(function() {
                        var e = t(this),
                            i = t(this).attr("data-lazy"),
                            n = document.createElement("img");
                        n.onload = function() {
                            e.animate({
                                opacity: 0
                            }, 100, function() {
                                e.attr("src", i).animate({
                                    opacity: 1
                                }, 200, function() {
                                    e.removeAttr("data-lazy").removeClass("slick-loading")
                                })
                            })
                        }, n.src = i
                    })
                }!0 === n.options.centerMode ? !0 === n.options.infinite ? i = (e = n.currentSlide + (n.options.slidesToShow / 2 + 1)) + n.options.slidesToShow + 2 : (e = Math.max(0, n.currentSlide - (n.options.slidesToShow / 2 + 1)), i = n.options.slidesToShow / 2 + 1 + 2 + n.currentSlide) : (i = (e = n.options.infinite ? n.options.slidesToShow + n.currentSlide : n.currentSlide) + n.options.slidesToShow, !0 === n.options.fade && (e > 0 && e--, i <= n.slideCount && i++)), r(n.$slider.find(".slick-slide").slice(e, i)), n.slideCount <= n.options.slidesToShow ? r(n.$slider.find(".slick-slide")) : n.currentSlide >= n.slideCount - n.options.slidesToShow ? r(n.$slider.find(".slick-cloned").slice(0, n.options.slidesToShow)) : 0 === n.currentSlide && r(n.$slider.find(".slick-cloned").slice(-1 * n.options.slidesToShow))
            }, e.prototype.loadSlider = function() {
                var t = this;
                t.setPosition(), t.$slideTrack.css({
                    opacity: 1
                }), t.$slider.removeClass("slick-loading"), t.initUI(), "progressive" === t.options.lazyLoad && t.progressiveLazyLoad()
            }, e.prototype.next = e.prototype.slickNext = function() {
                this.changeSlide({
                    data: {
                        message: "next"
                    }
                })
            }, e.prototype.orientationChange = function() {
                this.checkResponsive(), this.setPosition()
            }, e.prototype.pause = e.prototype.slickPause = function() {
                this.autoPlayClear(), this.paused = !0
            }, e.prototype.play = e.prototype.slickPlay = function() {
                this.paused = !1, this.autoPlay()
            }, e.prototype.postSlide = function(t) {
                var e = this;
                e.$slider.trigger("afterChange", [e, t]), e.animating = !1, e.setPosition(), e.swipeLeft = null, !0 === e.options.autoplay && !1 === e.paused && e.autoPlay(), !0 === e.options.accessibility && e.initADA()
            }, e.prototype.prev = e.prototype.slickPrev = function() {
                this.changeSlide({
                    data: {
                        message: "previous"
                    }
                })
            }, e.prototype.preventDefault = function(t) {
                t.preventDefault()
            }, e.prototype.progressiveLazyLoad = function() {
                var e, i = this;
                t("img[data-lazy]", i.$slider).length > 0 && ((e = t("img[data-lazy]", i.$slider).first()).attr("src", null), e.attr("src", e.attr("data-lazy")).removeClass("slick-loading").load(function() {
                    e.removeAttr("data-lazy"), i.progressiveLazyLoad(), !0 === i.options.adaptiveHeight && i.setPosition()
                }).error(function() {
                    e.removeAttr("data-lazy"), i.progressiveLazyLoad()
                }))
            }, e.prototype.refresh = function(e) {
                var i, n, r = this;
                n = r.slideCount - r.options.slidesToShow, r.options.infinite || (r.slideCount <= r.options.slidesToShow ? r.currentSlide = 0 : r.currentSlide > n && (r.currentSlide = n)), i = r.currentSlide, r.destroy(!0), t.extend(r, r.initials, {
                    currentSlide: i
                }), r.init(), e || r.changeSlide({
                    data: {
                        message: "index",
                        index: i
                    }
                }, !1)
            }, e.prototype.registerBreakpoints = function() {
                var e, i, n, r = this,
                    o = r.options.responsive || null;
                if ("array" === t.type(o) && o.length) {
                    for (e in r.respondTo = r.options.respondTo || "window", o)
                        if (n = r.breakpoints.length - 1, i = o[e].breakpoint, o.hasOwnProperty(e)) {
                            for (; n >= 0;) r.breakpoints[n] && r.breakpoints[n] === i && r.breakpoints.splice(n, 1), n--;
                            r.breakpoints.push(i), r.breakpointSettings[i] = o[e].settings
                        }
                    r.breakpoints.sort(function(t, e) {
                        return r.options.mobileFirst ? t - e : e - t
                    })
                }
            }, e.prototype.reinit = function() {
                var e = this;
                e.$slides = e.$slideTrack.children(e.options.slide).addClass("slick-slide"), e.slideCount = e.$slides.length, e.currentSlide >= e.slideCount && 0 !== e.currentSlide && (e.currentSlide = e.currentSlide - e.options.slidesToScroll), e.slideCount <= e.options.slidesToShow && (e.currentSlide = 0), e.registerBreakpoints(), e.setProps(), e.setupInfinite(), e.buildArrows(), e.updateArrows(), e.initArrowEvents(), e.buildDots(), e.updateDots(), e.initDotEvents(), e.checkResponsive(!1, !0), !0 === e.options.focusOnSelect && t(e.$slideTrack).children().on("click.slick", e.selectHandler), e.setSlideClasses(0), e.setPosition(), e.$slider.trigger("reInit", [e]), !0 === e.options.autoplay && e.focusHandler()
            }, e.prototype.resize = function() {
                var e = this;
                t(window).width() !== e.windowWidth && (clearTimeout(e.windowDelay), e.windowDelay = window.setTimeout(function() {
                    e.windowWidth = t(window).width(), e.checkResponsive(), e.unslicked || e.setPosition()
                }, 50))
            }, e.prototype.removeSlide = e.prototype.slickRemove = function(t, e, i) {
                var n = this;
                if (t = "boolean" == typeof t ? !0 === (e = t) ? 0 : n.slideCount - 1 : !0 === e ? --t : t, n.slideCount < 1 || t < 0 || t > n.slideCount - 1) return !1;
                n.unload(), !0 === i ? n.$slideTrack.children().remove() : n.$slideTrack.children(this.options.slide).eq(t).remove(), n.$slides = n.$slideTrack.children(this.options.slide), n.$slideTrack.children(this.options.slide).detach(), n.$slideTrack.append(n.$slides), n.$slidesCache = n.$slides, n.reinit()
            }, e.prototype.setCSS = function(t) {
                var e, i, n = this,
                    r = {};
                !0 === n.options.rtl && (t = -t), e = "left" == n.positionProp ? Math.ceil(t) + "px" : "0px", i = "top" == n.positionProp ? Math.ceil(t) + "px" : "0px", r[n.positionProp] = t, !1 === n.transformsEnabled ? n.$slideTrack.css(r) : (r = {}, !1 === n.cssTransitions ? (r[n.animType] = "translate(" + e + ", " + i + ")", n.$slideTrack.css(r)) : (r[n.animType] = "translate3d(" + e + ", " + i + ", 0px)", n.$slideTrack.css(r)))
            }, e.prototype.setDimensions = function() {
                var t = this;
                !1 === t.options.vertical ? !0 === t.options.centerMode && t.$list.css({
                    padding: "0px " + t.options.centerPadding
                }) : (t.$list.height(t.$slides.first().outerHeight(!0) * t.options.slidesToShow), !0 === t.options.centerMode && t.$list.css({
                    padding: t.options.centerPadding + " 0px"
                })), t.listWidth = t.$list.width(), t.listHeight = t.$list.height(), !1 === t.options.vertical && !1 === t.options.variableWidth ? (t.slideWidth = Math.ceil(t.listWidth / t.options.slidesToShow), t.$slideTrack.width(Math.ceil(t.slideWidth * t.$slideTrack.children(".slick-slide").length))) : !0 === t.options.variableWidth ? t.$slideTrack.width(5e3 * t.slideCount) : (t.slideWidth = Math.ceil(t.listWidth), t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0) * t.$slideTrack.children(".slick-slide").length)));
                var e = t.$slides.first().outerWidth(!0) - t.$slides.first().width();
                !1 === t.options.variableWidth && t.$slideTrack.children(".slick-slide").width(t.slideWidth - e)
            }, e.prototype.setFade = function() {
                var e, i = this;
                i.$slides.each(function(n, r) {
                    e = i.slideWidth * n * -1, !0 === i.options.rtl ? t(r).css({
                        position: "relative",
                        right: e,
                        top: 0,
                        zIndex: i.options.zIndex - 2,
                        opacity: 0
                    }) : t(r).css({
                        position: "relative",
                        left: e,
                        top: 0,
                        zIndex: i.options.zIndex - 2,
                        opacity: 0
                    })
                }), i.$slides.eq(i.currentSlide).css({
                    zIndex: i.options.zIndex - 1,
                    opacity: 1
                })
            }, e.prototype.setHeight = function() {
                var t = this;
                if (1 === t.options.slidesToShow && !0 === t.options.adaptiveHeight && !1 === t.options.vertical) {
                    var e = t.$slides.eq(t.currentSlide).outerHeight(!0);
                    t.$list.css("height", e)
                }
            }, e.prototype.setOption = e.prototype.slickSetOption = function(e, i, n) {
                var r, o, s = this;
                if ("responsive" === e && "array" === t.type(i))
                    for (o in i)
                        if ("array" !== t.type(s.options.responsive)) s.options.responsive = [i[o]];
                        else {
                            for (r = s.options.responsive.length - 1; r >= 0;) s.options.responsive[r].breakpoint === i[o].breakpoint && s.options.responsive.splice(r, 1), r--;
                            s.options.responsive.push(i[o])
                        } else s.options[e] = i;
                !0 === n && (s.unload(), s.reinit())
            }, e.prototype.setPosition = function() {
                var t = this;
                t.setDimensions(), t.setHeight(), !1 === t.options.fade ? t.setCSS(t.getLeft(t.currentSlide)) : t.setFade(), t.$slider.trigger("setPosition", [t])
            }, e.prototype.setProps = function() {
                var t = this,
                    e = document.body.style;
                t.positionProp = !0 === t.options.vertical ? "top" : "left", "top" === t.positionProp ? t.$slider.addClass("slick-vertical") : t.$slider.removeClass("slick-vertical"), void 0 === e.WebkitTransition && void 0 === e.MozTransition && void 0 === e.msTransition || !0 === t.options.useCSS && (t.cssTransitions = !0), t.options.fade && ("number" == typeof t.options.zIndex ? t.options.zIndex < 3 && (t.options.zIndex = 3) : t.options.zIndex = t.defaults.zIndex), void 0 !== e.OTransform && (t.animType = "OTransform", t.transformType = "-o-transform", t.transitionType = "OTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (t.animType = !1)), void 0 !== e.MozTransform && (t.animType = "MozTransform", t.transformType = "-moz-transform", t.transitionType = "MozTransition", void 0 === e.perspectiveProperty && void 0 === e.MozPerspective && (t.animType = !1)), void 0 !== e.webkitTransform && (t.animType = "webkitTransform", t.transformType = "-webkit-transform", t.transitionType = "webkitTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (t.animType = !1)), void 0 !== e.msTransform && (t.animType = "msTransform", t.transformType = "-ms-transform", t.transitionType = "msTransition", void 0 === e.msTransform && (t.animType = !1)), void 0 !== e.transform && !1 !== t.animType && (t.animType = "transform", t.transformType = "transform", t.transitionType = "transition"), t.transformsEnabled = t.options.useTransform && null !== t.animType && !1 !== t.animType
            }, e.prototype.setSlideClasses = function(t) {
                var e, i, n, r, o = this;
                i = o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), o.$slides.eq(t).addClass("slick-current"), !0 === o.options.centerMode ? (e = Math.floor(o.options.slidesToShow / 2), !0 === o.options.infinite && (t >= e && t <= o.slideCount - 1 - e ? o.$slides.slice(t - e, t + e + 1).addClass("slick-active").attr("aria-hidden", "false") : (n = o.options.slidesToShow + t, i.slice(n - e + 1, n + e + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === t ? i.eq(i.length - 1 - o.options.slidesToShow).addClass("slick-center") : t === o.slideCount - 1 && i.eq(o.options.slidesToShow).addClass("slick-center")), o.$slides.eq(t).addClass("slick-center")) : t >= 0 && t <= o.slideCount - o.options.slidesToShow ? o.$slides.slice(t, t + o.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : i.length <= o.options.slidesToShow ? i.addClass("slick-active").attr("aria-hidden", "false") : (r = o.slideCount % o.options.slidesToShow, n = !0 === o.options.infinite ? o.options.slidesToShow + t : t, o.options.slidesToShow == o.options.slidesToScroll && o.slideCount - t < o.options.slidesToShow ? i.slice(n - (o.options.slidesToShow - r), n + r).addClass("slick-active").attr("aria-hidden", "false") : i.slice(n, n + o.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false")), "ondemand" === o.options.lazyLoad && o.lazyLoad()
            }, e.prototype.setupInfinite = function() {
                var e, i, n, r = this;
                if (!0 === r.options.fade && (r.options.centerMode = !1), !0 === r.options.infinite && !1 === r.options.fade && (i = null, r.slideCount > r.options.slidesToShow)) {
                    for (n = !0 === r.options.centerMode ? r.options.slidesToShow + 1 : r.options.slidesToShow, e = r.slideCount; e > r.slideCount - n; e -= 1) i = e - 1, t(r.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i - r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned");
                    for (e = 0; e < n; e += 1) i = e, t(r.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i + r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned");
                    r.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
                        t(this).attr("id", "")
                    })
                }
            }, e.prototype.setPaused = function(t) {
                var e = this;
                !0 === e.options.autoplay && !0 === e.options.pauseOnHover && (e.paused = t, t ? e.autoPlayClear() : e.autoPlay())
            }, e.prototype.selectHandler = function(e) {
                var i = this,
                    n = t(e.target).is(".slick-slide") ? t(e.target) : t(e.target).parents(".slick-slide"),
                    r = parseInt(n.attr("data-slick-index"));
                if (r || (r = 0), i.slideCount <= i.options.slidesToShow) return i.setSlideClasses(r), void i.asNavFor(r);
                i.slideHandler(r)
            }, e.prototype.slideHandler = function(t, e, i) {
                var n, r, o, s, a, c = this;
                if (e = e || !1, (!0 !== c.animating || !0 !== c.options.waitForAnimate) && !(!0 === c.options.fade && c.currentSlide === t || c.slideCount <= c.options.slidesToShow))
                    if (!1 === e && c.asNavFor(t), n = t, a = c.getLeft(n), s = c.getLeft(c.currentSlide), c.currentLeft = null === c.swipeLeft ? s : c.swipeLeft, !1 === c.options.infinite && !1 === c.options.centerMode && (t < 0 || t > c.getDotCount() * c.options.slidesToScroll)) !1 === c.options.fade && (n = c.currentSlide, !0 !== i ? c.animateSlide(s, function() {
                        c.postSlide(n)
                    }) : c.postSlide(n));
                    else if (!1 === c.options.infinite && !0 === c.options.centerMode && (t < 0 || t > c.slideCount - c.options.slidesToScroll)) !1 === c.options.fade && (n = c.currentSlide, !0 !== i ? c.animateSlide(s, function() {
                    c.postSlide(n)
                }) : c.postSlide(n));
                else {
                    if (!0 === c.options.autoplay && clearInterval(c.autoPlayTimer), r = n < 0 ? c.slideCount % c.options.slidesToScroll != 0 ? c.slideCount - c.slideCount % c.options.slidesToScroll : c.slideCount + n : n >= c.slideCount ? c.slideCount % c.options.slidesToScroll != 0 ? 0 : n - c.slideCount : n, c.animating = !0, c.$slider.trigger("beforeChange", [c, c.currentSlide, r]), o = c.currentSlide, c.currentSlide = r, c.setSlideClasses(c.currentSlide), c.updateDots(), c.updateArrows(), !0 === c.options.fade) return !0 !== i ? (c.fadeSlideOut(o), c.fadeSlide(r, function() {
                        c.postSlide(r)
                    })) : c.postSlide(r), void c.animateHeight();
                    !0 !== i ? c.animateSlide(a, function() {
                        c.postSlide(r)
                    }) : c.postSlide(r)
                }
            }, e.prototype.startLoad = function() {
                var t = this;
                !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow.hide(), t.$nextArrow.hide()), !0 === t.options.dots && t.slideCount > t.options.slidesToShow && t.$dots.hide(), t.$slider.addClass("slick-loading")
            }, e.prototype.swipeDirection = function() {
                var t, e, i, n, r = this;
                return t = r.touchObject.startX - r.touchObject.curX, e = r.touchObject.startY - r.touchObject.curY, i = Math.atan2(e, t), (n = Math.round(180 * i / Math.PI)) < 0 && (n = 360 - Math.abs(n)), n <= 45 && n >= 0 ? !1 === r.options.rtl ? "left" : "right" : n <= 360 && n >= 315 ? !1 === r.options.rtl ? "left" : "right" : n >= 135 && n <= 225 ? !1 === r.options.rtl ? "right" : "left" : !0 === r.options.verticalSwiping ? n >= 35 && n <= 135 ? "left" : "right" : "vertical"
            }, e.prototype.swipeEnd = function(t) {
                var e, i = this;
                if (i.dragging = !1, i.shouldClick = !(i.touchObject.swipeLength > 10), void 0 === i.touchObject.curX) return !1;
                if (!0 === i.touchObject.edgeHit && i.$slider.trigger("edge", [i, i.swipeDirection()]), i.touchObject.swipeLength >= i.touchObject.minSwipe) switch (i.swipeDirection()) {
                    case "left":
                        e = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide + i.getSlideCount()) : i.currentSlide + i.getSlideCount(), i.slideHandler(e), i.currentDirection = 0, i.touchObject = {}, i.$slider.trigger("swipe", [i, "left"]);
                        break;
                    case "right":
                        e = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide - i.getSlideCount()) : i.currentSlide - i.getSlideCount(), i.slideHandler(e), i.currentDirection = 1, i.touchObject = {}, i.$slider.trigger("swipe", [i, "right"])
                } else i.touchObject.startX !== i.touchObject.curX && (i.slideHandler(i.currentSlide), i.touchObject = {})
            }, e.prototype.swipeHandler = function(t) {
                var e = this;
                if (!(!1 === e.options.swipe || "ontouchend" in document && !1 === e.options.swipe || !1 === e.options.draggable && -1 !== t.type.indexOf("mouse"))) switch (e.touchObject.fingerCount = t.originalEvent && void 0 !== t.originalEvent.touches ? t.originalEvent.touches.length : 1, e.touchObject.minSwipe = e.listWidth / e.options.touchThreshold, !0 === e.options.verticalSwiping && (e.touchObject.minSwipe = e.listHeight / e.options.touchThreshold), t.data.action) {
                    case "start":
                        e.swipeStart(t);
                        break;
                    case "move":
                        e.swipeMove(t);
                        break;
                    case "end":
                        e.swipeEnd(t)
                }
            }, e.prototype.swipeMove = function(t) {
                var e, i, n, r, o, s = this;
                return o = void 0 !== t.originalEvent ? t.originalEvent.touches : null, !(!s.dragging || o && 1 !== o.length) && (e = s.getLeft(s.currentSlide), s.touchObject.curX = void 0 !== o ? o[0].pageX : t.clientX, s.touchObject.curY = void 0 !== o ? o[0].pageY : t.clientY, s.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(s.touchObject.curX - s.touchObject.startX, 2))), !0 === s.options.verticalSwiping && (s.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(s.touchObject.curY - s.touchObject.startY, 2)))), "vertical" !== (i = s.swipeDirection()) ? (void 0 !== t.originalEvent && s.touchObject.swipeLength > 4 && t.preventDefault(), r = (!1 === s.options.rtl ? 1 : -1) * (s.touchObject.curX > s.touchObject.startX ? 1 : -1), !0 === s.options.verticalSwiping && (r = s.touchObject.curY > s.touchObject.startY ? 1 : -1), n = s.touchObject.swipeLength, s.touchObject.edgeHit = !1, !1 === s.options.infinite && (0 === s.currentSlide && "right" === i || s.currentSlide >= s.getDotCount() && "left" === i) && (n = s.touchObject.swipeLength * s.options.edgeFriction, s.touchObject.edgeHit = !0), !1 === s.options.vertical ? s.swipeLeft = e + n * r : s.swipeLeft = e + n * (s.$list.height() / s.listWidth) * r, !0 === s.options.verticalSwiping && (s.swipeLeft = e + n * r), !0 !== s.options.fade && !1 !== s.options.touchMove && (!0 === s.animating ? (s.swipeLeft = null, !1) : void s.setCSS(s.swipeLeft))) : void 0)
            }, e.prototype.swipeStart = function(t) {
                var e, i = this;
                if (1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow) return i.touchObject = {}, !1;
                void 0 !== t.originalEvent && void 0 !== t.originalEvent.touches && (e = t.originalEvent.touches[0]), i.touchObject.startX = i.touchObject.curX = void 0 !== e ? e.pageX : t.clientX, i.touchObject.startY = i.touchObject.curY = void 0 !== e ? e.pageY : t.clientY, i.dragging = !0
            }, e.prototype.unfilterSlides = e.prototype.slickUnfilter = function() {
                var t = this;
                null !== t.$slidesCache && (t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.appendTo(t.$slideTrack), t.reinit())
            }, e.prototype.unload = function() {
                var e = this;
                t(".slick-cloned", e.$slider).remove(), e.$dots && e.$dots.remove(), e.$prevArrow && e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.remove(), e.$nextArrow && e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.remove(), e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "")
            }, e.prototype.unslick = function(t) {
                var e = this;
                e.$slider.trigger("unslick", [e, t]), e.destroy()
            }, e.prototype.updateArrows = function() {
                var t = this;
                Math.floor(t.options.slidesToShow / 2), !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && !t.options.infinite && (t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === t.currentSlide ? (t.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : t.currentSlide >= t.slideCount - t.options.slidesToShow && !1 === t.options.centerMode ? (t.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : t.currentSlide >= t.slideCount - 1 && !0 === t.options.centerMode && (t.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
            }, e.prototype.updateDots = function() {
                var t = this;
                null !== t.$dots && (t.$dots.find("li").removeClass("slick-active").attr("aria-hidden", "true"), t.$dots.find("li").eq(Math.floor(t.currentSlide / t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden", "false"))
            }, e.prototype.visibility = function() {
                var t = this;
                document[t.hidden] ? (t.paused = !0, t.autoPlayClear()) : !0 === t.options.autoplay && (t.paused = !1, t.autoPlay())
            }, e.prototype.initADA = function() {
                var e = this;
                e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({
                    "aria-hidden": "true",
                    tabindex: "-1"
                }).find("a, input, button, select").attr({
                    tabindex: "-1"
                }), e.$slideTrack.attr("role", "listbox"), e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(i) {
                    t(this).attr({
                        role: "option",
                        "aria-describedby": "slick-slide" + e.instanceUid + i
                    })
                }), null !== e.$dots && e.$dots.attr("role", "tablist").find("li").each(function(i) {
                    t(this).attr({
                        role: "presentation",
                        "aria-selected": "false",
                        "aria-controls": "navigation" + e.instanceUid + i,
                        id: "slick-slide" + e.instanceUid + i
                    })
                }).first().attr("aria-selected", "true").end().find("button").attr("role", "button").end().closest("div").attr("role", "toolbar"), e.activateADA()
            }, e.prototype.activateADA = function() {
                this.$slideTrack.find(".slick-active").attr({
                    "aria-hidden": "false"
                }).find("a, input, button, select").attr({
                    tabindex: "0"
                })
            }, e.prototype.focusHandler = function() {
                var e = this;
                e.$slider.on("focus.slick blur.slick", "*", function(i) {
                    i.stopImmediatePropagation();
                    var n = t(this);
                    setTimeout(function() {
                        e.isPlay && (n.is(":focus") ? (e.autoPlayClear(), e.paused = !0) : (e.paused = !1, e.autoPlay()))
                    }, 0)
                })
            }, t.fn.slick = function() {
                var t, i, n = this,
                    o = arguments[0],
                    s = Array.prototype.slice.call(arguments, 1),
                    a = n.length;
                for (t = 0; t < a; t++)
                    if ("object" == (void 0 === o ? "undefined" : r()(o)) || void 0 === o ? n[t].slick = new e(n[t], o) : i = n[t].slick[o].apply(n[t].slick, s), void 0 !== i) return i;
                return n
            }
        }, "function" == typeof define && i(184) ? define(["jquery"], e) : "undefined" != typeof exports ? t.exports = e(i(9)) : e(jQuery)
    }).call(e, i(101)(t))
}, function(t, e, i) {
    t.exports = {
        default: i(161),
        __esModule: !0
    }
}, function(t, e, i) {
    i(162), i(171), t.exports = i(78).f("iterator")
}, function(t, e, i) {
    "use strict";
    var n = i(163)(!0);
    i(102)(String, "String", function(t) {
        this._t = String(t), this._i = 0
    }, function() {
        var t, e = this._t,
            i = this._i;
        return i >= e.length ? {
            value: void 0,
            done: !0
        } : (t = n(e, i), this._i += t.length, {
            value: t,
            done: !1
        })
    })
}, function(t, e, i) {
    var n = i(68),
        r = i(69);
    t.exports = function(t) {
        return function(e, i) {
            var o, s, a = String(r(e)),
                c = n(i),
                l = a.length;
            return c < 0 || c >= l ? t ? "" : void 0 : (o = a.charCodeAt(c)) < 55296 || o > 56319 || c + 1 === l || (s = a.charCodeAt(c + 1)) < 56320 || s > 57343 ? t ? a.charAt(c) : o : t ? a.slice(c, c + 2) : s - 56320 + (o - 55296 << 10) + 65536
        }
    }
}, function(t, e) {
    t.exports = function(t) {
        if ("function" != typeof t) throw TypeError(t + " is not a function!");
        return t
    }
}, function(t, e, i) {
    "use strict";
    var n = i(72),
        r = i(53),
        o = i(76),
        s = {};
    i(33)(s, i(36)("iterator"), function() {
        return this
    }), t.exports = function(t, e, i) {
        t.prototype = n(s, {
            next: r(1, i)
        }), o(t, e + " Iterator")
    }
}, function(t, e, i) {
    var n = i(26),
        r = i(42),
        o = i(54);
    t.exports = i(27) ? Object.defineProperties : function(t, e) {
        r(t);
        for (var i, s = o(e), a = s.length, c = 0; a > c;) n.f(t, i = s[c++], e[i]);
        return t
    }
}, function(t, e, i) {
    var n = i(29),
        r = i(168),
        o = i(169);
    t.exports = function(t) {
        return function(e, i, s) {
            var a, c = n(e),
                l = r(c.length),
                u = o(s, l);
            if (t && i != i) {
                for (; l > u;)
                    if ((a = c[u++]) != a) return !0
            } else
                for (; l > u; u++)
                    if ((t || u in c) && c[u] === i) return t || u || 0; return !t && -1
        }
    }
}, function(t, e, i) {
    var n = i(68),
        r = Math.min;
    t.exports = function(t) {
        return t > 0 ? r(n(t), 9007199254740991) : 0
    }
}, function(t, e, i) {
    var n = i(68),
        r = Math.max,
        o = Math.min;
    t.exports = function(t, e) {
        return (t = n(t)) < 0 ? r(t + e, 0) : o(t, e)
    }
}, function(t, e, i) {
    var n = i(21).document;
    t.exports = n && n.documentElement
}, function(t, e, i) {
    i(172);
    for (var n = i(21), r = i(33), o = i(71), s = i(36)("toStringTag"), a = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), c = 0; c < a.length; c++) {
        var l = a[c],
            u = n[l],
            h = u && u.prototype;
        h && !h[s] && r(h, s, l), o[l] = o.Array
    }
}, function(t, e, i) {
    "use strict";
    var n = i(173),
        r = i(174),
        o = i(71),
        s = i(29);
    t.exports = i(102)(Array, "Array", function(t, e) {
        this._t = s(t), this._i = 0, this._k = e
    }, function() {
        var t = this._t,
            e = this._k,
            i = this._i++;
        return !t || i >= t.length ? (this._t = void 0, r(1)) : r(0, "keys" == e ? i : "values" == e ? t[i] : [i, t[i]])
    }, "values"), o.Arguments = o.Array, n("keys"), n("values"), n("entries")
}, function(t, e) {
    t.exports = function() {}
}, function(t, e) {
    t.exports = function(t, e) {
        return {
            value: e,
            done: !!t
        }
    }
}, function(t, e, i) {
    i(176), i(181), i(182), i(183), t.exports = i(17).Symbol
}, function(t, e, i) {
    "use strict";
    var n = i(21),
        r = i(28),
        o = i(27),
        s = i(25),
        a = i(106),
        c = i(177).KEY,
        l = i(35),
        u = i(74),
        h = i(76),
        p = i(55),
        d = i(36),
        f = i(78),
        m = i(79),
        v = i(178),
        g = i(179),
        y = i(42),
        _ = i(34),
        b = i(29),
        x = i(70),
        w = i(53),
        S = i(72),
        M = i(180),
        T = i(81),
        A = i(26),
        C = i(54),
        E = T.f,
        O = A.f,
        P = M.f,
        k = n.Symbol,
        L = n.JSON,
        I = L && L.stringify,
        R = d("_hidden"),
        D = d("toPrimitive"),
        N = {}.propertyIsEnumerable,
        z = u("symbol-registry"),
        F = u("symbols"),
        B = u("op-symbols"),
        j = Object.prototype,
        U = "function" == typeof k,
        V = n.QObject,
        G = !V || !V.prototype || !V.prototype.findChild,
        W = o && l(function() {
            return 7 != S(O({}, "a", {
                get: function() {
                    return O(this, "a", {
                        value: 7
                    }).a
                }
            })).a
        }) ? function(t, e, i) {
            var n = E(j, e);
            n && delete j[e], O(t, e, i), n && t !== j && O(j, e, n)
        } : O,
        H = function(t) {
            var e = F[t] = S(k.prototype);
            return e._k = t, e
        },
        $ = U && "symbol" == typeof k.iterator ? function(t) {
            return "symbol" == typeof t
        } : function(t) {
            return t instanceof k
        },
        X = function(t, e, i) {
            return t === j && X(B, e, i), y(t), e = x(e, !0), y(i), r(F, e) ? (i.enumerable ? (r(t, R) && t[R][e] && (t[R][e] = !1), i = S(i, {
                enumerable: w(0, !1)
            })) : (r(t, R) || O(t, R, w(1, {})), t[R][e] = !0), W(t, e, i)) : O(t, e, i)
        },
        q = function(t, e) {
            y(t);
            for (var i, n = v(e = b(e)), r = 0, o = n.length; o > r;) X(t, i = n[r++], e[i]);
            return t
        },
        Y = function(t) {
            var e = N.call(this, t = x(t, !0));
            return !(this === j && r(F, t) && !r(B, t)) && (!(e || !r(this, t) || !r(F, t) || r(this, R) && this[R][t]) || e)
        },
        Z = function(t, e) {
            if (t = b(t), e = x(e, !0), t !== j || !r(F, e) || r(B, e)) {
                var i = E(t, e);
                return !i || !r(F, e) || r(t, R) && t[R][e] || (i.enumerable = !0), i
            }
        },
        J = function(t) {
            for (var e, i = P(b(t)), n = [], o = 0; i.length > o;) r(F, e = i[o++]) || e == R || e == c || n.push(e);
            return n
        },
        Q = function(t) {
            for (var e, i = t === j, n = P(i ? B : b(t)), o = [], s = 0; n.length > s;) !r(F, e = n[s++]) || i && !r(j, e) || o.push(F[e]);
            return o
        };
    U || (a((k = function() {
        if (this instanceof k) throw TypeError("Symbol is not a constructor!");
        var t = p(arguments.length > 0 ? arguments[0] : void 0),
            e = function(i) {
                this === j && e.call(B, i), r(this, R) && r(this[R], t) && (this[R][t] = !1), W(this, t, w(1, i))
            };
        return o && G && W(j, t, {
            configurable: !0,
            set: e
        }), H(t)
    }).prototype, "toString", function() {
        return this._k
    }), T.f = Z, A.f = X, i(112).f = M.f = J, i(56).f = Y, i(80).f = Q, o && !i(52) && a(j, "propertyIsEnumerable", Y, !0), f.f = function(t) {
        return H(d(t))
    }), s(s.G + s.W + s.F * !U, {
        Symbol: k
    });
    for (var K = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), tt = 0; K.length > tt;) d(K[tt++]);
    for (var et = C(d.store), it = 0; et.length > it;) m(et[it++]);
    s(s.S + s.F * !U, "Symbol", {
        for: function(t) {
            return r(z, t += "") ? z[t] : z[t] = k(t)
        },
        keyFor: function(t) {
            if (!$(t)) throw TypeError(t + " is not a symbol!");
            for (var e in z)
                if (z[e] === t) return e
        },
        useSetter: function() {
            G = !0
        },
        useSimple: function() {
            G = !1
        }
    }), s(s.S + s.F * !U, "Object", {
        create: function(t, e) {
            return void 0 === e ? S(t) : q(S(t), e)
        },
        defineProperty: X,
        defineProperties: q,
        getOwnPropertyDescriptor: Z,
        getOwnPropertyNames: J,
        getOwnPropertySymbols: Q
    }), L && s(s.S + s.F * (!U || l(function() {
        var t = k();
        return "[null]" != I([t]) || "{}" != I({
            a: t
        }) || "{}" != I(Object(t))
    })), "JSON", {
        stringify: function(t) {
            for (var e, i, n = [t], r = 1; arguments.length > r;) n.push(arguments[r++]);
            if (i = e = n[1], (_(e) || void 0 !== t) && !$(t)) return g(e) || (e = function(t, e) {
                if ("function" == typeof i && (e = i.call(this, t, e)), !$(e)) return e
            }), n[1] = e, I.apply(L, n)
        }
    }), k.prototype[D] || i(33)(k.prototype, D, k.prototype.valueOf), h(k, "Symbol"), h(Math, "Math", !0), h(n.JSON, "JSON", !0)
}, function(t, e, i) {
    var n = i(55)("meta"),
        r = i(34),
        o = i(28),
        s = i(26).f,
        a = 0,
        c = Object.isExtensible || function() {
            return !0
        },
        l = !i(35)(function() {
            return c(Object.preventExtensions({}))
        }),
        u = function(t) {
            s(t, n, {
                value: {
                    i: "O" + ++a,
                    w: {}
                }
            })
        },
        h = t.exports = {
            KEY: n,
            NEED: !1,
            fastKey: function(t, e) {
                if (!r(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
                if (!o(t, n)) {
                    if (!c(t)) return "F";
                    if (!e) return "E";
                    u(t)
                }
                return t[n].i
            },
            getWeak: function(t, e) {
                if (!o(t, n)) {
                    if (!c(t)) return !0;
                    if (!e) return !1;
                    u(t)
                }
                return t[n].w
            },
            onFreeze: function(t) {
                return l && h.NEED && c(t) && !o(t, n) && u(t), t
            }
        }
}, function(t, e, i) {
    var n = i(54),
        r = i(80),
        o = i(56);
    t.exports = function(t) {
        var e = n(t),
            i = r.f;
        if (i)
            for (var s, a = i(t), c = o.f, l = 0; a.length > l;) c.call(t, s = a[l++]) && e.push(s);
        return e
    }
}, function(t, e, i) {
    var n = i(109);
    t.exports = Array.isArray || function(t) {
        return "Array" == n(t)
    }
}, function(t, e, i) {
    var n = i(29),
        r = i(112).f,
        o = {}.toString,
        s = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
    t.exports.f = function(t) {
        return s && "[object Window]" == o.call(t) ? function(t) {
            try {
                return r(t)
            } catch (t) {
                return s.slice()
            }
        }(t) : r(n(t))
    }
}, function(t, e) {}, function(t, e, i) {
    i(79)("asyncIterator")
}, function(t, e, i) {
    i(79)("observable")
}, function(t, e) {
    (function(e) {
        t.exports = e
    }).call(e, {})
}, function(t, e) {
    var i;
    i = function() {
        return this
    }();
    try {
        i = i || Function("return this")() || (0, eval)("this")
    } catch (t) {
        "object" == typeof window && (i = window)
    }
    t.exports = i
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(18);
    n.e._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function() {
        var t = function(t) {
                var e, i = [],
                    n = t.length;
                for (e = 0; e !== n; i.push(t[e++]));
                return i
            },
            e = function(t, e, i) {
                var n, r, o = t.cycle;
                for (n in o) r = o[n], t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
                delete t.cycle
            },
            i = function(t, e, r) {
                n.f.call(this, t, e, r), this._cycle = 0, this._yoyo = !0 === this.vars.yoyo || !!this.vars.yoyoEase, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._repeat && this._uncache(!0), this.render = i.prototype.render
            },
            r = n.f._internals,
            o = r.isSelector,
            s = r.isArray,
            a = i.prototype = n.f.to({}, .1, {}),
            c = [];
        i.version = "2.0.2", a.constructor = i, a.kill()._gc = !1, i.killTweensOf = i.killDelayedCallsTo = n.f.killTweensOf, i.getTweensOf = n.f.getTweensOf, i.lagSmoothing = n.f.lagSmoothing, i.ticker = n.f.ticker, i.render = n.f.render, a.invalidate = function() {
            return this._yoyo = !0 === this.vars.yoyo || !!this.vars.yoyoEase, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._yoyoEase = null, this._uncache(!0), n.f.prototype.invalidate.call(this)
        }, a.updateTo = function(t, e) {
            var i, r = this.ratio,
                o = this.vars.immediateRender || t.immediateRender;
            for (i in e && this._startTime < this._timeline._time && (this._startTime = this._timeline._time, this._uncache(!1), this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay)), t) this.vars[i] = t[i];
            if (this._initted || o)
                if (e) this._initted = !1, o && this.render(0, !0, !0);
                else if (this._gc && this._enabled(!0, !1), this._notifyPluginsOfEnabled && this._firstPT && n.f._onPluginEvent("_onDisable", this), this._time / this._duration > .998) {
                var s = this._totalTime;
                this.render(0, !0, !1), this._initted = !1, this.render(s, !0, !1)
            } else if (this._initted = !1, this._init(), this._time > 0 || o)
                for (var a, c = 1 / (1 - r), l = this._firstPT; l;) a = l.s + l.c, l.c *= c, l.s = a - l.c, l = l._next;
            return this
        }, a.render = function(t, e, i) {
            this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
            var o, s, a, c, l, u, h, p, d, f = this._dirty ? this.totalDuration() : this._totalDuration,
                m = this._time,
                v = this._totalTime,
                g = this._cycle,
                y = this._duration,
                _ = this._rawPrevTime;
            if (t >= f - 1e-7 && t >= 0 ? (this._totalTime = f, this._cycle = this._repeat, this._yoyo && 0 != (1 & this._cycle) ? (this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = y, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1), this._reversed || (o = !0, s = "onComplete", i = i || this._timeline.autoRemoveChildren), 0 === y && (this._initted || !this.vars.lazy || i) && (this._startTime === this._timeline._duration && (t = 0), (_ < 0 || t <= 0 && t >= -1e-7 || 1e-10 === _ && "isPause" !== this.data) && _ !== t && (i = !0, _ > 1e-10 && (s = "onReverseComplete")), this._rawPrevTime = p = !e || t || _ === t ? t : 1e-10)) : t < 1e-7 ? (this._totalTime = this._time = this._cycle = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== v || 0 === y && _ > 0) && (s = "onReverseComplete", o = this._reversed), t < 0 && (this._active = !1, 0 === y && (this._initted || !this.vars.lazy || i) && (_ >= 0 && (i = !0), this._rawPrevTime = p = !e || t || _ === t ? t : 1e-10)), this._initted || (i = !0)) : (this._totalTime = this._time = t, 0 !== this._repeat && (c = y + this._repeatDelay, this._cycle = this._totalTime / c >> 0, 0 !== this._cycle && this._cycle === this._totalTime / c && v <= t && this._cycle--, this._time = this._totalTime - this._cycle * c, this._yoyo && 0 != (1 & this._cycle) && (this._time = y - this._time, (d = this._yoyoEase || this.vars.yoyoEase) && (this._yoyoEase || (!0 !== d || this._initted ? this._yoyoEase = d = !0 === d ? this._ease : d instanceof n.b ? d : n.b.map[d] : (d = this.vars.ease, this._yoyoEase = d = d ? d instanceof n.b ? d : "function" == typeof d ? new n.b(d, this.vars.easeParams) : n.b.map[d] || n.f.defaultEase : n.f.defaultEase)), this.ratio = d ? 1 - d.getRatio((y - this._time) / y) : 0)), this._time > y ? this._time = y : this._time < 0 && (this._time = 0)), this._easeType && !d ? (l = this._time / y, u = this._easeType, h = this._easePower, (1 === u || 3 === u && l >= .5) && (l = 1 - l), 3 === u && (l *= 2), 1 === h ? l *= l : 2 === h ? l *= l * l : 3 === h ? l *= l * l * l : 4 === h && (l *= l * l * l * l), 1 === u ? this.ratio = 1 - l : 2 === u ? this.ratio = l : this._time / y < .5 ? this.ratio = l / 2 : this.ratio = 1 - l / 2) : d || (this.ratio = this._ease.getRatio(this._time / y))), m !== this._time || i || g !== this._cycle) {
                if (!this._initted) {
                    if (this._init(), !this._initted || this._gc) return;
                    if (!i && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration)) return this._time = m, this._totalTime = v, this._rawPrevTime = _, this._cycle = g, r.lazyTweens.push(this), void(this._lazy = [t, e]);
                    !this._time || o || d ? o && this._ease._calcEnd && !d && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1)) : this.ratio = this._ease.getRatio(this._time / y)
                }
                for (!1 !== this._lazy && (this._lazy = !1), this._active || !this._paused && this._time !== m && t >= 0 && (this._active = !0), 0 === v && (2 === this._initted && t > 0 && this._init(), this._startAt && (t >= 0 ? this._startAt.render(t, !0, i) : s || (s = "_dummyGS")), this.vars.onStart && (0 === this._totalTime && 0 !== y || e || this._callback("onStart"))), a = this._firstPT; a;) a.f ? a.t[a.p](a.c * this.ratio + a.s) : a.t[a.p] = a.c * this.ratio + a.s, a = a._next;
                this._onUpdate && (t < 0 && this._startAt && this._startTime && this._startAt.render(t, !0, i), e || (this._totalTime !== v || s) && this._callback("onUpdate")), this._cycle !== g && (e || this._gc || this.vars.onRepeat && this._callback("onRepeat")), s && (this._gc && !i || (t < 0 && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(t, !0, i), o && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[s] && this._callback(s), 0 === y && 1e-10 === this._rawPrevTime && 1e-10 !== p && (this._rawPrevTime = 0)))
            } else v !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate"))
        }, i.to = function(t, e, n) {
            return new i(t, e, n)
        }, i.from = function(t, e, n) {
            return n.runBackwards = !0, n.immediateRender = 0 != n.immediateRender, new i(t, e, n)
        }, i.fromTo = function(t, e, n, r) {
            return r.startAt = n, r.immediateRender = 0 != r.immediateRender && 0 != n.immediateRender, new i(t, e, r)
        }, i.staggerTo = i.allTo = function(r, a, l, u, h, p, d) {
            u = u || 0;
            var f, m, v, g, y = 0,
                _ = [],
                b = function() {
                    l.onComplete && l.onComplete.apply(l.onCompleteScope || this, arguments), h.apply(d || l.callbackScope || this, p || c)
                },
                x = l.cycle,
                w = l.startAt && l.startAt.cycle;
            for (s(r) || ("string" == typeof r && (r = n.f.selector(r) || r), o(r) && (r = t(r))), r = r || [], u < 0 && ((r = t(r)).reverse(), u *= -1), f = r.length - 1, v = 0; v <= f; v++) {
                for (g in m = {}, l) m[g] = l[g];
                if (x && (e(m, r, v), null != m.duration && (a = m.duration, delete m.duration)), w) {
                    for (g in w = m.startAt = {}, l.startAt) w[g] = l.startAt[g];
                    e(m.startAt, r, v)
                }
                m.delay = y + (m.delay || 0), v === f && h && (m.onComplete = b), _[v] = new i(r[v], a, m), y += u
            }
            return _
        }, i.staggerFrom = i.allFrom = function(t, e, n, r, o, s, a) {
            return n.runBackwards = !0, n.immediateRender = 0 != n.immediateRender, i.staggerTo(t, e, n, r, o, s, a)
        }, i.staggerFromTo = i.allFromTo = function(t, e, n, r, o, s, a, c) {
            return r.startAt = n, r.immediateRender = 0 != r.immediateRender && 0 != n.immediateRender, i.staggerTo(t, e, r, o, s, a, c)
        }, i.delayedCall = function(t, e, n, r, o) {
            return new i(e, 0, {
                delay: t,
                onComplete: e,
                onCompleteParams: n,
                callbackScope: r,
                onReverseComplete: e,
                onReverseCompleteParams: n,
                immediateRender: !1,
                useFrames: o,
                overwrite: 0
            })
        }, i.set = function(t, e) {
            return new i(t, 0, e)
        }, i.isTweening = function(t) {
            return n.f.getTweensOf(t, !0).length > 0
        };
        var l = function(t, e) {
                for (var i = [], r = 0, o = t._first; o;) o instanceof n.f ? i[r++] = o : (e && (i[r++] = o), r = (i = i.concat(l(o, e))).length), o = o._next;
                return i
            },
            u = i.getAllTweens = function(t) {
                return l(n.a._rootTimeline, t).concat(l(n.a._rootFramesTimeline, t))
            };
        i.killAll = function(t, e, i, r) {
            null == e && (e = !0), null == i && (i = !0);
            var o, s, a, c = u(0 != r),
                l = c.length,
                h = e && i && r;
            for (a = 0; a < l; a++) s = c[a], (h || s instanceof n.c || (o = s.target === s.vars.onComplete) && i || e && !o) && (t ? s.totalTime(s._reversed ? 0 : s.totalDuration()) : s._enabled(!1, !1))
        }, i.killChildTweensOf = function(e, a) {
            if (null != e) {
                var c, l, u, h, p, d = r.tweenLookup;
                if ("string" == typeof e && (e = n.f.selector(e) || e), o(e) && (e = t(e)), s(e))
                    for (h = e.length; --h > -1;) i.killChildTweensOf(e[h], a);
                else {
                    for (u in c = [], d)
                        for (l = d[u].target.parentNode; l;) l === e && (c = c.concat(d[u].tweens)), l = l.parentNode;
                    for (p = c.length, h = 0; h < p; h++) a && c[h].totalTime(c[h].totalDuration()), c[h]._enabled(!1, !1)
                }
            }
        };
        var h = function(t, e, i, r) {
            e = !1 !== e, i = !1 !== i;
            for (var o, s, a = u(r = !1 !== r), c = e && i && r, l = a.length; --l > -1;) s = a[l], (c || s instanceof n.c || (o = s.target === s.vars.onComplete) && i || e && !o) && s.paused(t)
        };
        return i.pauseAll = function(t, e, i) {
            h(!0, t, e, i)
        }, i.resumeAll = function(t, e, i) {
            h(!1, t, e, i)
        }, i.globalTimeScale = function(t) {
            var e = n.a._rootTimeline,
                i = n.f.ticker.time;
            return arguments.length ? (t = t || 1e-10, e._startTime = i - (i - e._startTime) * e._timeScale / t, e = n.a._rootFramesTimeline, i = n.f.ticker.frame, e._startTime = i - (i - e._startTime) * e._timeScale / t, e._timeScale = n.a._rootTimeline._timeScale = t, t) : e._timeScale
        }, a.progress = function(t, e) {
            return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration()
        }, a.totalProgress = function(t, e) {
            return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration()
        }, a.time = function(t, e) {
            return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
        }, a.duration = function(t) {
            return arguments.length ? n.a.prototype.duration.call(this, t) : this._duration
        }, a.totalDuration = function(t) {
            return arguments.length ? -1 === this._repeat ? this : this.duration((t - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat, this._dirty = !1), this._totalDuration)
        }, a.repeat = function(t) {
            return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
        }, a.repeatDelay = function(t) {
            return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
        }, a.yoyo = function(t) {
            return arguments.length ? (this._yoyo = t, this) : this._yoyo
        }, i
    }, !0);
    var r = n.g.TweenMax
}, function(t, e, i) {
    t.exports = {
        default: i(188),
        __esModule: !0
    }
}, function(t, e, i) {
    i(189);
    var n = i(17).Object;
    t.exports = function(t, e, i) {
        return n.defineProperty(t, e, i)
    }
}, function(t, e, i) {
    var n = i(25);
    n(n.S + n.F * !i(27), "Object", {
        defineProperty: i(26).f
    })
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return f
    });
    var n = i(6),
        r = i.n(n),
        o = i(7),
        s = i.n(o),
        a = i(9),
        c = i.n(a),
        l = i(122),
        u = i(220),
        h = i(83),
        p = i(303),
        d = i(13),
        f = function() {
            function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                r()(this, t);
                var i = this;
                i.option = c.a.extend({
                    emitter: null,
                    pages: [],
                    d1: 0
                }, e), i.model = h.a.getInstance(), i.emitter = i.option.emitter, i.$window = c()(window), i.$body = c()("body"), i.pages = i.option.pages || [], i.curPage = i.getPage(i.option.d1), i.wheel$ = Object(l.fromEvent)(document.body, "mousewheel"), i.subscribeWheel = null, i.fullscreenSequence = null, i.isEnable = !1
            }
            return s()(t, [{
                key: "setEnable",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this.isEnable = t, this
                }
            }, {
                key: "init",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    var t = this;
                    return t.subscribeWheel = t.wheel$.pipe(Object(u.a)(function(e) {
                        Object(d.c)(t.model.isEnableMouseWheel) && e.preventDefault()
                    }), Object(u.b)(500)).subscribe(function(e) {
                        Object(d.c)(t.model.isEnableMouseWheel) ? e.preventDefault() : Object(d.w)(t.isEnable) && (e.wheelDelta < 0 ? t.mouseWheelDown(e) : t.mouseWheelUp(e))
                    }), t.fullscreenSequence = new p.a({
                        $wrap: c()(".wrap-canvas"),
                        spriteObj: {
                            img: c()(".sprite-img").get(0),
                            width: 600,
                            height: 344,
                            frameNum: 22,
                            fps: 20,
                            isLoop: !1
                        },
                        emitter: t.emitter
                    }).init(), t
                }
            }, {
                key: "mouseWheelDown",
                value: function(t) {
                    var e = this,
                        i = e.model.pageIndexObj.d1,
                        n = e.getPage(i),
                        r = e.getPage(i + 1);
                    n.getHeight() <= window.innerHeight + e.$window.scrollTop() && r && (t.preventDefault(), e.switchPage(i + 1, !0))
                }
            }, {
                key: "mouseWheelUp",
                value: function(t) {
                    var e = this,
                        i = e.model.pageIndexObj.d1,
                        n = e.getPage(i - 1);
                    e.$window.scrollTop() <= 0 && n && (t.preventDefault(), e.switchPage(i - 1, !0))
                }
            }, {
                key: "switchPage",
                value: function(t) {
                    test(t)
                    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        i = this;
                    return i.getPage(t) && (i.model.isEnableMouseWheel = !1, i.emitter.emit("SWITCH", {
                        d1: t
                    }), i.pages.map(function(t) {
                        return t.exit().hide()
                    }), i.curPage = i.getPage(t), i.curPage.show().enter(), Object(d.w)(e) && i.fullscreenSequence.restart()), i
                }
            }, {
                key: "showAllPages",
                value: function() {
                    return this.pages.map(function(t) {
                        return t.show()
                    }), this
                }
            }, {
                key: "getPage",
                value: function(t) {
                    var e = this.pages[t - 1];
                    return Object(d.l)(e) ? e : null
                }
            }, {
                key: "destroy",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    var t = this;
                    return t.subscribeWheel.unsubscribe(), t.subscribeWheel = null, t
                }
            }]), t
        }()
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e, i) {
        if (t) {
            if (t instanceof n.a) return t;
            if (t[r.a]) return t[r.a]()
        }
        if (!t && !e && !i) return new n.a(o.a);
        return new n.a(t, e, i)
    };
    var n = i(1),
        r = i(85),
        o = i(123)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e(e, i) {
                var n = t.call(this, e, i) || this;
                return n.scheduler = e, n.work = i, n
            }
            return n.a(e, t), e.prototype.schedule = function(e, i) {
                return void 0 === i && (i = 0), i > 0 ? t.prototype.schedule.call(this, e, i) : (this.delay = i, this.state = e, this.scheduler.flush(this), this)
            }, e.prototype.execute = function(e, i) {
                return i > 0 || this.closed ? t.prototype.execute.call(this, e, i) : this._execute(e, i)
            }, e.prototype.requestAsyncId = function(e, i, n) {
                return void 0 === n && (n = 0), null !== n && n > 0 || null === n && this.delay > 0 ? t.prototype.requestAsyncId.call(this, e, i, n) : e.flush(this)
            }, e
        }(i(44).a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e(e, i) {
                return t.call(this) || this
            }
            return n.a(e, t), e.prototype.schedule = function(t, e) {
                return void 0 === e && (e = 0), this
            }, e
        }(i(5).a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return n.a(e, t), e
        }(i(45).a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return o
    });
    var n = i(0),
        r = i(196),
        o = function(t) {
            function e(e, i) {
                var n = t.call(this, e, i) || this;
                return n.scheduler = e, n.work = i, n
            }
            return n.a(e, t), e.prototype.requestAsyncId = function(e, i, n) {
                return void 0 === n && (n = 0), null !== n && n > 0 ? t.prototype.requestAsyncId.call(this, e, i, n) : (e.actions.push(this), e.scheduled || (e.scheduled = r.a.setImmediate(e.flush.bind(e, null))))
            }, e.prototype.recycleAsyncId = function(e, i, n) {
                if (void 0 === n && (n = 0), null !== n && n > 0 || null === n && this.delay > 0) return t.prototype.recycleAsyncId.call(this, e, i, n);
                0 === e.actions.length && (r.a.clearImmediate(i), e.scheduled = void 0)
            }, e
        }(i(44).a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return o
    });
    var n = 1,
        r = {};
    var o = {
        setImmediate: function(t) {
            var e = n++;
            return r[e] = t, Promise.resolve().then(function() {
                return function(t) {
                    var e = r[t];
                    e && e()
                }(e)
            }), e
        },
        clearImmediate: function(t) {
            delete r[t]
        }
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return n.a(e, t), e.prototype.flush = function(t) {
                this.active = !0, this.scheduled = void 0;
                var e, i = this.actions,
                    n = -1,
                    r = i.length;
                t = t || i.shift();
                do {
                    if (e = t.execute(t.state, t.delay)) break
                } while (++n < r && (t = i.shift()));
                if (this.active = !1, e) {
                    for (; ++n < r && (t = i.shift());) t.unsubscribe();
                    throw e
                }
            }, e
        }(i(45).a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(199),
        r = new(i(200).a)(n.a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e(e, i) {
                var n = t.call(this, e, i) || this;
                return n.scheduler = e, n.work = i, n
            }
            return n.a(e, t), e.prototype.requestAsyncId = function(e, i, n) {
                return void 0 === n && (n = 0), null !== n && n > 0 ? t.prototype.requestAsyncId.call(this, e, i, n) : (e.actions.push(this), e.scheduled || (e.scheduled = requestAnimationFrame(function() {
                    return e.flush(null)
                })))
            }, e.prototype.recycleAsyncId = function(e, i, n) {
                if (void 0 === n && (n = 0), null !== n && n > 0 || null === n && this.delay > 0) return t.prototype.recycleAsyncId.call(this, e, i, n);
                0 === e.actions.length && (cancelAnimationFrame(i), e.scheduled = void 0)
            }, e
        }(i(44).a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return r
    });
    var n = i(0),
        r = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return n.a(e, t), e.prototype.flush = function(t) {
                this.active = !0, this.scheduled = void 0;
                var e, i = this.actions,
                    n = -1,
                    r = i.length;
                t = t || i.shift();
                do {
                    if (e = t.execute(t.state, t.delay)) break
                } while (++n < r && (t = i.shift()));
                if (this.active = !1, e) {
                    for (; ++n < r && (t = i.shift());) t.unsubscribe();
                    throw e
                }
            }, e
        }(i(45).a)
}, function(t, e, i) {
    "use strict";
    i.d(e, "b", function() {
        return o
    }), i.d(e, "a", function() {
        return s
    });
    var n = i(0),
        r = i(44),
        o = function(t) {
            function e(e, i) {
                void 0 === e && (e = s), void 0 === i && (i = Number.POSITIVE_INFINITY);
                var n = t.call(this, e, function() {
                    return n.frame
                }) || this;
                return n.maxFrames = i, n.frame = 0, n.index = -1, n
            }
            return n.a(e, t), e.prototype.flush = function() {
                for (var t, e, i = this.actions, n = this.maxFrames;
                    (e = i.shift()) && (this.frame = e.delay) <= n && !(t = e.execute(e.state, e.delay)););
                if (t) {
                    for (; e = i.shift();) e.unsubscribe();
                    throw t
                }
            }, e.frameTimeFactor = 10, e
        }(i(45).a),
        s = function(t) {
            function e(e, i, n) {
                void 0 === n && (n = e.index += 1);
                var r = t.call(this, e, i) || this;
                return r.scheduler = e, r.work = i, r.index = n, r.active = !0, r.index = e.index = n, r
            }
            return n.a(e, t), e.prototype.schedule = function(i, n) {
                if (void 0 === n && (n = 0), !this.id) return t.prototype.schedule.call(this, i, n);
                this.active = !1;
                var r = new e(this.scheduler, this.work);
                return this.add(r), r.schedule(i, n)
            }, e.prototype.requestAsyncId = function(t, i, n) {
                void 0 === n && (n = 0), this.delay = t.frame + n;
                var r = t.actions;
                return r.push(this), r.sort(e.sortActions), !0
            }, e.prototype.recycleAsyncId = function(t, e, i) {
                void 0 === i && (i = 0)
            }, e.prototype._execute = function(e, i) {
                if (!0 === this.active) return t.prototype._execute.call(this, e, i)
            }, e.sortActions = function(t, e) {
                return t.delay === e.delay ? t.index === e.index ? 0 : t.index > e.index ? 1 : -1 : t.delay > e.delay ? 1 : -1
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return !!t && (t instanceof n.a || "function" == typeof t.lift && "function" == typeof t.subscribe)
    };
    var n = i(2)
}, function(t, e, i) {
    "use strict";
    e.a = function t(e, i, l) {
        if (i) {
            if (!Object(a.a)(i)) return function() {
                for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                return t(e, l).apply(void 0, n).pipe(Object(o.a)(function(t) {
                    return Object(s.a)(t) ? i.apply(void 0, t) : i(t)
                }))
            };
            l = i
        }
        return function() {
            for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
            var o, s = this,
                a = {
                    context: s,
                    subject: o,
                    callbackFunc: e,
                    scheduler: l
                };
            return new n.a(function(i) {
                if (l) {
                    var n = {
                        args: t,
                        subscriber: i,
                        params: a
                    };
                    return l.schedule(c, 0, n)
                }
                if (!o) {
                    o = new r.a;
                    try {
                        e.apply(s, t.concat([function() {
                            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                            o.next(t.length <= 1 ? t[0] : t), o.complete()
                        }]))
                    } catch (t) {
                        o.error(t)
                    }
                }
                return o.subscribe(i)
            })
        }
    };
    var n = i(2),
        r = i(62),
        o = i(16),
        s = i(10),
        a = i(15);

    function c(t) {
        var e = this,
            i = t.args,
            n = t.subscriber,
            o = t.params,
            s = o.callbackFunc,
            a = o.context,
            c = o.scheduler,
            u = o.subject;
        if (!u) {
            u = o.subject = new r.a;
            try {
                s.apply(a, i.concat([function() {
                    for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
                    var n = t.length <= 1 ? t[0] : t;
                    e.add(c.schedule(l, 0, {
                        value: n,
                        subject: u
                    }))
                }]))
            } catch (t) {
                u.error(t)
            }
        }
        this.add(u.subscribe(n))
    }

    function l(t) {
        var e = t.value,
            i = t.subject;
        i.next(e), i.complete()
    }
}, function(t, e, i) {
    "use strict";
    e.a = function t(e, i, l) {
        if (i) {
            if (!Object(s.a)(i)) return function() {
                for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                return t(e, l).apply(void 0, n).pipe(Object(o.a)(function(t) {
                    return Object(a.a)(t) ? i.apply(void 0, t) : i(t)
                }))
            };
            l = i
        }
        return function() {
            for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
            var o = {
                subject: void 0,
                args: t,
                callbackFunc: e,
                scheduler: l,
                context: this
            };
            return new n.a(function(i) {
                var n = o.context,
                    s = o.subject;
                if (l) return l.schedule(c, 0, {
                    params: o,
                    subscriber: i,
                    context: n
                });
                if (!s) {
                    s = o.subject = new r.a;
                    try {
                        e.apply(n, t.concat([function() {
                            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                            var i = t.shift();
                            if (i) return void s.error(i);
                            s.next(t.length <= 1 ? t[0] : t), s.complete()
                        }]))
                    } catch (t) {
                        s.error(t)
                    }
                }
                return s.subscribe(i)
            })
        }
    };
    var n = i(2),
        r = i(62),
        o = i(16),
        s = i(15),
        a = i(10);

    function c(t) {
        var e = this,
            i = t.params,
            n = t.subscriber,
            o = t.context,
            s = i.callbackFunc,
            a = i.args,
            c = i.scheduler,
            h = i.subject;
        if (!h) {
            h = i.subject = new r.a;
            try {
                s.apply(o, a.concat([function() {
                    for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
                    var n = t.shift();
                    if (n) e.add(c.schedule(u, 0, {
                        err: n,
                        subject: h
                    }));
                    else {
                        var r = t.length <= 1 ? t[0] : t;
                        e.add(c.schedule(l, 0, {
                            value: r,
                            subject: h
                        }))
                    }
                }]))
            } catch (t) {
                this.add(c.schedule(u, 0, {
                    err: t,
                    subject: h
                }))
            }
        }
        this.add(h.subscribe(n))
    }

    function l(t) {
        var e = t.value,
            i = t.subject;
        i.next(e), i.complete()
    }

    function u(t) {
        var e = t.err;
        t.subject.error(e)
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return t && "function" == typeof t[n.a]
    };
    var n = i(38)
}, function(t, e, i) {
    "use strict";
    e.a = function(t) {
        return t && "function" == typeof t[n.a]
    };
    var n = i(48)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return e ? new n.a(function(i) {
            var n = new r.a;
            return n.add(e.schedule(function() {
                return t.then(function(t) {
                    n.add(e.schedule(function() {
                        i.next(t), n.add(e.schedule(function() {
                            return i.complete()
                        }))
                    }))
                }, function(t) {
                    n.add(e.schedule(function() {
                        return i.error(t)
                    }))
                })
            })), n
        }) : new n.a(Object(o.a)(t))
    };
    var n = i(2),
        r = i(5),
        o = i(137)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        if (!t) throw new Error("Iterable cannot be null");
        return e ? new n.a(function(i) {
            var n, s = new r.a;
            return s.add(function() {
                n && "function" == typeof n.return && n.return()
            }), s.add(e.schedule(function() {
                n = t[o.a](), s.add(e.schedule(function() {
                    if (!i.closed) {
                        var t, e;
                        try {
                            var r = n.next();
                            t = r.value, e = r.done
                        } catch (t) {
                            return void i.error(t)
                        }
                        e ? i.complete() : (i.next(t), this.schedule())
                    }
                }))
            })), s
        }) : new n.a(Object(s.a)(t))
    };
    var n = i(2),
        r = i(5),
        o = i(48),
        s = i(138)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return e ? new n.a(function(i) {
            var n = new r.a;
            return n.add(e.schedule(function() {
                var r = t[o.a]();
                n.add(r.subscribe({
                    next: function(t) {
                        n.add(e.schedule(function() {
                            return i.next(t)
                        }))
                    },
                    error: function(t) {
                        n.add(e.schedule(function() {
                            return i.error(t)
                        }))
                    },
                    complete: function() {
                        n.add(e.schedule(function() {
                            return i.complete()
                        }))
                    }
                }))
            })), n
        }) : new n.a(Object(s.a)(t))
    };
    var n = i(2),
        r = i(5),
        o = i(38),
        s = i(139)
}, function(t, e, i) {
    "use strict";
    e.a = function t() {
        var e = [];
        for (var i = 0; i < arguments.length; i++) e[i] = arguments[i];
        var n;
        "function" == typeof e[e.length - 1] && (n = e.pop());
        1 === e.length && Object(o.a)(e[0]) && (e = e[0]);
        if (0 === e.length) return s.a;
        if (n) return t(e).pipe(Object(l.a)(function(t) {
            return n.apply(void 0, t)
        }));
        return new r.a(function(t) {
            return new u(t, e)
        })
    };
    var n = i(0),
        r = i(2),
        o = i(10),
        s = i(11),
        a = i(4),
        c = i(3),
        l = i(16);
    var u = function(t) {
        function e(e, i) {
            var n = t.call(this, e) || this;
            n.sources = i, n.completed = 0, n.haveValues = 0;
            var r = i.length;
            n.values = new Array(r);
            for (var o = 0; o < r; o++) {
                var s = i[o],
                    c = Object(a.a)(n, s, null, o);
                c && n.add(c)
            }
            return n
        }
        return n.a(e, t), e.prototype.notifyNext = function(t, e, i, n, r) {
            this.values[i] = e, r._hasValue || (r._hasValue = !0, this.haveValues++)
        }, e.prototype.notifyComplete = function(t) {
            var e = this.destination,
                i = this.haveValues,
                n = this.values,
                r = n.length;
            t._hasValue ? (this.completed++, this.completed === r && (i === r && e.next(n), e.complete())) : e.complete()
        }, e
    }(c.a)
}, function(t, e, i) {
    "use strict";
    e.a = function t(e, i, a, c) {
        Object(o.a)(a) && (c = a, a = void 0);
        if (c) return t(e, i, a).pipe(Object(s.a)(function(t) {
            return Object(r.a)(t) ? c.apply(void 0, t) : c(t)
        }));
        return new n.a(function(t) {
            ! function t(e, i, n, r, o) {
                var s;
                if (function(t) {
                        return t && "function" == typeof t.addEventListener && "function" == typeof t.removeEventListener
                    }(e)) {
                    var a = e;
                    e.addEventListener(i, n, o), s = function() {
                        return a.removeEventListener(i, n, o)
                    }
                } else if (function(t) {
                        return t && "function" == typeof t.on && "function" == typeof t.off
                    }(e)) {
                    var c = e;
                    e.on(i, n), s = function() {
                        return c.off(i, n)
                    }
                } else if (function(t) {
                        return t && "function" == typeof t.addListener && "function" == typeof t.removeListener
                    }(e)) {
                    var l = e;
                    e.addListener(i, n), s = function() {
                        return l.removeListener(i, n)
                    }
                } else {
                    if (!e || !e.length) throw new TypeError("Invalid event target");
                    for (var u = 0, h = e.length; u < h; u++) t(e[u], i, n, r, o)
                }
                r.add(s)
            }(e, i, function(e) {
                arguments.length > 1 ? t.next(Array.prototype.slice.call(arguments)) : t.next(e)
            }, t, a)
        })
    };
    var n = i(2),
        r = i(10),
        o = i(43),
        s = i(16);
    Object.prototype.toString
}, function(t, e, i) {
    "use strict";
    e.a = function t(e, i, a) {
        if (a) return t(e, i).pipe(Object(s.a)(function(t) {
            return Object(r.a)(t) ? a.apply(void 0, t) : a(t)
        }));
        return new n.a(function(t) {
            var n, r = function() {
                for (var e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
                return t.next(1 === e.length ? e[0] : e)
            };
            try {
                n = e(r)
            } catch (e) {
                return void t.error(e)
            }
            if (Object(o.a)(i)) return function() {
                return i(r, n)
            }
        })
    };
    var n = i(2),
        r = i(10),
        o = i(43),
        s = i(16)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e, i, a, c) {
        var l, u;
        if (1 == arguments.length) {
            var h = t;
            u = h.initialState, e = h.condition, i = h.iterate, l = h.resultSelector || r.a, c = h.scheduler
        } else void 0 === a || Object(o.a)(a) ? (u = t, l = r.a, c = a) : (u = t, l = a);
        return new n.a(function(t) {
            var n = u;
            if (c) return c.schedule(s, 0, {
                subscriber: t,
                iterate: i,
                condition: e,
                resultSelector: l,
                state: n
            });
            for (;;) {
                if (e) {
                    var r = void 0;
                    try {
                        r = e(n)
                    } catch (e) {
                        return void t.error(e)
                    }
                    if (!r) {
                        t.complete();
                        break
                    }
                }
                var o = void 0;
                try {
                    o = l(n)
                } catch (e) {
                    return void t.error(e)
                }
                if (t.next(o), t.closed) break;
                try {
                    n = i(n)
                } catch (e) {
                    return void t.error(e)
                }
            }
        })
    };
    var n = i(2),
        r = i(39),
        o = i(15);

    function s(t) {
        var e = t.subscriber,
            i = t.condition;
        if (!e.closed) {
            if (t.needIterate) try {
                t.state = t.iterate(t.state)
            } catch (t) {
                return void e.error(t)
            } else t.needIterate = !0;
            if (i) {
                var n = void 0;
                try {
                    n = i(t.state)
                } catch (t) {
                    return void e.error(t)
                }
                if (!n) return void e.complete();
                if (e.closed) return
            }
            var r;
            try {
                r = t.resultSelector(t.state)
            } catch (t) {
                return void e.error(t)
            }
            if (!e.closed && (e.next(r), !e.closed)) return this.schedule(t)
        }
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e, i) {
        void 0 === e && (e = r.a);
        void 0 === i && (i = r.a);
        return Object(n.a)(function() {
            return t() ? e : i
        })
    };
    var n = i(94),
        r = i(11)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        void 0 === t && (t = 0);
        void 0 === e && (e = r.a);
        (!Object(o.a)(t) || t < 0) && (t = 0);
        e && "function" == typeof e.schedule || (e = r.a);
        return new n.a(function(i) {
            return i.add(e.schedule(s, t, {
                subscriber: i,
                counter: 0,
                period: t
            })), i
        })
    };
    var n = i(2),
        r = i(12),
        o = i(64);

    function s(t) {
        var e = t.subscriber,
            i = t.counter,
            n = t.period;
        e.next(i), this.schedule({
            subscriber: e,
            counter: i + 1,
            period: n
        }, n)
    }
}, function(t, e, i) {
    "use strict";
    e.a = function t() {
        var e = [];
        for (var i = 0; i < arguments.length; i++) e[i] = arguments[i];
        if (0 === e.length) return s.a;
        var a = e[0],
            c = e.slice(1);
        if (1 === e.length && Object(o.a)(a)) return t.apply(void 0, a);
        return new n.a(function(e) {
            var i = function() {
                return e.add(t.apply(void 0, c).subscribe(e))
            };
            return Object(r.a)(a).subscribe({
                next: function(t) {
                    e.next(t)
                },
                error: i,
                complete: i
            })
        })
    };
    var n = i(2),
        r = i(20),
        o = i(10),
        s = i(11)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return e ? new n.a(function(i) {
            var n = Object.keys(t),
                s = new r.a;
            return s.add(e.schedule(o, 0, {
                keys: n,
                index: 0,
                subscriber: i,
                subscription: s,
                obj: t
            })), s
        }) : new n.a(function(e) {
            for (var i = Object.keys(t), n = 0; n < i.length && !e.closed; n++) {
                var r = i[n];
                t.hasOwnProperty(r) && e.next([r, t[r]])
            }
            e.complete()
        })
    };
    var n = i(2),
        r = i(5);

    function o(t) {
        var e = t.keys,
            i = t.index,
            n = t.subscriber,
            r = t.subscription,
            o = t.obj;
        if (!n.closed)
            if (i < e.length) {
                var s = e[i];
                n.next([s, o[s]]), r.add(this.schedule({
                    keys: e,
                    index: i + 1,
                    subscriber: n,
                    subscription: r,
                    obj: o
                }))
            } else n.complete()
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e, i) {
        void 0 === t && (t = 0);
        void 0 === e && (e = 0);
        return new n.a(function(n) {
            var o = 0,
                s = t;
            if (i) return i.schedule(r, 0, {
                index: o,
                count: e,
                start: t,
                subscriber: n
            });
            for (;;) {
                if (o++ >= e) {
                    n.complete();
                    break
                }
                if (n.next(s++), n.closed) break
            }
        })
    };
    var n = i(2);

    function r(t) {
        var e = t.start,
            i = t.index,
            n = t.count,
            r = t.subscriber;
        i >= n ? r.complete() : (r.next(e), r.closed || (t.index = i + 1, t.start = e + 1, this.schedule(t)))
    }
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        return new n.a(function(i) {
            var n, s;
            try {
                n = t()
            } catch (t) {
                return void i.error(t)
            }
            try {
                s = e(n)
            } catch (t) {
                return void i.error(t)
            }
            var a = s ? Object(r.a)(s) : o.a,
                c = a.subscribe(i);
            return function() {
                c.unsubscribe(), n && n.unsubscribe()
            }
        })
    };
    var n = i(2),
        r = i(20),
        o = i(11)
}, function(t, e, i) {
    "use strict";
    i(147), i(221), i(222), i(223), i(224), i(225), i(226), i(227), i(228), i(229), i(230), i(142), i(148), i(231), i(232), i(233), i(234), i(50), i(235), i(236), i(237), i(238), i(150), i(239), i(240), i(241), i(242), i(243), i(244), i(245), i(51), i(246), i(152), i(247), i(248), i(128), i(249), i(250), i(251), i(16), i(252), i(253), i(254), i(255), i(93), i(49), i(256), i(257), i(258), i(40), i(132), i(259), i(260), i(261), i(263), i(264), i(265), i(266), i(267), i(268), i(66), i(269), i(270), i(271), i(272), i(87), i(273), i(274), i(98), i(275), i(276), i(277), i(278), i(279), i(280), i(281), i(282), i(283), i(284), i(286), i(99), i(287), i(96), i(97), i(288), i(289);
    var n = i(151);
    i.d(e, "a", function() {
        return n.a
    });
    i(153);
    var r = i(290);
    i.d(e, "b", function() {
        return r.a
    });
    i(65), i(291), i(292), i(154), i(293), i(294), i(295), i(296), i(297), i(298), i(299), i(300), i(301), i(302)
}, function(t, e, i) {
    "use strict";
    i(12), i(147), i(146)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3),
        o = i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a, r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = (i(12), i(1));
    i(15);
    var o = function() {
        return function() {
            this.buffer = []
        }
    }();
    r.a;

    function s(t) {
        var e = t.subscriber,
            i = t.context;
        i && e.closeContext(i), e.closed || (t.context = e.openContext(), t.context.closeAction = this.schedule(t, t.bufferTimeSpan))
    }

    function a(t) {
        var e = t.bufferCreationInterval,
            i = t.bufferTimeSpan,
            n = t.subscriber,
            r = t.scheduler,
            o = n.openContext();
        n.closed || (n.add(o.closeAction = r.schedule(c, i, {
            subscriber: n,
            context: o
        })), this.schedule(t, e))
    }

    function c(t) {
        var e = t.subscriber,
            i = t.context;
        e.closeContext(i)
    }
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(5),
        o = i(4),
        s = i(3);
    s.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(5),
        o = i(19),
        s = i(14),
        a = i(3),
        c = i(4);
    a.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3),
        o = i(23),
        s = i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    i(92)
}, function(t, e, i) {
    "use strict";
    i(10), i(92), i(20)
}, function(t, e, i) {
    "use strict";
    i(63)
}, function(t, e, i) {
    "use strict";
    i(148)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3),
        o = i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    i(12);
    r.a;

    function o(t) {
        t.debouncedNext()
    }
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = (i(12), i(149), i(1)),
        o = i(61);
    r.a;
    var s = function() {
        return function(t, e) {
            this.time = t, this.notification = e
        }
    }()
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1),
        o = i(2),
        s = i(3),
        a = i(4);
    s.a, o.a;
    var c = function(t) {
        function e(e, i) {
            var n = t.call(this) || this;
            return n.parent = e, n.source = i, n.sourceSubscribed = !1, n
        }
        return n.a(e, t), e.prototype._next = function(t) {
            this.subscribeToSource()
        }, e.prototype._error = function(t) {
            this.unsubscribe(), this.parent.error(t)
        }, e.prototype._complete = function() {
            this.subscribeToSource()
        }, e.prototype.subscribeToSource = function() {
            this.sourceSubscribed || (this.sourceSubscribed = !0, this.unsubscribe(), this.source.subscribe(this.parent))
        }, e
    }(r.a)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3),
        o = i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    i(150)
}, function(t, e, i) {
    "use strict";
    i(46), i(51), i(65), i(50), i(96)
}, function(t, e, i) {
    "use strict";
    i(22), i(90), i(11), i(63), i(15)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3),
        o = i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3),
        o = i(23),
        s = i(4);
    i(16), i(20);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(19),
        o = i(14),
        s = i(3),
        a = i(4);
    s.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1),
        o = i(5);
    r.a
}, function(t, e, i) {
    "use strict";
    i(152)
}, function(t, e, i) {
    "use strict";
    i(47), i(51), i(96), i(50), i(65), i(39)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    i(47), i(51), i(97), i(65), i(50), i(39)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1),
        o = i(61);
    r.a
}, function(t, e, i) {
    "use strict";
    i(66)
}, function(t, e, i) {
    "use strict";
    i(143)
}, function(t, e, i) {
    "use strict";
    i(49)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(19),
        o = i(14),
        s = i(4),
        a = i(3),
        c = i(23);
    a.a
}, function(t, e, i) {
    "use strict";
    i(66)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = (i(20), i(10), i(3)),
        o = i(23),
        s = i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    i(262), i(51)
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e) {
        function i() {
            return !i.pred.apply(i.thisArg, arguments)
        }
        return i.pred = t, i.thisArg = e, i
    }
}, function(t, e, i) {
    "use strict";
    i(16)
}, function(t, e, i) {
    "use strict";
    i(8), i(40)
}, function(t, e, i) {
    "use strict";
    i(129), i(40)
}, function(t, e, i) {
    "use strict";
    i(62), i(40)
}, function(t, e, i) {
    "use strict";
    i(88), i(40)
}, function(t, e, i) {
    "use strict";
    i(10), i(145)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    i(11);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(8),
        o = i(19),
        s = i(14),
        a = i(3),
        c = i(4);
    a.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(8),
        o = i(19),
        s = i(14),
        a = i(3),
        c = i(4);
    a.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3);
    i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    i(12);
    r.a;

    function o(t) {
        var e = t.subscriber,
            i = t.period;
        e.notifyNext(), this.schedule(t, i)
    }
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1),
        o = i(19),
        s = i(14);
    r.a;
    var a = function(t) {
        function e(e, i) {
            var n = t.call(this, e) || this;
            return n.parent = i, n
        }
        return n.a(e, t), e.prototype._next = function(t) {
            this.parent.nextB(t)
        }, e.prototype._error = function(t) {
            this.parent.error(t)
        }, e.prototype._complete = function() {
            this.parent._complete()
        }, e
    }(r.a)
}, function(t, e, i) {
    "use strict";
    i(40), i(87), i(8)
}, function(t, e, i) {
    "use strict";
    i(88)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1),
        o = i(47);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    i(46);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3),
        o = i(23),
        s = i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    i(22), i(90), i(11), i(63), i(15)
}, function(t, e, i) {
    "use strict";
    i(285)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return a
    });
    var n = i(0),
        r = i(2),
        o = i(134),
        s = i(64),
        a = function(t) {
            function e(e, i, n) {
                void 0 === i && (i = 0), void 0 === n && (n = o.a);
                var r = t.call(this) || this;
                return r.source = e, r.delayTime = i, r.scheduler = n, (!Object(s.a)(i) || i < 0) && (r.delayTime = 0), n && "function" == typeof n.schedule || (r.scheduler = o.a), r
            }
            return n.a(e, t), e.create = function(t, i, n) {
                return void 0 === i && (i = 0), void 0 === n && (n = o.a), new e(t, i, n)
            }, e.dispatch = function(t) {
                var e = t.source,
                    i = t.subscriber;
                return this.add(e.subscribe(i))
            }, e.prototype._subscribe = function(t) {
                var i = this.delayTime,
                    n = this.source;
                return this.scheduler.schedule(e.dispatch, i, {
                    source: n,
                    subscriber: t
                })
            }, e
        }(r.a)
}, function(t, e, i) {
    "use strict";
    i(99), i(39)
}, function(t, e, i) {
    "use strict";
    i(99)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3);
    i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1);
    r.a
}, function(t, e, i) {
    "use strict";
    e.a = function(t, e, i) {
        void 0 === e && (e = o.a);
        void 0 === i && (i = s.a);
        return function(n) {
            return n.lift(new a(t, e, i.leading, i.trailing))
        }
    };
    var n = i(0),
        r = i(1),
        o = i(12),
        s = i(153);
    var a = function() {
            function t(t, e, i, n) {
                this.duration = t, this.scheduler = e, this.leading = i, this.trailing = n
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.duration, this.scheduler, this.leading, this.trailing))
            }, t
        }(),
        c = function(t) {
            function e(e, i, n, r, o) {
                var s = t.call(this, e) || this;
                return s.duration = i, s.scheduler = n, s.leading = r, s.trailing = o, s._hasTrailingValue = !1, s._trailingValue = null, s
            }
            return n.a(e, t), e.prototype._next = function(t) {
                this.throttled ? this.trailing && (this._trailingValue = t, this._hasTrailingValue = !0) : (this.add(this.throttled = this.scheduler.schedule(l, this.duration, {
                    subscriber: this
                })), this.leading && this.destination.next(t))
            }, e.prototype._complete = function() {
                this._hasTrailingValue ? (this.destination.next(this._trailingValue), this.destination.complete()) : this.destination.complete()
            }, e.prototype.clearThrottle = function() {
                var t = this.throttled;
                t && (this.trailing && this._hasTrailingValue && (this.destination.next(this._trailingValue), this._trailingValue = null, this._hasTrailingValue = !1), t.unsubscribe(), this.remove(t), this.throttled = null)
            }, e
        }(r.a);

    function l(t) {
        t.subscriber.clearThrottle()
    }
}, function(t, e, i) {
    "use strict";
    i(12), i(98), i(94), i(16)
}, function(t, e, i) {
    "use strict";
    i(12), i(135), i(154), i(91)
}, function(t, e, i) {
    "use strict";
    i(12), i(16)
}, function(t, e, i) {
    "use strict";
    i(66)
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(8),
        o = i(3);
    i(4);
    o.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(1),
        o = i(8);
    r.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(8),
        o = (i(12), i(1));
    i(64), i(15);
    var s = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._numberOfNextedValues = 0, e
        }
        return n.a(e, t), e.prototype.next = function(e) {
            this._numberOfNextedValues++, t.prototype.next.call(this, e)
        }, Object.defineProperty(e.prototype, "numberOfNextedValues", {
            get: function() {
                return this._numberOfNextedValues
            },
            enumerable: !0,
            configurable: !0
        }), e
    }(r.a);
    o.a;

    function a(t) {
        var e = t.subscriber,
            i = t.windowTimeSpan,
            n = t.window;
        n && e.closeWindow(n), t.window = e.openWindow(), this.schedule(t, i)
    }

    function c(t) {
        var e = t.windowTimeSpan,
            i = t.subscriber,
            n = t.scheduler,
            r = t.windowCreationInterval,
            o = {
                action: this,
                subscription: null
            },
            s = {
                subscriber: i,
                window: i.openWindow(),
                context: o
            };
        o.subscription = n.schedule(l, e, s), this.add(o.subscription), this.schedule(t, r)
    }

    function l(t) {
        var e = t.subscriber,
            i = t.window,
            n = t.context;
        n && n.action && n.subscription && n.action.remove(n.subscription), e.closeWindow(i)
    }
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(8),
        o = i(5),
        s = i(19),
        a = i(14),
        c = i(3),
        l = i(4);
    c.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(8),
        o = i(19),
        s = i(14),
        a = i(3),
        c = i(4);
    a.a
}, function(t, e, i) {
    "use strict";
    var n = i(0),
        r = i(3),
        o = i(4);
    r.a
}, function(t, e, i) {
    "use strict";
    i(95)
}, function(t, e, i) {
    "use strict";
    i(95)
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return c
    });
    var n = i(6),
        r = i.n(n),
        o = i(7),
        s = i.n(o),
        a = i(304),
        c = function() {
            function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                r()(this, t);
                var i = this;
                i.option = $.extend({
                    $wrap: null,
                    spriteObj: {
                        img: null,
                        width: 100,
                        height: 100,
                        frameNum: 1,
                        fps: 1,
                        isLoop: !1
                    },
                    emitter: null
                }, e), i.emitter = i.option.emitter, i.$wrap = i.option.$wrap, i.fullscreenCanvas = null
            }
            return s()(t, [{
                key: "init",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    var t = this;
                    return t.fullscreenCanvas = new a.a({
                        $parent: t.$wrap,
                        canvasClass: "canvas",
                        width: 1920,
                        height: 1080,
                        alignX: "center",
                        alignY: "top",
                        spriteObj: t.option.spriteObj,
                        onFinish: function() {
                            t.fullscreenCanvas.show(!1), t.emitter.emit("COMPLETE_SEQUENCE_ANIMATION", null)
                        }
                    }).init(), t
                }
            }, {
                key: "restart",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    var t = this;
                    return t.fullscreenCanvas.restart(), t.fullscreenCanvas.show(!0), t
                }
            }, {
                key: "destroy",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }]), t
        }()
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return h
    });
    var n = i(100),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(308),
        u = i(13),
        h = function() {
            function t(e) {
                s()(this, t);
                var i = this;
                i.option = r()({
                    $parent: null,
                    canvasClass: "canvas",
                    width: 1280,
                    height: 1024,
                    alignX: "center",
                    alignY: "center",
                    spriteObj: null,
                    onFinish: null
                }, e), i.$parent = i.option.$parent, i.$canvas = null, i.canvas = null, i.ctx = null, i.$proxyResize = $.proxy(i.resize, i), i.animationFrame = null, i.isPlaying = !0, i.spriteObj = i.option.spriteObj, i.movieClip = null
            }
            return c()(t, [{
                key: "restart",
                value: function() {
                    var t = this;
                    return t.isPlaying = !0, t.movieClip.reset(), t.loopAnimation(), t
                }
            }, {
                key: "show",
                value: function(t) {
                    var e = this;
                    return t ? e.$parent.show() : e.$parent.hide(), e
                }
            }, {
                key: "init",
                value: function(t) {
                    return this.setInstance(), this
                }
            }, {
                key: "setInstance",
                value: function() {
                    var t = this,
                        e = t.option;
                    t.$canvas = $(t.getCanvasTpl()).css({
                        position: "absolute"
                    }), t.$parent.append(t.$canvas), t.canvas = t.$canvas.get(0), t.ctx = t.canvas.getContext("2d"), t.movieClip = new l.a({
                        ctx: t.ctx,
                        img: t.spriteObj.img,
                        width: t.spriteObj.width,
                        height: t.spriteObj.height,
                        frameNum: t.spriteObj.frameNum,
                        fps: t.spriteObj.fps,
                        isLoop: t.spriteObj.isLoop,
                        finishCallback: function() {
                            t.isPlaying = !1, e.onFinish.call(null)
                        }
                    });
                    var i = t.getImageSizeAspectFill();
                    t.setCanvasSize(i.width, i.height), t.setWrapAlign(e.alignX, e.alignY, i), $(window).on("resize", t.$proxyResize), t.resize(), t.loopAnimation()
                }
            }, {
                key: "resize",
                value: function(t) {
                    var e = this,
                        i = e.getImageSizeAspectFill();
                    e.setCanvasSize(i.width, i.height), e.setWrapAlign(e.option.alignX, e.option.alignY, i)
                }
            }, {
                key: "loopAnimation",
                value: function() {
                    var t = this;
                    Object(u.c)(t.isPlaying) ? window.cancelAnimationFrame(t.animationFrame) : (t.animationFrame = window.requestAnimationFrame(t.loopAnimation.bind(t)), t.update())
                }
            }, {
                key: "update",
                value: function() {
                    this.drawCanvas()
                }
            }, {
                key: "drawCanvas",
                value: function() {
                    var t = this,
                        e = t.getImageSizeAspectFill();
                    t.ctx.clearRect(0, 0, t.canvas.width, t.canvas.height), t.movieClip.render(e)
                }
            }, {
                key: "setCanvasSize",
                value: function(t, e) {
                    var i = this;
                    i.ctx.canvas.width = t, i.ctx.canvas.height = e, i.$canvas.attr({
                        width: t,
                        height: e
                    })
                }
            }, {
                key: "setWrapAlign",
                value: function(t, e, i) {
                    var n = window.innerWidth,
                        r = window.innerHeight,
                        o = 0,
                        s = 0;
                    switch (t) {
                        case "left":
                            o = 0;
                            break;
                        case "center":
                            o = Math.round((n - i.width) / 2);
                            break;
                        case "right":
                            o = Math.round(n - i.width)
                    }
                    switch (e) {
                        case "top":
                            s = 0;
                            break;
                        case "center":
                            s = Math.round((r - i.height) / 2);
                            break;
                        case "bottom":
                            s = Math.round(r - i.height)
                    }
                    this.setCanvasPos({
                        left: o,
                        top: s
                    })
                }
            }, {
                key: "setCanvasPos",
                value: function(t) {
                    this.$canvas.css(t)
                }
            }, {
                key: "getImageSizeAspectFill",
                value: function() {
                    var t = this.option,
                        e = window.innerWidth,
                        i = window.innerHeight,
                        n = e,
                        r = Math.ceil(e / t.width * t.height);
                    return r < i && (n = Math.ceil(i / t.height * t.width), r = i), {
                        width: n,
                        height: r
                    }
                }
            }, {
                key: "getCanvasTpl",
                value: function() {
                    return '<canvas class="' + this.option.canvasClass + '"></canvas>'
                }
            }]), t
        }()
}, function(t, e, i) {
    i(306), t.exports = i(17).Object.assign
}, function(t, e, i) {
    var n = i(25);
    n(n.S + n.F, "Object", {
        assign: i(307)
    })
}, function(t, e, i) {
    "use strict";
    var n = i(54),
        r = i(80),
        o = i(56),
        s = i(77),
        a = i(108),
        c = Object.assign;
    t.exports = !c || i(35)(function() {
        var t = {},
            e = {},
            i = Symbol(),
            n = "abcdefghijklmnopqrst";
        return t[i] = 7, n.split("").forEach(function(t) {
            e[t] = t
        }), 7 != c({}, t)[i] || Object.keys(c({}, e)).join("") != n
    }) ? function(t, e) {
        for (var i = s(t), c = arguments.length, l = 1, u = r.f, h = o.f; c > l;)
            for (var p, d = a(arguments[l++]), f = u ? n(d).concat(u(d)) : n(d), m = f.length, v = 0; m > v;) h.call(d, p = f[v++]) && (i[p] = d[p]);
        return i
    } : c
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return u
    });
    var n = i(100),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(13),
        u = function() {
            function t(e) {
                s()(this, t);
                var i = this;
                i.option = r()({
                    ctx: null,
                    img: null,
                    width: 0,
                    height: 0,
                    frameNum: 1,
                    fps: 60,
                    isLoop: !0,
                    finishCallback: null
                }, e), i.ctx = i.option.ctx, i.img = i.option.img, i.currentFrame = 1, i.frameNum = i.option.frameNum, i.isLoop = i.option.isLoop || !1, i.renderInfo = {
                    img: i.img,
                    x: 0,
                    y: 688,
                    width: i.option.width,
                    height: i.option.height
                }, i.fpsInterval = 1e3 / i.option.fps, i.now = Date.now(), i.then = Date.now(), i.startTime = i.then, i.isFinish = !1
            }
            return c()(t, [{
                key: "render",
                value: function(t) {
                    var e = this;
                    Object(l.w)(e.isFinish) || (e._draw(e.renderInfo, t), e.now = Date.now(), e.elapsed = e.now - e.then, e.elapsed > e.fpsInterval && (e.then = e.now - e.elapsed % e.fpsInterval, e.renderInfo = r()({}, e.renderInfo, {
                        y: e.renderInfo.y + e.option.height
                    }), e.currentFrame += 1, !0 === e.isLoop ? e.currentFrame > e.frameNum && (e.renderInfo = r()({}, e.renderInfo, {
                        y: 0
                    }), e.currentFrame = 1) : e.currentFrame > e.frameNum && (e.isFinish = !0, e.currentFrame = e.frameNum, e.renderInfo = r()({}, e.renderInfo, {
                        y: 0
                    }), Object(l.m)(e.option.finishCallback) && e.option.finishCallback.call(null))))
                }
            }, {
                key: "reset",
                value: function() {
                    var t = this;
                    t.isFinish = !1, t.currentFrame = 1, t.renderInfo = r()({}, t.renderInfo, {
                        y: 0
                    })
                }
            }, {
                key: "_draw",
                value: function(t, e) {
                    this.ctx.drawImage(t.img, t.x, t.y, t.width, t.height, 0, 0, e.width, e.height)
                }
            }]), t
        }()
}, function(t, e, i) {
    "use strict";
    var n = i(6),
        r = i.n(n),
        o = i(7),
        s = i.n(o),
        a = i(310),
        c = (i.n(a), i(13));

    function l(t) {
        return "$" + t
    }
    var u = function() {
        function t() {
            r()(this, t);
            this.subjects = {}
        }
        return s()(t, [{
            key: "emit",
            value: function(t, e) {
                var i = this,
                    n = l(t);
                return Object(c.q)(i.subjects[n]) && (i.subjects[n] = new a.Subject), i.subjects[n].next(e), i
            }
        }, {
            key: "listen",
            value: function(t, e) {
                var i = this,
                    n = l(t);
                return Object(c.q)(i.subjects[n]) && (i.subjects[n] = new a.Subject), i.subjects[n].subscribe(e)
            }
        }, {
            key: "dispose",
            value: function() {
                var t = this,
                    e = t.subjects;
                for (var i in e) c.j.call(e, i) && e[i].unsubscribe();
                return t.subjects = {}, t
            }
        }]), t
    }();
    e.a = u
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
            value: !0
        }),
        function(t) {
            for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
        }(i(311))
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(122);
    e.Subject = n.Subject
}, function(t, e, i) {
    "use strict";
    var n = i(24),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(30),
        u = i.n(l),
        h = i(31),
        p = i.n(h),
        d = i(32),
        f = i.n(d),
        m = i(9),
        v = i.n(m),
        g = i(155),
        y = i(13),
        _ = function(t) {
            function e(t) {
                if (s()(this, e), Object(y.q)(t)) throw new Error("HorizontalScrollingNavi: require options object when create instance.");
                var n = v.a.extend({
                        Dragdealer: i(325),
                        wrap: null,
                        handleClass: "handle",
                        speed: .25,
                        positionedCallback: null,
                        dragStartCallback: null,
                        dragStopCallback: null,
                        animationCallback: null,
                        global: window
                    }, t),
                    o = u()(this, (e.__proto__ || r()(e)).call(this, n)),
                    a = o;
                if (a._isDraggable = !1, a._dragDealer = null, v.a.extend(!0, a._proxy, {
                        resizeEventHandler: null,
                        positionedCallback: null,
                        dragStartCallback: null,
                        dragStopCallback: null,
                        animationCallback: null
                    }), Object(y.u)(v()(a._option.wrap))) throw new Error("HorizontalScrollingNavi: require options object has a single wrap.");
                return o
            }
            return f()(e, t), c()(e, [{
                key: "init",
                value: function() {
                    p()(e.prototype.__proto__ || r()(e.prototype), "init", this).call(this);
                    var t = this;
                    return t._proxy.resizeEventHandler = t.resize.bind(t), t._proxy.positionedCallback = t._option.positionedCallback.bind(t), t._proxy.dragStartCallback = t._option.dragStartCallback.bind(t), t._proxy.dragStopCallback = t._option.dragStopCallback.bind(t), t._proxy.animationCallback = t._option.animationCallback.bind(t), t._setContents(), t.setResizeEventHandler(!0), t.resize(), t
                }
            }, {
                key: "getRatioX",
                value: function() {
                    return Object(y.q)(this._dragDealer) ? null : this._dragDealer.getValue()[0]
                }
            }, {
                key: "getOffsetRatioByPosition",
                value: function(t) {
                    return Object(y.q)(this._dragDealer) ? null : this._dragDealer.getRatiosByOffsets([t, 0])
                }
            }, {
                key: "getHandle",
                value: function() {
                    return Object(y.q)(this._dragDealer) ? null : this._dragDealer.handle
                }
            }, {
                key: "setX",
                value: function(t) {
                    var e = this,
                        i = e.getOffsetRatioByPosition(t);
                    return e._dragDealer.setValue(i[0], i[1]), e
                }
            }, {
                key: "setRatioX",
                value: function(t) {
                    return this._dragDealer.setValue(t, 0), this
                }
            }, {
                key: "isDraggable",
                value: function() {
                    return this._isDraggable
                }
            }, {
                key: "enable",
                value: function() {
                    var t = this;
                    return t._dragDealer.enable(), t._isDraggable = !0, t
                }
            }, {
                key: "disable",
                value: function() {
                    var t = this;
                    return t._dragDealer.disable(), t._isDraggable = !1, t
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = this;
                    return t.setResizeEventHandler(!1), t._isDraggable = !1, Object(y.l)(t._dragDealer) && t._dragDealer.unbindEventListeners(), t._dragDealer = null, t._proxy.resizeEventHandler = null, t._proxy.positionedCallback = null, t._proxy.dragStartCallback = null, t._proxy.dragStopCallback = null, t._proxy.animationCallback = null, p()(e.prototype.__proto__ || r()(e.prototype), "destroy", this).call(this), t
                }
            }, {
                key: "_setContents",
                value: function() {
                    var t = this,
                        e = t._option;
                    return t._dragDealer = new e.Dragdealer(v()(e.wrap).get(0), {
                        handleClass: e.handleClass,
                        disabled: !1,
                        horizontal: !0,
                        vertical: !1,
                        slide: !0,
                        loose: !0,
                        speed: e.speed,
                        css3: !0,
                        callback: t._proxy.positionedCallback,
                        dragStartCallback: t._proxy.dragStartCallback,
                        dragStopCallback: t._proxy.dragStopCallback,
                        animationCallback: t._proxy.animationCallback
                    }), t
                }
            }, {
                key: "setResizeEventHandler",
                value: function(t) {
                    if (Object(y.t)(y.k)(t)) throw new TypeError("HorizontalScrollingNavi: setResizeEventHandler require boolean parameter.");
                    var e = this,
                        i = "resize.horizontalscrollingnavi." + e._uniqueId;
                    return v()(e._option.global).off(i, e._proxy.resizeEventHandler), t && v()(e._option.global).on(i, e._proxy.resizeEventHandler), e
                }
            }, {
                key: "resize",
                value: function(t) {
                    var e = this;
                    if (Object(y.l)(e._dragDealer))
                        if (v()(e.getHandle()).outerWidth() > v()(e._option.wrap).width()) e.enable();
                        else {
                            Object(y.c)(e._dragDealer.disabled) && e.disable();
                            var i = e.getRatioX();
                            Object(y.l)(i) && 0 !== i && e.setRatioX(0)
                        }
                    return e
                }
            }]), e
        }(g.a);
    e.a = _
}, function(t, e, i) {
    i(314), t.exports = i(17).Object.getPrototypeOf
}, function(t, e, i) {
    var n = i(77),
        r = i(110);
    i(156)("getPrototypeOf", function() {
        return function(t) {
            return r(n(t))
        }
    })
}, function(t, e, i) {
    t.exports = {
        default: i(316),
        __esModule: !0
    }
}, function(t, e, i) {
    i(317);
    var n = i(17).Object;
    t.exports = function(t, e) {
        return n.getOwnPropertyDescriptor(t, e)
    }
}, function(t, e, i) {
    var n = i(29),
        r = i(81).f;
    i(156)("getOwnPropertyDescriptor", function() {
        return function(t, e) {
            return r(n(t), e)
        }
    })
}, function(t, e, i) {
    t.exports = {
        default: i(319),
        __esModule: !0
    }
}, function(t, e, i) {
    i(320), t.exports = i(17).Object.setPrototypeOf
}, function(t, e, i) {
    var n = i(25);
    n(n.S, "Object", {
        setPrototypeOf: i(321).set
    })
}, function(t, e, i) {
    var n = i(34),
        r = i(42),
        o = function(t, e) {
            if (r(t), !n(e) && null !== e) throw TypeError(e + ": can't set as prototype!")
        };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__" in {} ? function(t, e, n) {
            try {
                (n = i(103)(Function.call, i(81).f(Object.prototype, "__proto__").set, 2))(t, []), e = !(t instanceof Array)
            } catch (t) {
                e = !0
            }
            return function(t, i) {
                return o(t, i), e ? t.__proto__ = i : n(t, i), t
            }
        }({}, !1) : void 0),
        check: o
    }
}, function(t, e, i) {
    t.exports = {
        default: i(323),
        __esModule: !0
    }
}, function(t, e, i) {
    i(324);
    var n = i(17).Object;
    t.exports = function(t, e) {
        return n.create(t, e)
    }
}, function(t, e, i) {
    var n = i(25);
    n(n.S, "Object", {
        create: i(72)
    })
}, function(t, e, i) {
    var n, r;
    void 0 === (r = "function" == typeof(n = function() {
        var t = function(t, e) {
            this.options = this.applyDefaults(e || {}), this.bindMethods(), this.wrapper = this.getWrapperElement(t), this.wrapper && (this.handle = this.getHandleElement(this.wrapper, this.options.handleClass), this.handle && (this.init(), this.bindEventListeners()))
        };
        t.prototype = {
            defaults: {
                disabled: !1,
                horizontal: !0,
                vertical: !1,
                slide: !0,
                steps: 0,
                snap: !1,
                loose: !1,
                speed: .1,
                xPrecision: 0,
                yPrecision: 0,
                handleClass: "handle",
                css3: !0,
                activeClass: "active",
                tapping: !0
            },
            init: function() {
                var t;
                this.options.css3 && (t = this.handle, c.backfaceVisibility && c.perspective && (t.style[c.perspective] = "1000px", t.style[c.backfaceVisibility] = "hidden")), this.value = {
                    prev: [-1, -1],
                    current: [this.options.x || 0, this.options.y || 0],
                    target: [this.options.x || 0, this.options.y || 0]
                }, this.offset = {
                    wrapper: [0, 0],
                    mouse: [0, 0],
                    prev: [-999999, -999999],
                    current: [0, 0],
                    target: [0, 0]
                }, this.dragStartPosition = {
                    x: 0,
                    y: 0
                }, this.change = [0, 0], this.stepRatios = this.calculateStepRatios(), this.activity = !1, this.dragging = !1, this.tapping = !1, this.reflow(), this.options.disabled && this.disable()
            },
            applyDefaults: function(t) {
                for (var e in this.defaults) t.hasOwnProperty(e) || (t[e] = this.defaults[e]);
                return t
            },
            getWrapperElement: function(t) {
                return "string" == typeof t ? document.getElementById(t) : t
            },
            getHandleElement: function(t, e) {
                var i, n, r;
                if (t.getElementsByClassName) {
                    if ((i = t.getElementsByClassName(e)).length > 0) return i[0]
                } else
                    for (n = new RegExp("(^|\\s)" + e + "(\\s|$)"), i = t.getElementsByTagName("*"), r = 0; r < i.length; r++)
                        if (n.test(i[r].className)) return i[r]
            },
            calculateStepRatios: function() {
                var t = [];
                if (this.options.steps >= 1)
                    for (var e = 0; e <= this.options.steps - 1; e++) this.options.steps > 1 ? t[e] = e / (this.options.steps - 1) : t[e] = 0;
                return t
            },
            setWrapperOffset: function() {
                this.offset.wrapper = a.get(this.wrapper)
            },
            calculateBounds: function() {
                var t = {
                    top: this.options.top || 0,
                    bottom: -(this.options.bottom || 0) + this.wrapper.offsetHeight,
                    left: this.options.left || 0,
                    right: -(this.options.right || 0) + this.wrapper.offsetWidth
                };
                return t.availWidth = t.right - t.left - this.handle.offsetWidth, t.availHeight = t.bottom - t.top - this.handle.offsetHeight, t
            },
            calculateValuePrecision: function() {
                var t = this.options.xPrecision || Math.abs(this.bounds.availWidth),
                    e = this.options.yPrecision || Math.abs(this.bounds.availHeight);
                return [t ? 1 / t : 0, e ? 1 / e : 0]
            },
            bindMethods: function() {
                "function" == typeof this.options.customRequestAnimationFrame ? this.requestAnimationFrame = e(this.options.customRequestAnimationFrame, window) : this.requestAnimationFrame = e(h, window), "function" == typeof this.options.customCancelAnimationFrame ? this.cancelAnimationFrame = e(this.options.customCancelAnimationFrame, window) : this.cancelAnimationFrame = e(p, window), this.animateWithRequestAnimationFrame = e(this.animateWithRequestAnimationFrame, this), this.animate = e(this.animate, this), this.onHandleMouseDown = e(this.onHandleMouseDown, this), this.onHandleTouchStart = e(this.onHandleTouchStart, this), this.onDocumentMouseMove = e(this.onDocumentMouseMove, this), this.onWrapperTouchMove = e(this.onWrapperTouchMove, this), this.onWrapperMouseDown = e(this.onWrapperMouseDown, this), this.onWrapperTouchStart = e(this.onWrapperTouchStart, this), this.onDocumentMouseUp = e(this.onDocumentMouseUp, this), this.onDocumentTouchEnd = e(this.onDocumentTouchEnd, this), this.onHandleClick = e(this.onHandleClick, this), this.onWindowResize = e(this.onWindowResize, this)
            },
            bindEventListeners: function() {
                i(this.handle, "mousedown", this.onHandleMouseDown), i(this.handle, "touchstart", this.onHandleTouchStart), i(document, "mousemove", this.onDocumentMouseMove), i(this.wrapper, "touchmove", this.onWrapperTouchMove), i(this.wrapper, "mousedown", this.onWrapperMouseDown), i(this.wrapper, "touchstart", this.onWrapperTouchStart), i(document, "mouseup", this.onDocumentMouseUp), i(document, "touchend", this.onDocumentTouchEnd), i(this.handle, "click", this.onHandleClick), i(window, "resize", this.onWindowResize), this.animate(!1, !0), this.interval = this.requestAnimationFrame(this.animateWithRequestAnimationFrame)
            },
            unbindEventListeners: function() {
                n(this.handle, "mousedown", this.onHandleMouseDown), n(this.handle, "touchstart", this.onHandleTouchStart), n(document, "mousemove", this.onDocumentMouseMove), n(this.wrapper, "touchmove", this.onWrapperTouchMove), n(this.wrapper, "mousedown", this.onWrapperMouseDown), n(this.wrapper, "touchstart", this.onWrapperTouchStart), n(document, "mouseup", this.onDocumentMouseUp), n(document, "touchend", this.onDocumentTouchEnd), n(this.handle, "click", this.onHandleClick), n(window, "resize", this.onWindowResize), this.cancelAnimationFrame(this.interval)
            },
            onHandleMouseDown: function(t) {
                s.refresh(t), r(t), o(t), this.activity = !1, this.startDrag()
            },
            onHandleTouchStart: function(t) {
                s.refresh(t), o(t), this.activity = !1, this.startDrag()
            },
            onDocumentMouseMove: function(t) {
                t.clientX - this.dragStartPosition.x == 0 && t.clientY - this.dragStartPosition.y == 0 || (s.refresh(t), this.dragging && (this.activity = !0, r(t)))
            },
            onWrapperTouchMove: function(t) {
                s.refresh(t), this.activity || !this.draggingOnDisabledAxis() ? (r(t), this.activity = !0) : this.dragging && this.stopDrag()
            },
            onWrapperMouseDown: function(t) {
                s.refresh(t), r(t), this.startTap()
            },
            onWrapperTouchStart: function(t) {
                s.refresh(t), r(t), this.startTap()
            },
            onDocumentMouseUp: function(t) {
                this.stopDrag(), this.stopTap()
            },
            onDocumentTouchEnd: function(t) {
                this.stopDrag(), this.stopTap()
            },
            onHandleClick: function(t) {
                this.activity && (r(t), o(t))
            },
            onWindowResize: function(t) {
                this.reflow()
            },
            enable: function() {
                this.disabled = !1, this.handle.className = this.handle.className.replace(/\s?disabled/g, "")
            },
            disable: function() {
                this.disabled = !0, this.handle.className += " disabled"
            },
            reflow: function() {
                this.setWrapperOffset(), this.bounds = this.calculateBounds(), this.valuePrecision = this.calculateValuePrecision(), this.updateOffsetFromValue()
            },
            getStep: function() {
                return [this.getStepNumber(this.value.target[0]), this.getStepNumber(this.value.target[1])]
            },
            getStepWidth: function() {
                return Math.abs(this.bounds.availWidth / this.options.steps)
            },
            getValue: function() {
                return this.value.target
            },
            setStep: function(t, e, i) {
                this.setValue(this.options.steps && t > 1 ? (t - 1) / (this.options.steps - 1) : 0, this.options.steps && e > 1 ? (e - 1) / (this.options.steps - 1) : 0, i)
            },
            setValue: function(t, e, i) {
                this.setTargetValue([t, e || 0]), i && (this.groupCopy(this.value.current, this.value.target), this.updateOffsetFromValue(), this.callAnimationCallback())
            },
            startTap: function() {
                if (!this.disabled && this.options.tapping)
                    if (this.tapping = !0, this.setWrapperOffset(), this.options.snap && this.options.steps) {
                        var t = (s.x - this.offset.wrapper[0]) / this.bounds.availWidth,
                            e = (s.y - this.offset.wrapper[1]) / this.bounds.availHeight;
                        this.setValue(this.getClosestStep(t), this.getClosestStep(e), !0)
                    } else this.setTargetValueByOffset([s.x - this.offset.wrapper[0] - this.handle.offsetWidth / 2, s.y - this.offset.wrapper[1] - this.handle.offsetHeight / 2])
            },
            stopTap: function() {
                !this.disabled && this.tapping && (this.tapping = !1, this.setTargetValue(this.value.current))
            },
            startDrag: function() {
                this.disabled || (this.dragging = !0, this.setWrapperOffset(), this.dragStartPosition = {
                    x: s.x,
                    y: s.y
                }, this.offset.mouse = [s.x - a.get(this.handle)[0], s.y - a.get(this.handle)[1]], this.wrapper.className.match(this.options.activeClass) || (this.wrapper.className += " " + this.options.activeClass), this.callDragStartCallback())
            },
            stopDrag: function() {
                if (!this.disabled && this.dragging) {
                    this.dragging = !1;
                    var t = [0 === this.bounds.availWidth ? 0 : (s.x - this.dragStartPosition.x) / this.bounds.availWidth, 0 === this.bounds.availHeight ? 0 : (s.y - this.dragStartPosition.y) / this.bounds.availHeight],
                        e = this.groupClone(this.value.current);
                    if (this.options.slide) {
                        var i = this.change;
                        e[0] += 4 * i[0], e[1] += 4 * i[1]
                    }
                    this.setTargetValue(e), this.wrapper.className = this.wrapper.className.replace(" " + this.options.activeClass, ""), this.callDragStopCallback(t)
                }
            },
            callAnimationCallback: function() {
                var t = this.value.current;
                this.options.snap && this.options.steps > 1 && (t = this.getClosestSteps(t)), this.groupCompare(t, this.value.prev) || ("function" == typeof this.options.animationCallback && this.options.animationCallback.call(this, t[0], t[1]), this.groupCopy(this.value.prev, t))
            },
            callTargetCallback: function() {
                "function" == typeof this.options.callback && this.options.callback.call(this, this.value.target[0], this.value.target[1])
            },
            callDragStartCallback: function() {
                "function" == typeof this.options.dragStartCallback && this.options.dragStartCallback.call(this, this.value.target[0], this.value.target[1])
            },
            callDragStopCallback: function(t) {
                "function" == typeof this.options.dragStopCallback && this.options.dragStopCallback.call(this, this.value.target[0], this.value.target[1], t)
            },
            animateWithRequestAnimationFrame: function(t) {
                t ? (this.timeOffset = this.timeStamp ? t - this.timeStamp : 0, this.timeStamp = t) : this.timeOffset = 25, this.animate(), this.interval = this.requestAnimationFrame(this.animateWithRequestAnimationFrame)
            },
            animate: function(t, e) {
                if (!t || this.dragging) {
                    if (this.dragging) {
                        var i = this.groupClone(this.value.target),
                            n = [s.x - this.offset.wrapper[0] - this.offset.mouse[0], s.y - this.offset.wrapper[1] - this.offset.mouse[1]];
                        this.setTargetValueByOffset(n, this.options.loose), this.change = [this.value.target[0] - i[0], this.value.target[1] - i[1]]
                    }(this.dragging || e) && this.groupCopy(this.value.current, this.value.target), (this.dragging || this.glide() || e) && (this.updateOffsetFromValue(), this.callAnimationCallback())
                }
            },
            glide: function() {
                var t = [this.value.target[0] - this.value.current[0], this.value.target[1] - this.value.current[1]];
                return !(!t[0] && !t[1]) && (Math.abs(t[0]) > this.valuePrecision[0] || Math.abs(t[1]) > this.valuePrecision[1] ? (this.value.current[0] += t[0] * Math.min(this.options.speed * this.timeOffset / 25, 1), this.value.current[1] += t[1] * Math.min(this.options.speed * this.timeOffset / 25, 1)) : this.groupCopy(this.value.current, this.value.target), !0)
            },
            updateOffsetFromValue: function() {
                this.options.snap ? this.offset.current = this.getOffsetsByRatios(this.getClosestSteps(this.value.current)) : this.offset.current = this.getOffsetsByRatios(this.value.current), this.groupCompare(this.offset.current, this.offset.prev) || (this.renderHandlePosition(), this.groupCopy(this.offset.prev, this.offset.current))
            },
            renderHandlePosition: function() {
                var t = "";
                if (this.options.css3 && c.transform) return this.options.horizontal && (t += "translateX(" + this.offset.current[0] + "px)"), this.options.vertical && (t += " translateY(" + this.offset.current[1] + "px)"), void(this.handle.style[c.transform] = t);
                this.options.horizontal && (this.handle.style.left = this.offset.current[0] + "px"), this.options.vertical && (this.handle.style.top = this.offset.current[1] + "px")
            },
            setTargetValue: function(t, e) {
                var i = e ? this.getLooseValue(t) : this.getProperValue(t);
                this.groupCopy(this.value.target, i), this.offset.target = this.getOffsetsByRatios(i), this.callTargetCallback()
            },
            setTargetValueByOffset: function(t, e) {
                var i = this.getRatiosByOffsets(t),
                    n = e ? this.getLooseValue(i) : this.getProperValue(i);
                this.groupCopy(this.value.target, n), this.offset.target = this.getOffsetsByRatios(n)
            },
            getLooseValue: function(t) {
                var e = this.getProperValue(t);
                return [e[0] + (t[0] - e[0]) / 4, e[1] + (t[1] - e[1]) / 4]
            },
            getProperValue: function(t) {
                var e = this.groupClone(t);
                return e[0] = Math.max(e[0], 0), e[1] = Math.max(e[1], 0), e[0] = Math.min(e[0], 1), e[1] = Math.min(e[1], 1), (!this.dragging && !this.tapping || this.options.snap) && this.options.steps > 1 && (e = this.getClosestSteps(e)), e
            },
            getRatiosByOffsets: function(t) {
                return [this.getRatioByOffset(t[0], this.bounds.availWidth, this.bounds.left), this.getRatioByOffset(t[1], this.bounds.availHeight, this.bounds.top)]
            },
            getRatioByOffset: function(t, e, i) {
                return e ? (t - i) / e : 0
            },
            getOffsetsByRatios: function(t) {
                return [this.getOffsetByRatio(t[0], this.bounds.availWidth, this.bounds.left), this.getOffsetByRatio(t[1], this.bounds.availHeight, this.bounds.top)]
            },
            getOffsetByRatio: function(t, e, i) {
                return Math.round(t * e) + i
            },
            getStepNumber: function(t) {
                return this.getClosestStep(t) * (this.options.steps - 1) + 1
            },
            getClosestSteps: function(t) {
                return [this.getClosestStep(t[0]), this.getClosestStep(t[1])]
            },
            getClosestStep: function(t) {
                for (var e = 0, i = 1, n = 0; n <= this.options.steps - 1; n++) Math.abs(this.stepRatios[n] - t) < i && (i = Math.abs(this.stepRatios[n] - t), e = n);
                return this.stepRatios[e]
            },
            groupCompare: function(t, e) {
                return t[0] == e[0] && t[1] == e[1]
            },
            groupCopy: function(t, e) {
                t[0] = e[0], t[1] = e[1]
            },
            groupClone: function(t) {
                return [t[0], t[1]]
            },
            draggingOnDisabledAxis: function() {
                return !this.options.horizontal && s.xDiff > s.yDiff || !this.options.vertical && s.yDiff > s.xDiff
            }
        };
        var e = function(t, e) {
                return function() {
                    return t.apply(e, arguments)
                }
            },
            i = function(t, e, i) {
                t.addEventListener ? t.addEventListener(e, i, !1) : t.attachEvent && t.attachEvent("on" + e, i)
            },
            n = function(t, e, i) {
                t.removeEventListener ? t.removeEventListener(e, i, !1) : t.detachEvent && t.detachEvent("on" + e, i)
            },
            r = function(t) {
                t || (t = window.event), t.preventDefault && t.preventDefault(), t.returnValue = !1
            },
            o = function(t) {
                t || (t = window.event), t.stopPropagation && t.stopPropagation(), t.cancelBubble = !0
            },
            s = {
                x: 0,
                y: 0,
                xDiff: 0,
                yDiff: 0,
                refresh: function(t) {
                    t || (t = window.event), "mousemove" == t.type ? this.set(t) : t.touches && this.set(t.touches[0])
                },
                set: function(t) {
                    var e = this.x,
                        i = this.y;
                    t.clientX || t.clientY ? (this.x = t.clientX, this.y = t.clientY) : (t.pageX || t.pageY) && (this.x = t.pageX - document.body.scrollLeft - document.documentElement.scrollLeft, this.y = t.pageY - document.body.scrollTop - document.documentElement.scrollTop), this.xDiff = Math.abs(this.x - e), this.yDiff = Math.abs(this.y - i)
                }
            },
            a = {
                get: function(t) {
                    var e = {
                        left: 0,
                        top: 0
                    };
                    return void 0 !== t.getBoundingClientRect && (e = t.getBoundingClientRect()), [e.left, e.top]
                }
            },
            c = {
                transform: l("transform"),
                perspective: l("perspective"),
                backfaceVisibility: l("backfaceVisibility")
            };

        function l(t) {
            var e = "Webkit Moz ms O".split(" "),
                i = document.documentElement.style;
            if (void 0 !== i[t]) return t;
            t = t.charAt(0).toUpperCase() + t.substr(1);
            for (var n = 0; n < e.length; n++)
                if (void 0 !== i[e[n] + t]) return e[n] + t
        }
        for (var u = ["webkit", "moz"], h = window.requestAnimationFrame, p = window.cancelAnimationFrame, d = 0; d < u.length && !h; ++d) h = window[u[d] + "RequestAnimationFrame"], p = window[u[d] + "CancelAnimationFrame"] || window[u[d] + "CancelRequestAnimationFrame"];
        return h || (h = function(t) {
            return setTimeout(t, 25)
        }, p = clearTimeout), t
    }) ? n.call(e, i, e, t) : n) || (t.exports = r)
}, function(t, e, i) {
    "use strict";
    var n = i(24),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(30),
        u = i.n(l),
        h = i(31),
        p = i.n(h),
        d = i(32),
        f = i.n(d),
        m = i(9),
        v = i.n(m),
        g = i(41),
        y = i(327),
        _ = i(113),
        b = i(13),
        x = i(57),
        w = function(t) {
            function e(t) {
                s()(this, e);
                var i = u()(this, (e.__proto__ || r()(e)).call(this, t)),
                    n = i;
                    
                    return n.transitionController = null, n.smoke3D = null, n.$smoke = v()(".el-intro-smoke", n.$wrap), n.$fire = v()(".el-intro-fire", n.$wrap), n.$character = v()(".el-intro-character", n.$wrap), n.$logo = v()(".logo", n.$wrap), n.$title = v()(".header .title", n.$wrap), n.$subTitle = v()(".header .subtitle", n.$wrap), n.$date = v()(".header .date", n.$wrap), n.$preorderBtn = v()(".btn-preorder", n.$wrap), i
            }
            return f()(e, t), c()(e, [{
                key: "init",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "init", this).call(this, t);
                    var i = this;
                    if (Object(b.t)(b.o)(v()("body"))) {
                        var n = window.navigator.userAgent;
                        Object(b.n)(n) && Object(b.e)(n) < 11 || i._set3DSmoke()
                    }
                    return i._setPreorderLinkBtn(), i._reset(), i
                }
            }, {
                key: "_set3DSmoke",
                value: function() {
                    return this.smoke3D = new y.a({
                        $wrap: v()(".el-intro-smoke3d-wrap")
                    }).init().start(), this
                }
            }, {
                key: "_setPreorderLinkBtn",
                value: function() {
                    var t = v()(".btn-preorder", this.$wrap),
                        e = Object(b.g)(location.href) || {},
                        i = Object(b.i)(t.attr("href") || "", e);
                    t.attr("href", i), Object(b.o)(v()("body")) && t.attr("target", "_self"), t.on("click", function(t) {
                        window.ga && window.ga("send", {
                            hitType: "event",
                            eventCategory: "Click",
                            eventAction: "Preorder button",
                            eventLabel: x.b
                        });
                        var e = new Image;
                        Object(b.o)(v()("body")) ? e.src = x.c.MOBILE_PREORDER_BUTTON_CLICK : e.src = x.c.PC_PREORDER_BUTTON_CLICK,
                            function(t) {
                                if (window.gtag) {
                                    window.gtag("event", "conversion", {
                                        send_to: "AW-864659659/ZAGBCJG7yIgBEMvRppwD",
                                        transaction_id: "",
                                        event_callback: function() {}
                                    })
                                }
                            }()
                    })
                }
            }, {
                key: "enter",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._startAnimation(), this
                }
            }, {
                key: "exit",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._reset(), this
                }
            }, {
                key: "_startAnimation",
                value: function() {
                    console.log('hi')
                    var t = this;
                    return t.smoke3D && t.smoke3D.start(), _.a.to(t.$smoke, 2.5, {
                        y: 0,
                        scale: 1,
                        ease: Cubic.easeOut
                    }), _.a.to(t.$fire, 1.8, {
                        y: 0,
                        scale: 1,
                        opacity: 1,
                        ease: Cubic.easeOut
                    }), _.a.to(t.$character, 1.5, {
                        x: 0,
                        scale: 1,
                        ease: Expo.easeOut
                    }), _.a.to(t.$logo, .9, {
                        delay: .5,
                        scale: 1,
                        opacity: 1,
                        ease: Cubic.easeOut
                    }), _.a.to(t.$title, 1.5, {
                        delay: .5,
                        x: 0,
                        skewX: 0,
                        opacity: 1,
                        ease: Expo.easeOut
                    }), _.a.to(t.$subTitle, 1, {
                        delay: .5,
                        opacity: 1,
                        ease: Cubic.easeOut
                    }), _.a.to(t.$date, .9, {
                        delay: 1.2,
                        y: 0,
                        opacity: 1,
                        ease: Expo.easeOut
                    }), _.a.to(t.$preorderBtn, 1.2, {
                        delay: 1.5,
                        opacity: 1,
                        ease: Expo.easeOut
                    }), t
                }
            }, {
                key: "_reset",
                value: function() {
                    var t = this;
                    return t.smoke3D && t.smoke3D.stop(), _.a.killTweensOf(t.$smoke), _.a.killTweensOf(t.$fire), _.a.killTweensOf(t.$character), _.a.killTweensOf(t.$logo), _.a.killTweensOf(t.$title), _.a.killTweensOf(t.$subTitle), _.a.killTweensOf(t.$date), _.a.killTweensOf(t.$preorderBtn), _.a.set(t.$smoke, {
                        y: 50,
                        scale: .7
                    }), _.a.set(t.$fire, {
                        y: 50,
                        scale: .5,
                        opacity: 0
                    }), _.a.set(t.$character, {
                        x: 500,
                        scale: .85
                    }), _.a.set(t.$logo, {
                        scale: .85,
                        opacity: 0
                    }), _.a.set(t.$title, {
                        x: -75,
                        skewX: -30,
                        opacity: 0
                    }), _.a.set(t.$subTitle, {
                        opacity: 0
                    }), _.a.set(t.$date, {
                        y: 45,
                        opacity: 0
                    }), _.a.set(t.$preorderBtn, {
                        opacity: 0
                    }), t
                }
            }, {
                key: "resize",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "destroy", this).call(this, t);
                    return this
                }
            }]), e
        }(g.a);
    e.a = w
}, function(t, e, i) {
    "use strict";
    var n = i(100),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(328),
        u = i(13),
        h = function() {
            function t(e) {
                s()(this, t);
                var i = this;
                i.option = r()({
                    $wrap: null,
                    width: 2560,
                    height: 800
                }, e), i.$wrap = i.option.$wrap, i.clock, i.renderer, i.scene, i.ambientLight, i.camera, i.smokeParticles = [], i.delta = 0, i.requestAnimationId = null
            }
            return c()(t, [{
                key: "init",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    var t = this;
                    t.clock = new l.b, t.renderer = new l.i({
                        alpha: !0
                    }), t.renderer.setClearColor(0, 0), t.renderer.setSize(t.option.width, t.option.height), t.camera = new l.f(75, t.option.width / t.option.height, 1, 1e4), t.camera.position.z = 1e3, t.ambientLight = new l.a(13419182), t.scene = new l.h, t.scene.add(t.ambientLight), t.scene.add(t.camera), l.c.crossOrigin = "";
                    for (var e = l.c.loadTexture(t.getSmokeTexturePath()), i = new l.e({
                            color: 9663080,
                            opacity: .2,
                            map: e,
                            transparent: !0
                        }), n = new l.g(300, 300), r = 0; r < 150; r++) {
                        var o = new l.d(n, i);
                        o.position.set(Object(u.f)(-250, 250), Object(u.f)(-250, 50), Object(u.f)(-150, 850)), o.rotation.z = 360 * Math.random(), t.scene.add(o), t.smokeParticles.push(o)
                    }
                    return t.$wrap.append(t.renderer.domElement), t
                }
            }, {
                key: "animate",
                value: function() {
                    var t = this;
                    return t.delta = t.clock.getDelta(), t.requestAnimationId = window.requestAnimationFrame(t.animate.bind(t)), t.evolveSmoke(), t.render(), t
                }
            }, {
                key: "evolveSmoke",
                value: function() {
                    for (var t = this, e = t.smokeParticles.length; e--;) t.smokeParticles[e].rotation.z += .2 * t.delta;
                    return t
                }
            }, {
                key: "render",
                value: function() {
                    var t = this;
                    return t.renderer.render(t.scene, t.camera), t
                }
            }, {
                key: "getSmokeTexturePath",
                value: function() {
                    return "https://wstatic-cdn.plaync.com/promo/lineagem/update/2018/180912/img/smoke-element.png"
                }
            }, {
                key: "start",
                value: function() {
                    var t = this;
                    return t.requestAnimationId || (t.requestAnimationId = window.requestAnimationFrame(t.animate.bind(t))), t
                }
            }, {
                key: "stop",
                value: function() {
                    var t = this;
                    return t.requestAnimationId && (window.cancelAnimationFrame(t.requestAnimationId), t.requestAnimationId = null), t
                }
            }, {
                key: "destroy",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                }
            }]), t
        }();
    e.a = h
}, function(t, e, i) {
    "use strict";

    function n() {}
    i.d(e, "i", function() {
        return Pr
    }), i.d(e, "h", function() {
        return Ir
    }), i.d(e, "d", function() {
        return cn
    }), i.d(e, "a", function() {
        return ca
    }), i.d(e, "f", function() {
        return Cr
    }), i.d(e, "b", function() {
        return Lc
    }), i.d(e, "c", function() {
        return Ue
    }), i.d(e, "g", function() {
        return Ui
    }), i.d(e, "e", function() {
        return _s
    }), void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)), void 0 === Number.isInteger && (Number.isInteger = function(t) {
        return "number" == typeof t && isFinite(t) && Math.floor(t) === t
    }), void 0 === Math.sign && (Math.sign = function(t) {
        return t < 0 ? -1 : t > 0 ? 1 : +t
    }), "name" in Function.prototype == !1 && Object.defineProperty(Function.prototype, "name", {
        get: function() {
            return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
        }
    }), void 0 === Object.assign && (Object.assign = function(t) {
        if (void 0 === t || null === t) throw new TypeError("Cannot convert undefined or null to object");
        for (var e = Object(t), i = 1; i < arguments.length; i++) {
            var n = arguments[i];
            if (void 0 !== n && null !== n)
                for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
        }
        return e
    }), Object.assign(n.prototype, {
        addEventListener: function(t, e) {
            void 0 === this._listeners && (this._listeners = {});
            var i = this._listeners;
            void 0 === i[t] && (i[t] = []), -1 === i[t].indexOf(e) && i[t].push(e)
        },
        hasEventListener: function(t, e) {
            if (void 0 === this._listeners) return !1;
            var i = this._listeners;
            return void 0 !== i[t] && -1 !== i[t].indexOf(e)
        },
        removeEventListener: function(t, e) {
            if (void 0 !== this._listeners) {
                var i = this._listeners[t];
                if (void 0 !== i) {
                    var n = i.indexOf(e); - 1 !== n && i.splice(n, 1)
                }
            }
        },
        dispatchEvent: function(t) {
            if (void 0 !== this._listeners) {
                var e = this._listeners[t.type];
                if (void 0 !== e) {
                    t.target = this;
                    for (var i = e.slice(0), n = 0, r = i.length; n < r; n++) i[n].call(this, t)
                }
            }
        }
    });
    var r, o, s, a, c, l, u, h, p, d, f, m = 0,
        v = 1,
        g = 2,
        y = 1,
        _ = 2,
        b = 0,
        x = 1,
        w = 2,
        S = 0,
        M = 1,
        T = 2,
        A = 0,
        C = 1,
        E = 2,
        O = 3,
        P = 4,
        k = 5,
        L = 100,
        I = 101,
        R = 102,
        D = 103,
        N = 104,
        z = 200,
        F = 201,
        B = 202,
        j = 203,
        U = 204,
        V = 205,
        G = 206,
        W = 207,
        H = 208,
        $ = 209,
        X = 210,
        q = 0,
        Y = 1,
        Z = 2,
        J = 3,
        Q = 4,
        K = 5,
        tt = 6,
        et = 7,
        it = 0,
        nt = 1,
        rt = 2,
        ot = 0,
        st = 1,
        at = 2,
        ct = 3,
        lt = 4,
        ut = 301,
        ht = 302,
        pt = 303,
        dt = 304,
        ft = 305,
        mt = 306,
        vt = 307,
        gt = 1e3,
        yt = 1001,
        _t = 1002,
        bt = 1003,
        xt = 1004,
        wt = 1005,
        St = 1006,
        Mt = 1007,
        Tt = 1008,
        At = 1009,
        Ct = 1010,
        Et = 1011,
        Ot = 1012,
        Pt = 1013,
        kt = 1014,
        Lt = 1015,
        It = 1016,
        Rt = 1017,
        Dt = 1018,
        Nt = 1019,
        zt = 1020,
        Ft = 1021,
        Bt = 1022,
        jt = 1023,
        Ut = 1024,
        Vt = 1025,
        Gt = 1026,
        Wt = 1027,
        Ht = 33776,
        $t = 33777,
        Xt = 33778,
        qt = 33779,
        Yt = 35840,
        Zt = 35841,
        Jt = 35842,
        Qt = 35843,
        Kt = 36196,
        te = 37808,
        ee = 37809,
        ie = 37810,
        ne = 37811,
        re = 37812,
        oe = 37813,
        se = 37814,
        ae = 37815,
        ce = 37816,
        le = 37817,
        ue = 37818,
        he = 37819,
        pe = 37820,
        de = 37821,
        fe = 2201,
        me = 2400,
        ve = 0,
        ge = 1,
        ye = 2,
        _e = 3e3,
        be = 3001,
        xe = 3007,
        we = 3002,
        Se = 3004,
        Me = 3005,
        Te = 3006,
        Ae = 3200,
        Ce = 3201,
        Ee = 0,
        Oe = 1,
        Pe = {
            DEG2RAD: Math.PI / 180,
            RAD2DEG: 180 / Math.PI,
            generateUUID: function() {
                for (var t = [], e = 0; e < 256; e++) t[e] = (e < 16 ? "0" : "") + e.toString(16);
                return function() {
                    var e = 4294967295 * Math.random() | 0,
                        i = 4294967295 * Math.random() | 0,
                        n = 4294967295 * Math.random() | 0,
                        r = 4294967295 * Math.random() | 0;
                    return (t[255 & e] + t[e >> 8 & 255] + t[e >> 16 & 255] + t[e >> 24 & 255] + "-" + t[255 & i] + t[i >> 8 & 255] + "-" + t[i >> 16 & 15 | 64] + t[i >> 24 & 255] + "-" + t[63 & n | 128] + t[n >> 8 & 255] + "-" + t[n >> 16 & 255] + t[n >> 24 & 255] + t[255 & r] + t[r >> 8 & 255] + t[r >> 16 & 255] + t[r >> 24 & 255]).toUpperCase()
                }
            }(),
            clamp: function(t, e, i) {
                return Math.max(e, Math.min(i, t))
            },
            euclideanModulo: function(t, e) {
                return (t % e + e) % e
            },
            mapLinear: function(t, e, i, n, r) {
                return n + (t - e) * (r - n) / (i - e)
            },
            lerp: function(t, e, i) {
                return (1 - i) * t + i * e
            },
            smoothstep: function(t, e, i) {
                return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e)) * t * (3 - 2 * t)
            },
            smootherstep: function(t, e, i) {
                return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e)) * t * t * (t * (6 * t - 15) + 10)
            },
            randInt: function(t, e) {
                return t + Math.floor(Math.random() * (e - t + 1))
            },
            randFloat: function(t, e) {
                return t + Math.random() * (e - t)
            },
            randFloatSpread: function(t) {
                return t * (.5 - Math.random())
            },
            degToRad: function(t) {
                return t * Pe.DEG2RAD
            },
            radToDeg: function(t) {
                return t * Pe.RAD2DEG
            },
            isPowerOfTwo: function(t) {
                return 0 == (t & t - 1) && 0 !== t
            },
            ceilPowerOfTwo: function(t) {
                return Math.pow(2, Math.ceil(Math.log(t) / Math.LN2))
            },
            floorPowerOfTwo: function(t) {
                return Math.pow(2, Math.floor(Math.log(t) / Math.LN2))
            }
        };

    function ke(t, e) {
        this.x = t || 0, this.y = e || 0
    }

    function Le() {
        this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], arguments.length
    }

    function Ie(t, e, i, n) {
        this._x = t || 0, this._y = e || 0, this._z = i || 0, this._w = void 0 !== n ? n : 1
    }

    function Re(t, e, i) {
        this.x = t || 0, this.y = e || 0, this.z = i || 0
    }

    function De() {
        this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1], arguments.length
    }
    Object.defineProperties(ke.prototype, {
        width: {
            get: function() {
                return this.x
            },
            set: function(t) {
                this.x = t
            }
        },
        height: {
            get: function() {
                return this.y
            },
            set: function(t) {
                this.y = t
            }
        }
    }), Object.assign(ke.prototype, {
        isVector2: !0,
        set: function(t, e) {
            return this.x = t, this.y = e, this
        },
        setScalar: function(t) {
            return this.x = t, this.y = t, this
        },
        setX: function(t) {
            return this.x = t, this
        },
        setY: function(t) {
            return this.y = t, this
        },
        setComponent: function(t, e) {
            switch (t) {
                case 0:
                    this.x = e;
                    break;
                case 1:
                    this.y = e;
                    break;
                default:
                    throw new Error("index is out of range: " + t)
            }
            return this
        },
        getComponent: function(t) {
            switch (t) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                default:
                    throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x, this.y)
        },
        copy: function(t) {
            return this.x = t.x, this.y = t.y, this
        },
        add: function(t, e) {
            return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this)
        },
        addScalar: function(t) {
            return this.x += t, this.y += t, this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x, this.y = t.y + e.y, this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e, this.y += t.y * e, this
        },
        sub: function(t, e) {
            return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this)
        },
        subScalar: function(t) {
            return this.x -= t, this.y -= t, this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x, this.y = t.y - e.y, this
        },
        multiply: function(t) {
            return this.x *= t.x, this.y *= t.y, this
        },
        multiplyScalar: function(t) {
            return this.x *= t, this.y *= t, this
        },
        divide: function(t) {
            return this.x /= t.x, this.y /= t.y, this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        applyMatrix3: function(t) {
            var e = this.x,
                i = this.y,
                n = t.elements;
            return this.x = n[0] * e + n[3] * i + n[6], this.y = n[1] * e + n[4] * i + n[7], this
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this
        },
        clampScalar: (r = new ke, o = new ke, function(t, e) {
            return r.set(t, t), o.set(e, e), this.clamp(r, o)
        }),
        clampLength: function(t, e) {
            var i = this.length();
            return this.divideScalar(i || 1).multiplyScalar(Math.max(t, Math.min(e, i)))
        },
        floor: function() {
            return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
        },
        round: function() {
            return this.x = Math.round(this.x), this.y = Math.round(this.y), this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this
        },
        negate: function() {
            return this.x = -this.x, this.y = -this.y, this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y
        },
        cross: function(t) {
            return this.x * t.y - this.y * t.x
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y)
        },
        manhattanLength: function() {
            return Math.abs(this.x) + Math.abs(this.y)
        },
        normalize: function() {
            return this.divideScalar(this.length() || 1)
        },
        angle: function() {
            var t = Math.atan2(this.y, this.x);
            return t < 0 && (t += 2 * Math.PI), t
        },
        distanceTo: function(t) {
            return Math.sqrt(this.distanceToSquared(t))
        },
        distanceToSquared: function(t) {
            var e = this.x - t.x,
                i = this.y - t.y;
            return e * e + i * i
        },
        manhattanDistanceTo: function(t) {
            return Math.abs(this.x - t.x) + Math.abs(this.y - t.y)
        },
        setLength: function(t) {
            return this.normalize().multiplyScalar(t)
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this
        },
        lerpVectors: function(t, e, i) {
            return this.subVectors(e, t).multiplyScalar(i).add(t)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t
        },
        fromBufferAttribute: function(t, e, i) {
            return this.x = t.getX(e), this.y = t.getY(e), this
        },
        rotateAround: function(t, e) {
            var i = Math.cos(e),
                n = Math.sin(e),
                r = this.x - t.x,
                o = this.y - t.y;
            return this.x = r * i - o * n + t.x, this.y = r * n + o * i + t.y, this
        }
    }), Object.assign(Le.prototype, {
        isMatrix4: !0,
        set: function(t, e, i, n, r, o, s, a, c, l, u, h, p, d, f, m) {
            var v = this.elements;
            return v[0] = t, v[4] = e, v[8] = i, v[12] = n, v[1] = r, v[5] = o, v[9] = s, v[13] = a, v[2] = c, v[6] = l, v[10] = u, v[14] = h, v[3] = p, v[7] = d, v[11] = f, v[15] = m, this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
        },
        clone: function() {
            return (new Le).fromArray(this.elements)
        },
        copy: function(t) {
            var e = this.elements,
                i = t.elements;
            return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], e[9] = i[9], e[10] = i[10], e[11] = i[11], e[12] = i[12], e[13] = i[13], e[14] = i[14], e[15] = i[15], this
        },
        copyPosition: function(t) {
            var e = this.elements,
                i = t.elements;
            return e[12] = i[12], e[13] = i[13], e[14] = i[14], this
        },
        extractBasis: function(t, e, i) {
            return t.setFromMatrixColumn(this, 0), e.setFromMatrixColumn(this, 1), i.setFromMatrixColumn(this, 2), this
        },
        makeBasis: function(t, e, i) {
            return this.set(t.x, e.x, i.x, 0, t.y, e.y, i.y, 0, t.z, e.z, i.z, 0, 0, 0, 0, 1), this
        },
        extractRotation: (d = new Re, function(t) {
            var e = this.elements,
                i = t.elements,
                n = 1 / d.setFromMatrixColumn(t, 0).length(),
                r = 1 / d.setFromMatrixColumn(t, 1).length(),
                o = 1 / d.setFromMatrixColumn(t, 2).length();
            return e[0] = i[0] * n, e[1] = i[1] * n, e[2] = i[2] * n, e[3] = 0, e[4] = i[4] * r, e[5] = i[5] * r, e[6] = i[6] * r, e[7] = 0, e[8] = i[8] * o, e[9] = i[9] * o, e[10] = i[10] * o, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
        }),
        makeRotationFromEuler: function(t) {
            !t || t.isEuler;
            var e = this.elements,
                i = t.x,
                n = t.y,
                r = t.z,
                o = Math.cos(i),
                s = Math.sin(i),
                a = Math.cos(n),
                c = Math.sin(n),
                l = Math.cos(r),
                u = Math.sin(r);
            if ("XYZ" === t.order) {
                var h = o * l,
                    p = o * u,
                    d = s * l,
                    f = s * u;
                e[0] = a * l, e[4] = -a * u, e[8] = c, e[1] = p + d * c, e[5] = h - f * c, e[9] = -s * a, e[2] = f - h * c, e[6] = d + p * c, e[10] = o * a
            } else if ("YXZ" === t.order) {
                var m = a * l,
                    v = a * u,
                    g = c * l,
                    y = c * u;
                e[0] = m + y * s, e[4] = g * s - v, e[8] = o * c, e[1] = o * u, e[5] = o * l, e[9] = -s, e[2] = v * s - g, e[6] = y + m * s, e[10] = o * a
            } else if ("ZXY" === t.order) {
                m = a * l, v = a * u, g = c * l, y = c * u;
                e[0] = m - y * s, e[4] = -o * u, e[8] = g + v * s, e[1] = v + g * s, e[5] = o * l, e[9] = y - m * s, e[2] = -o * c, e[6] = s, e[10] = o * a
            } else if ("ZYX" === t.order) {
                h = o * l, p = o * u, d = s * l, f = s * u;
                e[0] = a * l, e[4] = d * c - p, e[8] = h * c + f, e[1] = a * u, e[5] = f * c + h, e[9] = p * c - d, e[2] = -c, e[6] = s * a, e[10] = o * a
            } else if ("YZX" === t.order) {
                var _ = o * a,
                    b = o * c,
                    x = s * a,
                    w = s * c;
                e[0] = a * l, e[4] = w - _ * u, e[8] = x * u + b, e[1] = u, e[5] = o * l, e[9] = -s * l, e[2] = -c * l, e[6] = b * u + x, e[10] = _ - w * u
            } else if ("XZY" === t.order) {
                _ = o * a, b = o * c, x = s * a, w = s * c;
                e[0] = a * l, e[4] = -u, e[8] = c * l, e[1] = _ * u + w, e[5] = o * l, e[9] = b * u - x, e[2] = x * u - b, e[6] = s * l, e[10] = w * u + _
            }
            return e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
        },
        makeRotationFromQuaternion: (h = new Re(0, 0, 0), p = new Re(1, 1, 1), function(t) {
            return this.compose(h, t, p)
        }),
        lookAt: (c = new Re, l = new Re, u = new Re, function(t, e, i) {
            var n = this.elements;
            return u.subVectors(t, e), 0 === u.lengthSq() && (u.z = 1), u.normalize(), c.crossVectors(i, u), 0 === c.lengthSq() && (1 === Math.abs(i.z) ? u.x += 1e-4 : u.z += 1e-4, u.normalize(), c.crossVectors(i, u)), c.normalize(), l.crossVectors(u, c), n[0] = c.x, n[4] = l.x, n[8] = u.x, n[1] = c.y, n[5] = l.y, n[9] = u.y, n[2] = c.z, n[6] = l.z, n[10] = u.z, this
        }),
        multiply: function(t, e) {
            return void 0 !== e ? this.multiplyMatrices(t, e) : this.multiplyMatrices(this, t)
        },
        premultiply: function(t) {
            return this.multiplyMatrices(t, this)
        },
        multiplyMatrices: function(t, e) {
            var i = t.elements,
                n = e.elements,
                r = this.elements,
                o = i[0],
                s = i[4],
                a = i[8],
                c = i[12],
                l = i[1],
                u = i[5],
                h = i[9],
                p = i[13],
                d = i[2],
                f = i[6],
                m = i[10],
                v = i[14],
                g = i[3],
                y = i[7],
                _ = i[11],
                b = i[15],
                x = n[0],
                w = n[4],
                S = n[8],
                M = n[12],
                T = n[1],
                A = n[5],
                C = n[9],
                E = n[13],
                O = n[2],
                P = n[6],
                k = n[10],
                L = n[14],
                I = n[3],
                R = n[7],
                D = n[11],
                N = n[15];
            return r[0] = o * x + s * T + a * O + c * I, r[4] = o * w + s * A + a * P + c * R, r[8] = o * S + s * C + a * k + c * D, r[12] = o * M + s * E + a * L + c * N, r[1] = l * x + u * T + h * O + p * I, r[5] = l * w + u * A + h * P + p * R, r[9] = l * S + u * C + h * k + p * D, r[13] = l * M + u * E + h * L + p * N, r[2] = d * x + f * T + m * O + v * I, r[6] = d * w + f * A + m * P + v * R, r[10] = d * S + f * C + m * k + v * D, r[14] = d * M + f * E + m * L + v * N, r[3] = g * x + y * T + _ * O + b * I, r[7] = g * w + y * A + _ * P + b * R, r[11] = g * S + y * C + _ * k + b * D, r[15] = g * M + y * E + _ * L + b * N, this
        },
        multiplyScalar: function(t) {
            var e = this.elements;
            return e[0] *= t, e[4] *= t, e[8] *= t, e[12] *= t, e[1] *= t, e[5] *= t, e[9] *= t, e[13] *= t, e[2] *= t, e[6] *= t, e[10] *= t, e[14] *= t, e[3] *= t, e[7] *= t, e[11] *= t, e[15] *= t, this
        },
        applyToBufferAttribute: function() {
            var t = new Re;
            return function(e) {
                for (var i = 0, n = e.count; i < n; i++) t.x = e.getX(i), t.y = e.getY(i), t.z = e.getZ(i), t.applyMatrix4(this), e.setXYZ(i, t.x, t.y, t.z);
                return e
            }
        }(),
        determinant: function() {
            var t = this.elements,
                e = t[0],
                i = t[4],
                n = t[8],
                r = t[12],
                o = t[1],
                s = t[5],
                a = t[9],
                c = t[13],
                l = t[2],
                u = t[6],
                h = t[10],
                p = t[14];
            return t[3] * (+r * a * u - n * c * u - r * s * h + i * c * h + n * s * p - i * a * p) + t[7] * (+e * a * p - e * c * h + r * o * h - n * o * p + n * c * l - r * a * l) + t[11] * (+e * c * u - e * s * p - r * o * u + i * o * p + r * s * l - i * c * l) + t[15] * (-n * s * l - e * a * u + e * s * h + n * o * u - i * o * h + i * a * l)
        },
        transpose: function() {
            var t, e = this.elements;
            return t = e[1], e[1] = e[4], e[4] = t, t = e[2], e[2] = e[8], e[8] = t, t = e[6], e[6] = e[9], e[9] = t, t = e[3], e[3] = e[12], e[12] = t, t = e[7], e[7] = e[13], e[13] = t, t = e[11], e[11] = e[14], e[14] = t, this
        },
        setPosition: function(t) {
            var e = this.elements;
            return e[12] = t.x, e[13] = t.y, e[14] = t.z, this
        },
        getInverse: function(t, e) {
            var i = this.elements,
                n = t.elements,
                r = n[0],
                o = n[1],
                s = n[2],
                a = n[3],
                c = n[4],
                l = n[5],
                u = n[6],
                h = n[7],
                p = n[8],
                d = n[9],
                f = n[10],
                m = n[11],
                v = n[12],
                g = n[13],
                y = n[14],
                _ = n[15],
                b = d * y * h - g * f * h + g * u * m - l * y * m - d * u * _ + l * f * _,
                x = v * f * h - p * y * h - v * u * m + c * y * m + p * u * _ - c * f * _,
                w = p * g * h - v * d * h + v * l * m - c * g * m - p * l * _ + c * d * _,
                S = v * d * u - p * g * u - v * l * f + c * g * f + p * l * y - c * d * y,
                M = r * b + o * x + s * w + a * S;
            if (0 === M) {
                var T = "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";
                if (!0 === e) throw new Error(T);
                return this.identity()
            }
            var A = 1 / M;
            return i[0] = b * A, i[1] = (g * f * a - d * y * a - g * s * m + o * y * m + d * s * _ - o * f * _) * A, i[2] = (l * y * a - g * u * a + g * s * h - o * y * h - l * s * _ + o * u * _) * A, i[3] = (d * u * a - l * f * a - d * s * h + o * f * h + l * s * m - o * u * m) * A, i[4] = x * A, i[5] = (p * y * a - v * f * a + v * s * m - r * y * m - p * s * _ + r * f * _) * A, i[6] = (v * u * a - c * y * a - v * s * h + r * y * h + c * s * _ - r * u * _) * A, i[7] = (c * f * a - p * u * a + p * s * h - r * f * h - c * s * m + r * u * m) * A, i[8] = w * A, i[9] = (v * d * a - p * g * a - v * o * m + r * g * m + p * o * _ - r * d * _) * A, i[10] = (c * g * a - v * l * a + v * o * h - r * g * h - c * o * _ + r * l * _) * A, i[11] = (p * l * a - c * d * a - p * o * h + r * d * h + c * o * m - r * l * m) * A, i[12] = S * A, i[13] = (p * g * s - v * d * s + v * o * f - r * g * f - p * o * y + r * d * y) * A, i[14] = (v * l * s - c * g * s - v * o * u + r * g * u + c * o * y - r * l * y) * A, i[15] = (c * d * s - p * l * s + p * o * u - r * d * u - c * o * f + r * l * f) * A, this
        },
        scale: function(t) {
            var e = this.elements,
                i = t.x,
                n = t.y,
                r = t.z;
            return e[0] *= i, e[4] *= n, e[8] *= r, e[1] *= i, e[5] *= n, e[9] *= r, e[2] *= i, e[6] *= n, e[10] *= r, e[3] *= i, e[7] *= n, e[11] *= r, this
        },
        getMaxScaleOnAxis: function() {
            var t = this.elements,
                e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2],
                i = t[4] * t[4] + t[5] * t[5] + t[6] * t[6],
                n = t[8] * t[8] + t[9] * t[9] + t[10] * t[10];
            return Math.sqrt(Math.max(e, i, n))
        },
        makeTranslation: function(t, e, i) {
            return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, i, 0, 0, 0, 1), this
        },
        makeRotationX: function(t) {
            var e = Math.cos(t),
                i = Math.sin(t);
            return this.set(1, 0, 0, 0, 0, e, -i, 0, 0, i, e, 0, 0, 0, 0, 1), this
        },
        makeRotationY: function(t) {
            var e = Math.cos(t),
                i = Math.sin(t);
            return this.set(e, 0, i, 0, 0, 1, 0, 0, -i, 0, e, 0, 0, 0, 0, 1), this
        },
        makeRotationZ: function(t) {
            var e = Math.cos(t),
                i = Math.sin(t);
            return this.set(e, -i, 0, 0, i, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
        },
        makeRotationAxis: function(t, e) {
            var i = Math.cos(e),
                n = Math.sin(e),
                r = 1 - i,
                o = t.x,
                s = t.y,
                a = t.z,
                c = r * o,
                l = r * s;
            return this.set(c * o + i, c * s - n * a, c * a + n * s, 0, c * s + n * a, l * s + i, l * a - n * o, 0, c * a - n * s, l * a + n * o, r * a * a + i, 0, 0, 0, 0, 1), this
        },
        makeScale: function(t, e, i) {
            return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this
        },
        makeShear: function(t, e, i) {
            return this.set(1, e, i, 0, t, 1, i, 0, t, e, 1, 0, 0, 0, 0, 1), this
        },
        compose: function(t, e, i) {
            var n = this.elements,
                r = e._x,
                o = e._y,
                s = e._z,
                a = e._w,
                c = r + r,
                l = o + o,
                u = s + s,
                h = r * c,
                p = r * l,
                d = r * u,
                f = o * l,
                m = o * u,
                v = s * u,
                g = a * c,
                y = a * l,
                _ = a * u,
                b = i.x,
                x = i.y,
                w = i.z;
            return n[0] = (1 - (f + v)) * b, n[1] = (p + _) * b, n[2] = (d - y) * b, n[3] = 0, n[4] = (p - _) * x, n[5] = (1 - (h + v)) * x, n[6] = (m + g) * x, n[7] = 0, n[8] = (d + y) * w, n[9] = (m - g) * w, n[10] = (1 - (h + f)) * w, n[11] = 0, n[12] = t.x, n[13] = t.y, n[14] = t.z, n[15] = 1, this
        },
        decompose: (s = new Re, a = new Le, function(t, e, i) {
            var n = this.elements,
                r = s.set(n[0], n[1], n[2]).length(),
                o = s.set(n[4], n[5], n[6]).length(),
                c = s.set(n[8], n[9], n[10]).length();
            this.determinant() < 0 && (r = -r), t.x = n[12], t.y = n[13], t.z = n[14], a.copy(this);
            var l = 1 / r,
                u = 1 / o,
                h = 1 / c;
            return a.elements[0] *= l, a.elements[1] *= l, a.elements[2] *= l, a.elements[4] *= u, a.elements[5] *= u, a.elements[6] *= u, a.elements[8] *= h, a.elements[9] *= h, a.elements[10] *= h, e.setFromRotationMatrix(a), i.x = r, i.y = o, i.z = c, this
        }),
        makePerspective: function(t, e, i, n, r, o) {
            var s = this.elements,
                a = 2 * r / (e - t),
                c = 2 * r / (i - n),
                l = (e + t) / (e - t),
                u = (i + n) / (i - n),
                h = -(o + r) / (o - r),
                p = -2 * o * r / (o - r);
            return s[0] = a, s[4] = 0, s[8] = l, s[12] = 0, s[1] = 0, s[5] = c, s[9] = u, s[13] = 0, s[2] = 0, s[6] = 0, s[10] = h, s[14] = p, s[3] = 0, s[7] = 0, s[11] = -1, s[15] = 0, this
        },
        makeOrthographic: function(t, e, i, n, r, o) {
            var s = this.elements,
                a = 1 / (e - t),
                c = 1 / (i - n),
                l = 1 / (o - r),
                u = (e + t) * a,
                h = (i + n) * c,
                p = (o + r) * l;
            return s[0] = 2 * a, s[4] = 0, s[8] = 0, s[12] = -u, s[1] = 0, s[5] = 2 * c, s[9] = 0, s[13] = -h, s[2] = 0, s[6] = 0, s[10] = -2 * l, s[14] = -p, s[3] = 0, s[7] = 0, s[11] = 0, s[15] = 1, this
        },
        equals: function(t) {
            for (var e = this.elements, i = t.elements, n = 0; n < 16; n++)
                if (e[n] !== i[n]) return !1;
            return !0
        },
        fromArray: function(t, e) {
            void 0 === e && (e = 0);
            for (var i = 0; i < 16; i++) this.elements[i] = t[i + e];
            return this
        },
        toArray: function(t, e) {
            void 0 === t && (t = []), void 0 === e && (e = 0);
            var i = this.elements;
            return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t[e + 9] = i[9], t[e + 10] = i[10], t[e + 11] = i[11], t[e + 12] = i[12], t[e + 13] = i[13], t[e + 14] = i[14], t[e + 15] = i[15], t
        }
    }), Object.assign(Ie, {
        slerp: function(t, e, i, n) {
            return i.copy(t).slerp(e, n)
        },
        slerpFlat: function(t, e, i, n, r, o, s) {
            var a = i[n + 0],
                c = i[n + 1],
                l = i[n + 2],
                u = i[n + 3],
                h = r[o + 0],
                p = r[o + 1],
                d = r[o + 2],
                f = r[o + 3];
            if (u !== f || a !== h || c !== p || l !== d) {
                var m = 1 - s,
                    v = a * h + c * p + l * d + u * f,
                    g = v >= 0 ? 1 : -1,
                    y = 1 - v * v;
                if (y > Number.EPSILON) {
                    var _ = Math.sqrt(y),
                        b = Math.atan2(_, v * g);
                    m = Math.sin(m * b) / _, s = Math.sin(s * b) / _
                }
                var x = s * g;
                if (a = a * m + h * x, c = c * m + p * x, l = l * m + d * x, u = u * m + f * x, m === 1 - s) {
                    var w = 1 / Math.sqrt(a * a + c * c + l * l + u * u);
                    a *= w, c *= w, l *= w, u *= w
                }
            }
            t[e] = a, t[e + 1] = c, t[e + 2] = l, t[e + 3] = u
        }
    }), Object.defineProperties(Ie.prototype, {
        x: {
            get: function() {
                return this._x
            },
            set: function(t) {
                this._x = t, this.onChangeCallback()
            }
        },
        y: {
            get: function() {
                return this._y
            },
            set: function(t) {
                this._y = t, this.onChangeCallback()
            }
        },
        z: {
            get: function() {
                return this._z
            },
            set: function(t) {
                this._z = t, this.onChangeCallback()
            }
        },
        w: {
            get: function() {
                return this._w
            },
            set: function(t) {
                this._w = t, this.onChangeCallback()
            }
        }
    }), Object.assign(Ie.prototype, {
        set: function(t, e, i, n) {
            return this._x = t, this._y = e, this._z = i, this._w = n, this.onChangeCallback(), this
        },
        clone: function() {
            return new this.constructor(this._x, this._y, this._z, this._w)
        },
        copy: function(t) {
            return this._x = t.x, this._y = t.y, this._z = t.z, this._w = t.w, this.onChangeCallback(), this
        },
        setFromEuler: function(t, e) {
            if (!t || !t.isEuler) throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
            var i = t._x,
                n = t._y,
                r = t._z,
                o = t.order,
                s = Math.cos,
                a = Math.sin,
                c = s(i / 2),
                l = s(n / 2),
                u = s(r / 2),
                h = a(i / 2),
                p = a(n / 2),
                d = a(r / 2);
            return "XYZ" === o ? (this._x = h * l * u + c * p * d, this._y = c * p * u - h * l * d, this._z = c * l * d + h * p * u, this._w = c * l * u - h * p * d) : "YXZ" === o ? (this._x = h * l * u + c * p * d, this._y = c * p * u - h * l * d, this._z = c * l * d - h * p * u, this._w = c * l * u + h * p * d) : "ZXY" === o ? (this._x = h * l * u - c * p * d, this._y = c * p * u + h * l * d, this._z = c * l * d + h * p * u, this._w = c * l * u - h * p * d) : "ZYX" === o ? (this._x = h * l * u - c * p * d, this._y = c * p * u + h * l * d, this._z = c * l * d - h * p * u, this._w = c * l * u + h * p * d) : "YZX" === o ? (this._x = h * l * u + c * p * d, this._y = c * p * u + h * l * d, this._z = c * l * d - h * p * u, this._w = c * l * u - h * p * d) : "XZY" === o && (this._x = h * l * u - c * p * d, this._y = c * p * u - h * l * d, this._z = c * l * d + h * p * u, this._w = c * l * u + h * p * d), !1 !== e && this.onChangeCallback(), this
        },
        setFromAxisAngle: function(t, e) {
            var i = e / 2,
                n = Math.sin(i);
            return this._x = t.x * n, this._y = t.y * n, this._z = t.z * n, this._w = Math.cos(i), this.onChangeCallback(), this
        },
        setFromRotationMatrix: function(t) {
            var e, i = t.elements,
                n = i[0],
                r = i[4],
                o = i[8],
                s = i[1],
                a = i[5],
                c = i[9],
                l = i[2],
                u = i[6],
                h = i[10],
                p = n + a + h;
            return p > 0 ? (e = .5 / Math.sqrt(p + 1), this._w = .25 / e, this._x = (u - c) * e, this._y = (o - l) * e, this._z = (s - r) * e) : n > a && n > h ? (e = 2 * Math.sqrt(1 + n - a - h), this._w = (u - c) / e, this._x = .25 * e, this._y = (r + s) / e, this._z = (o + l) / e) : a > h ? (e = 2 * Math.sqrt(1 + a - n - h), this._w = (o - l) / e, this._x = (r + s) / e, this._y = .25 * e, this._z = (c + u) / e) : (e = 2 * Math.sqrt(1 + h - n - a), this._w = (s - r) / e, this._x = (o + l) / e, this._y = (c + u) / e, this._z = .25 * e), this.onChangeCallback(), this
        },
        setFromUnitVectors: function() {
            var t, e = new Re;
            return function(i, n) {
                return void 0 === e && (e = new Re), (t = i.dot(n) + 1) < 1e-6 ? (t = 0, Math.abs(i.x) > Math.abs(i.z) ? e.set(-i.y, i.x, 0) : e.set(0, -i.z, i.y)) : e.crossVectors(i, n), this._x = e.x, this._y = e.y, this._z = e.z, this._w = t, this.normalize()
            }
        }(),
        angleTo: function(t) {
            return 2 * Math.acos(Math.abs(Pe.clamp(this.dot(t), -1, 1)))
        },
        rotateTowards: function(t, e) {
            var i = this.angleTo(t);
            if (0 === i) return this;
            var n = Math.min(1, e / i);
            return this.slerp(t, n), this
        },
        inverse: function() {
            return this.conjugate()
        },
        conjugate: function() {
            return this._x *= -1, this._y *= -1, this._z *= -1, this.onChangeCallback(), this
        },
        dot: function(t) {
            return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
        },
        lengthSq: function() {
            return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
        },
        length: function() {
            return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
        },
        normalize: function() {
            var t = this.length();
            return 0 === t ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (t = 1 / t, this._x = this._x * t, this._y = this._y * t, this._z = this._z * t, this._w = this._w * t), this.onChangeCallback(), this
        },
        multiply: function(t, e) {
            return void 0 !== e ? this.multiplyQuaternions(t, e) : this.multiplyQuaternions(this, t)
        },
        premultiply: function(t) {
            return this.multiplyQuaternions(t, this)
        },
        multiplyQuaternions: function(t, e) {
            var i = t._x,
                n = t._y,
                r = t._z,
                o = t._w,
                s = e._x,
                a = e._y,
                c = e._z,
                l = e._w;
            return this._x = i * l + o * s + n * c - r * a, this._y = n * l + o * a + r * s - i * c, this._z = r * l + o * c + i * a - n * s, this._w = o * l - i * s - n * a - r * c, this.onChangeCallback(), this
        },
        slerp: function(t, e) {
            if (0 === e) return this;
            if (1 === e) return this.copy(t);
            var i = this._x,
                n = this._y,
                r = this._z,
                o = this._w,
                s = o * t._w + i * t._x + n * t._y + r * t._z;
            if (s < 0 ? (this._w = -t._w, this._x = -t._x, this._y = -t._y, this._z = -t._z, s = -s) : this.copy(t), s >= 1) return this._w = o, this._x = i, this._y = n, this._z = r, this;
            var a = 1 - s * s;
            if (a <= Number.EPSILON) {
                var c = 1 - e;
                return this._w = c * o + e * this._w, this._x = c * i + e * this._x, this._y = c * n + e * this._y, this._z = c * r + e * this._z, this.normalize()
            }
            var l = Math.sqrt(a),
                u = Math.atan2(l, s),
                h = Math.sin((1 - e) * u) / l,
                p = Math.sin(e * u) / l;
            return this._w = o * h + this._w * p, this._x = i * h + this._x * p, this._y = n * h + this._y * p, this._z = r * h + this._z * p, this.onChangeCallback(), this
        },
        equals: function(t) {
            return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0), this._x = t[e], this._y = t[e + 1], this._z = t[e + 2], this._w = t[e + 3], this.onChangeCallback(), this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._w, t
        },
        onChange: function(t) {
            return this.onChangeCallback = t, this
        },
        onChangeCallback: function() {}
    }), Object.assign(Re.prototype, {
        isVector3: !0,
        set: function(t, e, i) {
            return this.x = t, this.y = e, this.z = i, this
        },
        setScalar: function(t) {
            return this.x = t, this.y = t, this.z = t, this
        },
        setX: function(t) {
            return this.x = t, this
        },
        setY: function(t) {
            return this.y = t, this
        },
        setZ: function(t) {
            return this.z = t, this
        },
        setComponent: function(t, e) {
            switch (t) {
                case 0:
                    this.x = e;
                    break;
                case 1:
                    this.y = e;
                    break;
                case 2:
                    this.z = e;
                    break;
                default:
                    throw new Error("index is out of range: " + t)
            }
            return this
        },
        getComponent: function(t) {
            switch (t) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                case 2:
                    return this.z;
                default:
                    throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x, this.y, this.z)
        },
        copy: function(t) {
            return this.x = t.x, this.y = t.y, this.z = t.z, this
        },
        add: function(t, e) {
            return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this.z += t.z, this)
        },
        addScalar: function(t) {
            return this.x += t, this.y += t, this.z += t, this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this
        },
        sub: function(t, e) {
            return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this)
        },
        subScalar: function(t) {
            return this.x -= t, this.y -= t, this.z -= t, this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this
        },
        multiply: function(t, e) {
            return void 0 !== e ? this.multiplyVectors(t, e) : (this.x *= t.x, this.y *= t.y, this.z *= t.z, this)
        },
        multiplyScalar: function(t) {
            return this.x *= t, this.y *= t, this.z *= t, this
        },
        multiplyVectors: function(t, e) {
            return this.x = t.x * e.x, this.y = t.y * e.y, this.z = t.z * e.z, this
        },
        applyEuler: (f = new Ie, function(t) {
            return !t || t.isEuler, this.applyQuaternion(f.setFromEuler(t))
        }),
        applyAxisAngle: function() {
            var t = new Ie;
            return function(e, i) {
                return this.applyQuaternion(t.setFromAxisAngle(e, i))
            }
        }(),
        applyMatrix3: function(t) {
            var e = this.x,
                i = this.y,
                n = this.z,
                r = t.elements;
            return this.x = r[0] * e + r[3] * i + r[6] * n, this.y = r[1] * e + r[4] * i + r[7] * n, this.z = r[2] * e + r[5] * i + r[8] * n, this
        },
        applyMatrix4: function(t) {
            var e = this.x,
                i = this.y,
                n = this.z,
                r = t.elements,
                o = 1 / (r[3] * e + r[7] * i + r[11] * n + r[15]);
            return this.x = (r[0] * e + r[4] * i + r[8] * n + r[12]) * o, this.y = (r[1] * e + r[5] * i + r[9] * n + r[13]) * o, this.z = (r[2] * e + r[6] * i + r[10] * n + r[14]) * o, this
        },
        applyQuaternion: function(t) {
            var e = this.x,
                i = this.y,
                n = this.z,
                r = t.x,
                o = t.y,
                s = t.z,
                a = t.w,
                c = a * e + o * n - s * i,
                l = a * i + s * e - r * n,
                u = a * n + r * i - o * e,
                h = -r * e - o * i - s * n;
            return this.x = c * a + h * -r + l * -s - u * -o, this.y = l * a + h * -o + u * -r - c * -s, this.z = u * a + h * -s + c * -o - l * -r, this
        },
        project: function(t) {
            return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)
        },
        unproject: function() {
            var t = new Le;
            return function(e) {
                return this.applyMatrix4(t.getInverse(e.projectionMatrix)).applyMatrix4(e.matrixWorld)
            }
        }(),
        transformDirection: function(t) {
            var e = this.x,
                i = this.y,
                n = this.z,
                r = t.elements;
            return this.x = r[0] * e + r[4] * i + r[8] * n, this.y = r[1] * e + r[5] * i + r[9] * n, this.z = r[2] * e + r[6] * i + r[10] * n, this.normalize()
        },
        divide: function(t) {
            return this.x /= t.x, this.y /= t.y, this.z /= t.z, this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this
        },
        clampScalar: function() {
            var t = new Re,
                e = new Re;
            return function(i, n) {
                return t.set(i, i, i), e.set(n, n, n), this.clamp(t, e)
            }
        }(),
        clampLength: function(t, e) {
            var i = this.length();
            return this.divideScalar(i || 1).multiplyScalar(Math.max(t, Math.min(e, i)))
        },
        floor: function() {
            return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this
        },
        round: function() {
            return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this
        },
        negate: function() {
            return this.x = -this.x, this.y = -this.y, this.z = -this.z, this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y + this.z * t.z
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
        },
        manhattanLength: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
        },
        normalize: function() {
            return this.divideScalar(this.length() || 1)
        },
        setLength: function(t) {
            return this.normalize().multiplyScalar(t)
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this
        },
        lerpVectors: function(t, e, i) {
            return this.subVectors(e, t).multiplyScalar(i).add(t)
        },
        cross: function(t, e) {
            return void 0 !== e ? this.crossVectors(t, e) : this.crossVectors(this, t)
        },
        crossVectors: function(t, e) {
            var i = t.x,
                n = t.y,
                r = t.z,
                o = e.x,
                s = e.y,
                a = e.z;
            return this.x = n * a - r * s, this.y = r * o - i * a, this.z = i * s - n * o, this
        },
        projectOnVector: function(t) {
            var e = t.dot(this) / t.lengthSq();
            return this.copy(t).multiplyScalar(e)
        },
        projectOnPlane: function() {
            var t = new Re;
            return function(e) {
                return t.copy(this).projectOnVector(e), this.sub(t)
            }
        }(),
        reflect: function() {
            var t = new Re;
            return function(e) {
                return this.sub(t.copy(e).multiplyScalar(2 * this.dot(e)))
            }
        }(),
        angleTo: function(t) {
            var e = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq());
            return Math.acos(Pe.clamp(e, -1, 1))
        },
        distanceTo: function(t) {
            return Math.sqrt(this.distanceToSquared(t))
        },
        distanceToSquared: function(t) {
            var e = this.x - t.x,
                i = this.y - t.y,
                n = this.z - t.z;
            return e * e + i * i + n * n
        },
        manhattanDistanceTo: function(t) {
            return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z)
        },
        setFromSpherical: function(t) {
            return this.setFromSphericalCoords(t.radius, t.phi, t.theta)
        },
        setFromSphericalCoords: function(t, e, i) {
            var n = Math.sin(e) * t;
            return this.x = n * Math.sin(i), this.y = Math.cos(e) * t, this.z = n * Math.cos(i), this
        },
        setFromCylindrical: function(t) {
            return this.setFromCylindricalCoords(t.radius, t.theta, t.y)
        },
        setFromCylindricalCoords: function(t, e, i) {
            return this.x = t * Math.sin(e), this.y = i, this.z = t * Math.cos(e), this
        },
        setFromMatrixPosition: function(t) {
            var e = t.elements;
            return this.x = e[12], this.y = e[13], this.z = e[14], this
        },
        setFromMatrixScale: function(t) {
            var e = this.setFromMatrixColumn(t, 0).length(),
                i = this.setFromMatrixColumn(t, 1).length(),
                n = this.setFromMatrixColumn(t, 2).length();
            return this.x = e, this.y = i, this.z = n, this
        },
        setFromMatrixColumn: function(t, e) {
            return this.fromArray(t.elements, 4 * e)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y && t.z === this.z
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t
        },
        fromBufferAttribute: function(t, e, i) {
            return this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this
        }
    }), Object.assign(De.prototype, {
        isMatrix3: !0,
        set: function(t, e, i, n, r, o, s, a, c) {
            var l = this.elements;
            return l[0] = t, l[1] = n, l[2] = s, l[3] = e, l[4] = r, l[5] = a, l[6] = i, l[7] = o, l[8] = c, this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
        },
        clone: function() {
            return (new this.constructor).fromArray(this.elements)
        },
        copy: function(t) {
            var e = this.elements,
                i = t.elements;
            return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], this
        },
        setFromMatrix4: function(t) {
            var e = t.elements;
            return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]), this
        },
        applyToBufferAttribute: function() {
            var t = new Re;
            return function(e) {
                for (var i = 0, n = e.count; i < n; i++) t.x = e.getX(i), t.y = e.getY(i), t.z = e.getZ(i), t.applyMatrix3(this), e.setXYZ(i, t.x, t.y, t.z);
                return e
            }
        }(),
        multiply: function(t) {
            return this.multiplyMatrices(this, t)
        },
        premultiply: function(t) {
            return this.multiplyMatrices(t, this)
        },
        multiplyMatrices: function(t, e) {
            var i = t.elements,
                n = e.elements,
                r = this.elements,
                o = i[0],
                s = i[3],
                a = i[6],
                c = i[1],
                l = i[4],
                u = i[7],
                h = i[2],
                p = i[5],
                d = i[8],
                f = n[0],
                m = n[3],
                v = n[6],
                g = n[1],
                y = n[4],
                _ = n[7],
                b = n[2],
                x = n[5],
                w = n[8];
            return r[0] = o * f + s * g + a * b, r[3] = o * m + s * y + a * x, r[6] = o * v + s * _ + a * w, r[1] = c * f + l * g + u * b, r[4] = c * m + l * y + u * x, r[7] = c * v + l * _ + u * w, r[2] = h * f + p * g + d * b, r[5] = h * m + p * y + d * x, r[8] = h * v + p * _ + d * w, this
        },
        multiplyScalar: function(t) {
            var e = this.elements;
            return e[0] *= t, e[3] *= t, e[6] *= t, e[1] *= t, e[4] *= t, e[7] *= t, e[2] *= t, e[5] *= t, e[8] *= t, this
        },
        determinant: function() {
            var t = this.elements,
                e = t[0],
                i = t[1],
                n = t[2],
                r = t[3],
                o = t[4],
                s = t[5],
                a = t[6],
                c = t[7],
                l = t[8];
            return e * o * l - e * s * c - i * r * l + i * s * a + n * r * c - n * o * a
        },
        getInverse: function(t, e) {
            t && t.isMatrix4;
            var i = t.elements,
                n = this.elements,
                r = i[0],
                o = i[1],
                s = i[2],
                a = i[3],
                c = i[4],
                l = i[5],
                u = i[6],
                h = i[7],
                p = i[8],
                d = p * c - l * h,
                f = l * u - p * a,
                m = h * a - c * u,
                v = r * d + o * f + s * m;
            if (0 === v) {
                var g = "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";
                if (!0 === e) throw new Error(g);
                return this.identity()
            }
            var y = 1 / v;
            return n[0] = d * y, n[1] = (s * h - p * o) * y, n[2] = (l * o - s * c) * y, n[3] = f * y, n[4] = (p * r - s * u) * y, n[5] = (s * a - l * r) * y, n[6] = m * y, n[7] = (o * u - h * r) * y, n[8] = (c * r - o * a) * y, this
        },
        transpose: function() {
            var t, e = this.elements;
            return t = e[1], e[1] = e[3], e[3] = t, t = e[2], e[2] = e[6], e[6] = t, t = e[5], e[5] = e[7], e[7] = t, this
        },
        getNormalMatrix: function(t) {
            return this.setFromMatrix4(t).getInverse(this).transpose()
        },
        transposeIntoArray: function(t) {
            var e = this.elements;
            return t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8], this
        },
        setUvTransform: function(t, e, i, n, r, o, s) {
            var a = Math.cos(r),
                c = Math.sin(r);
            this.set(i * a, i * c, -i * (a * o + c * s) + o + t, -n * c, n * a, -n * (-c * o + a * s) + s + e, 0, 0, 1)
        },
        scale: function(t, e) {
            var i = this.elements;
            return i[0] *= t, i[3] *= t, i[6] *= t, i[1] *= e, i[4] *= e, i[7] *= e, this
        },
        rotate: function(t) {
            var e = Math.cos(t),
                i = Math.sin(t),
                n = this.elements,
                r = n[0],
                o = n[3],
                s = n[6],
                a = n[1],
                c = n[4],
                l = n[7];
            return n[0] = e * r + i * a, n[3] = e * o + i * c, n[6] = e * s + i * l, n[1] = -i * r + e * a, n[4] = -i * o + e * c, n[7] = -i * s + e * l, this
        },
        translate: function(t, e) {
            var i = this.elements;
            return i[0] += t * i[2], i[3] += t * i[5], i[6] += t * i[8], i[1] += e * i[2], i[4] += e * i[5], i[7] += e * i[8], this
        },
        equals: function(t) {
            for (var e = this.elements, i = t.elements, n = 0; n < 9; n++)
                if (e[n] !== i[n]) return !1;
            return !0
        },
        fromArray: function(t, e) {
            void 0 === e && (e = 0);
            for (var i = 0; i < 9; i++) this.elements[i] = t[i + e];
            return this
        },
        toArray: function(t, e) {
            void 0 === t && (t = []), void 0 === e && (e = 0);
            var i = this.elements;
            return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t
        }
    });
    var Ne, ze, Fe, Be, je, Ue = {
            getDataURL: function(t) {
                var e;
                if (t instanceof HTMLCanvasElement) e = t;
                else {
                    (e = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")).width = t.width, e.height = t.height;
                    var i = e.getContext("2d");
                    t instanceof ImageData ? i.putImageData(t, 0, 0) : i.drawImage(t, 0, 0, t.width, t.height)
                }
                return e.width > 2048 || e.height > 2048 ? e.toDataURL("image/jpeg", .6) : e.toDataURL("image/png")
            }
        },
        Ve = 0;

    function Ge(t, e, i, n, r, o, s, a, c, l) {
        Object.defineProperty(this, "id", {
            value: Ve++
        }), this.uuid = Pe.generateUUID(), this.name = "", this.image = void 0 !== t ? t : Ge.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== e ? e : Ge.DEFAULT_MAPPING, this.wrapS = void 0 !== i ? i : yt, this.wrapT = void 0 !== n ? n : yt, this.magFilter = void 0 !== r ? r : St, this.minFilter = void 0 !== o ? o : Tt, this.anisotropy = void 0 !== c ? c : 1, this.format = void 0 !== s ? s : jt, this.type = void 0 !== a ? a : At, this.offset = new ke(0, 0), this.repeat = new ke(1, 1), this.center = new ke(0, 0), this.rotation = 0, this.matrixAutoUpdate = !0, this.matrix = new De, this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = void 0 !== l ? l : _e, this.version = 0, this.onUpdate = null
    }

    function We(t, e, i, n) {
        this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = void 0 !== n ? n : 1
    }

    function He(t, e, i) {
        this.width = t, this.height = e, this.scissor = new We(0, 0, t, e), this.scissorTest = !1, this.viewport = new We(0, 0, t, e), void 0 === (i = i || {}).minFilter && (i.minFilter = St), this.texture = new Ge(void 0, void 0, i.wrapS, i.wrapT, i.magFilter, i.minFilter, i.format, i.type, i.anisotropy, i.encoding), this.texture.generateMipmaps = void 0 === i.generateMipmaps || i.generateMipmaps, this.depthBuffer = void 0 === i.depthBuffer || i.depthBuffer, this.stencilBuffer = void 0 === i.stencilBuffer || i.stencilBuffer, this.depthTexture = void 0 !== i.depthTexture ? i.depthTexture : null
    }

    function $e(t, e, i) {
        He.call(this, t, e, i), this.activeCubeFace = 0, this.activeMipMapLevel = 0
    }

    function Xe(t, e, i, n, r, o, s, a, c, l, u, h) {
        Ge.call(this, null, o, s, a, c, l, n, r, u, h), this.image = {
            data: t,
            width: e,
            height: i
        }, this.magFilter = void 0 !== c ? c : bt, this.minFilter = void 0 !== l ? l : bt, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1
    }

    function qe(t, e) {
        this.min = void 0 !== t ? t : new Re(1 / 0, 1 / 0, 1 / 0), this.max = void 0 !== e ? e : new Re(-1 / 0, -1 / 0, -1 / 0)
    }

    function Ye(t, e) {
        this.center = void 0 !== t ? t : new Re, this.radius = void 0 !== e ? e : 0
    }

    function Ze(t, e) {
        this.normal = void 0 !== t ? t : new Re(1, 0, 0), this.constant = void 0 !== e ? e : 0
    }

    function Je(t, e, i, n, r, o) {
        this.planes = [void 0 !== t ? t : new Ze, void 0 !== e ? e : new Ze, void 0 !== i ? i : new Ze, void 0 !== n ? n : new Ze, void 0 !== r ? r : new Ze, void 0 !== o ? o : new Ze]
    }
    Ge.DEFAULT_IMAGE = void 0, Ge.DEFAULT_MAPPING = 300, Ge.prototype = Object.assign(Object.create(n.prototype), {
        constructor: Ge,
        isTexture: !0,
        updateMatrix: function() {
            this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.name = t.name, this.image = t.image, this.mipmaps = t.mipmaps.slice(0), this.mapping = t.mapping, this.wrapS = t.wrapS, this.wrapT = t.wrapT, this.magFilter = t.magFilter, this.minFilter = t.minFilter, this.anisotropy = t.anisotropy, this.format = t.format, this.type = t.type, this.offset.copy(t.offset), this.repeat.copy(t.repeat), this.center.copy(t.center), this.rotation = t.rotation, this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrix.copy(t.matrix), this.generateMipmaps = t.generateMipmaps, this.premultiplyAlpha = t.premultiplyAlpha, this.flipY = t.flipY, this.unpackAlignment = t.unpackAlignment, this.encoding = t.encoding, this
        },
        toJSON: function(t) {
            var e = void 0 === t || "string" == typeof t;
            if (!e && void 0 !== t.textures[this.uuid]) return t.textures[this.uuid];
            var i = {
                metadata: {
                    version: 4.5,
                    type: "Texture",
                    generator: "Texture.toJSON"
                },
                uuid: this.uuid,
                name: this.name,
                mapping: this.mapping,
                repeat: [this.repeat.x, this.repeat.y],
                offset: [this.offset.x, this.offset.y],
                center: [this.center.x, this.center.y],
                rotation: this.rotation,
                wrap: [this.wrapS, this.wrapT],
                format: this.format,
                minFilter: this.minFilter,
                magFilter: this.magFilter,
                anisotropy: this.anisotropy,
                flipY: this.flipY
            };
            if (void 0 !== this.image) {
                var n = this.image;
                if (void 0 === n.uuid && (n.uuid = Pe.generateUUID()), !e && void 0 === t.images[n.uuid]) {
                    var r;
                    if (Array.isArray(n)) {
                        r = [];
                        for (var o = 0, s = n.length; o < s; o++) r.push(Ue.getDataURL(n[o]))
                    } else r = Ue.getDataURL(n);
                    t.images[n.uuid] = {
                        uuid: n.uuid,
                        url: r
                    }
                }
                i.image = n.uuid
            }
            return e || (t.textures[this.uuid] = i), i
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        },
        transformUv: function(t) {
            if (300 !== this.mapping) return t;
            if (t.applyMatrix3(this.matrix), t.x < 0 || t.x > 1) switch (this.wrapS) {
                case gt:
                    t.x = t.x - Math.floor(t.x);
                    break;
                case yt:
                    t.x = t.x < 0 ? 0 : 1;
                    break;
                case _t:
                    1 === Math.abs(Math.floor(t.x) % 2) ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x)
            }
            if (t.y < 0 || t.y > 1) switch (this.wrapT) {
                case gt:
                    t.y = t.y - Math.floor(t.y);
                    break;
                case yt:
                    t.y = t.y < 0 ? 0 : 1;
                    break;
                case _t:
                    1 === Math.abs(Math.floor(t.y) % 2) ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y)
            }
            return this.flipY && (t.y = 1 - t.y), t
        }
    }), Object.defineProperty(Ge.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }), Object.assign(We.prototype, {
        isVector4: !0,
        set: function(t, e, i, n) {
            return this.x = t, this.y = e, this.z = i, this.w = n, this
        },
        setScalar: function(t) {
            return this.x = t, this.y = t, this.z = t, this.w = t, this
        },
        setX: function(t) {
            return this.x = t, this
        },
        setY: function(t) {
            return this.y = t, this
        },
        setZ: function(t) {
            return this.z = t, this
        },
        setW: function(t) {
            return this.w = t, this
        },
        setComponent: function(t, e) {
            switch (t) {
                case 0:
                    this.x = e;
                    break;
                case 1:
                    this.y = e;
                    break;
                case 2:
                    this.z = e;
                    break;
                case 3:
                    this.w = e;
                    break;
                default:
                    throw new Error("index is out of range: " + t)
            }
            return this
        },
        getComponent: function(t) {
            switch (t) {
                case 0:
                    return this.x;
                case 1:
                    return this.y;
                case 2:
                    return this.z;
                case 3:
                    return this.w;
                default:
                    throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x, this.y, this.z, this.w)
        },
        copy: function(t) {
            return this.x = t.x, this.y = t.y, this.z = t.z, this.w = void 0 !== t.w ? t.w : 1, this
        },
        add: function(t, e) {
            return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this)
        },
        addScalar: function(t) {
            return this.x += t, this.y += t, this.z += t, this.w += t, this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this.w = t.w + e.w, this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this.w += t.w * e, this
        },
        sub: function(t, e) {
            return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this)
        },
        subScalar: function(t) {
            return this.x -= t, this.y -= t, this.z -= t, this.w -= t, this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this.w = t.w - e.w, this
        },
        multiplyScalar: function(t) {
            return this.x *= t, this.y *= t, this.z *= t, this.w *= t, this
        },
        applyMatrix4: function(t) {
            var e = this.x,
                i = this.y,
                n = this.z,
                r = this.w,
                o = t.elements;
            return this.x = o[0] * e + o[4] * i + o[8] * n + o[12] * r, this.y = o[1] * e + o[5] * i + o[9] * n + o[13] * r, this.z = o[2] * e + o[6] * i + o[10] * n + o[14] * r, this.w = o[3] * e + o[7] * i + o[11] * n + o[15] * r, this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        setAxisAngleFromQuaternion: function(t) {
            this.w = 2 * Math.acos(t.w);
            var e = Math.sqrt(1 - t.w * t.w);
            return e < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = t.x / e, this.y = t.y / e, this.z = t.z / e), this
        },
        setAxisAngleFromRotationMatrix: function(t) {
            var e, i, n, r, o = t.elements,
                s = o[0],
                a = o[4],
                c = o[8],
                l = o[1],
                u = o[5],
                h = o[9],
                p = o[2],
                d = o[6],
                f = o[10];
            if (Math.abs(a - l) < .01 && Math.abs(c - p) < .01 && Math.abs(h - d) < .01) {
                if (Math.abs(a + l) < .1 && Math.abs(c + p) < .1 && Math.abs(h + d) < .1 && Math.abs(s + u + f - 3) < .1) return this.set(1, 0, 0, 0), this;
                e = Math.PI;
                var m = (s + 1) / 2,
                    v = (u + 1) / 2,
                    g = (f + 1) / 2,
                    y = (a + l) / 4,
                    _ = (c + p) / 4,
                    b = (h + d) / 4;
                return m > v && m > g ? m < .01 ? (i = 0, n = .707106781, r = .707106781) : (n = y / (i = Math.sqrt(m)), r = _ / i) : v > g ? v < .01 ? (i = .707106781, n = 0, r = .707106781) : (i = y / (n = Math.sqrt(v)), r = b / n) : g < .01 ? (i = .707106781, n = .707106781, r = 0) : (i = _ / (r = Math.sqrt(g)), n = b / r), this.set(i, n, r, e), this
            }
            var x = Math.sqrt((d - h) * (d - h) + (c - p) * (c - p) + (l - a) * (l - a));
            return Math.abs(x) < .001 && (x = 1), this.x = (d - h) / x, this.y = (c - p) / x, this.z = (l - a) / x, this.w = Math.acos((s + u + f - 1) / 2), this
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this.w = Math.min(this.w, t.w), this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this.w = Math.max(this.w, t.w), this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this.w = Math.max(t.w, Math.min(e.w, this.w)), this
        },
        clampScalar: function() {
            var t, e;
            return function(i, n) {
                return void 0 === t && (t = new We, e = new We), t.set(i, i, i, i), e.set(n, n, n, n), this.clamp(t, e)
            }
        }(),
        clampLength: function(t, e) {
            var i = this.length();
            return this.divideScalar(i || 1).multiplyScalar(Math.max(t, Math.min(e, i)))
        },
        floor: function() {
            return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this
        },
        round: function() {
            return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this
        },
        negate: function() {
            return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
        },
        manhattanLength: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
        },
        normalize: function() {
            return this.divideScalar(this.length() || 1)
        },
        setLength: function(t) {
            return this.normalize().multiplyScalar(t)
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this.w += (t.w - this.w) * e, this
        },
        lerpVectors: function(t, e, i) {
            return this.subVectors(e, t).multiplyScalar(i).add(t)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this.w = t[e + 3], this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t[e + 3] = this.w, t
        },
        fromBufferAttribute: function(t, e, i) {
            return this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this.w = t.getW(e), this
        }
    }), He.prototype = Object.assign(Object.create(n.prototype), {
        constructor: He,
        isWebGLRenderTarget: !0,
        setSize: function(t, e) {
            this.width === t && this.height === e || (this.width = t, this.height = e, this.dispose()), this.viewport.set(0, 0, t, e), this.scissor.set(0, 0, t, e)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.width = t.width, this.height = t.height, this.viewport.copy(t.viewport), this.texture = t.texture.clone(), this.depthBuffer = t.depthBuffer, this.stencilBuffer = t.stencilBuffer, this.depthTexture = t.depthTexture, this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }), $e.prototype = Object.create(He.prototype), $e.prototype.constructor = $e, $e.prototype.isWebGLRenderTargetCube = !0, Xe.prototype = Object.create(Ge.prototype), Xe.prototype.constructor = Xe, Xe.prototype.isDataTexture = !0, Object.assign(qe.prototype, {
        isBox3: !0,
        set: function(t, e) {
            return this.min.copy(t), this.max.copy(e), this
        },
        setFromArray: function(t) {
            for (var e = 1 / 0, i = 1 / 0, n = 1 / 0, r = -1 / 0, o = -1 / 0, s = -1 / 0, a = 0, c = t.length; a < c; a += 3) {
                var l = t[a],
                    u = t[a + 1],
                    h = t[a + 2];
                l < e && (e = l), u < i && (i = u), h < n && (n = h), l > r && (r = l), u > o && (o = u), h > s && (s = h)
            }
            return this.min.set(e, i, n), this.max.set(r, o, s), this
        },
        setFromBufferAttribute: function(t) {
            for (var e = 1 / 0, i = 1 / 0, n = 1 / 0, r = -1 / 0, o = -1 / 0, s = -1 / 0, a = 0, c = t.count; a < c; a++) {
                var l = t.getX(a),
                    u = t.getY(a),
                    h = t.getZ(a);
                l < e && (e = l), u < i && (i = u), h < n && (n = h), l > r && (r = l), u > o && (o = u), h > s && (s = h)
            }
            return this.min.set(e, i, n), this.max.set(r, o, s), this
        },
        setFromPoints: function(t) {
            this.makeEmpty();
            for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
            return this
        },
        setFromCenterAndSize: function() {
            var t = new Re;
            return function(e, i) {
                var n = t.copy(i).multiplyScalar(.5);
                return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
            }
        }(),
        setFromObject: function(t) {
            return this.makeEmpty(), this.expandByObject(t)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.min.copy(t.min), this.max.copy(t.max), this
        },
        makeEmpty: function() {
            return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
        },
        getCenter: function(t) {
            return void 0 === t && (t = new Re), this.isEmpty() ? t.set(0, 0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
        },
        getSize: function(t) {
            return void 0 === t && (t = new Re), this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min)
        },
        expandByPoint: function(t) {
            return this.min.min(t), this.max.max(t), this
        },
        expandByVector: function(t) {
            return this.min.sub(t), this.max.add(t), this
        },
        expandByScalar: function(t) {
            return this.min.addScalar(-t), this.max.addScalar(t), this
        },
        expandByObject: function() {
            var t, e, i, n = new Re;

            function r(r) {
                var o = r.geometry;
                if (void 0 !== o)
                    if (o.isGeometry) {
                        var s = o.vertices;
                        for (e = 0, i = s.length; e < i; e++) n.copy(s[e]), n.applyMatrix4(r.matrixWorld), t.expandByPoint(n)
                    } else if (o.isBufferGeometry) {
                    var a = o.attributes.position;
                    if (void 0 !== a)
                        for (e = 0, i = a.count; e < i; e++) n.fromBufferAttribute(a, e).applyMatrix4(r.matrixWorld), t.expandByPoint(n)
                }
            }
            return function(e) {
                return t = this, e.updateMatrixWorld(!0), e.traverse(r), this
            }
        }(),
        containsPoint: function(t) {
            return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z)
        },
        containsBox: function(t) {
            return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z
        },
        getParameter: function(t, e) {
            return void 0 === e && (e = new Re), e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z))
        },
        intersectsBox: function(t) {
            return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z)
        },
        intersectsSphere: (ze = new Re, function(t) {
            return this.clampPoint(t.center, ze), ze.distanceToSquared(t.center) <= t.radius * t.radius
        }),
        intersectsPlane: function(t) {
            var e, i;
            return t.normal.x > 0 ? (e = t.normal.x * this.min.x, i = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x, i = t.normal.x * this.min.x), t.normal.y > 0 ? (e += t.normal.y * this.min.y, i += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y, i += t.normal.y * this.min.y), t.normal.z > 0 ? (e += t.normal.z * this.min.z, i += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z, i += t.normal.z * this.min.z), e <= t.constant && i >= t.constant
        },
        intersectsTriangle: function() {
            var t = new Re,
                e = new Re,
                i = new Re,
                n = new Re,
                r = new Re,
                o = new Re,
                s = new Re,
                a = new Re,
                c = new Re,
                l = new Re;

            function u(n) {
                var r, o;
                for (r = 0, o = n.length - 3; r <= o; r += 3) {
                    s.fromArray(n, r);
                    var a = c.x * Math.abs(s.x) + c.y * Math.abs(s.y) + c.z * Math.abs(s.z),
                        l = t.dot(s),
                        u = e.dot(s),
                        h = i.dot(s);
                    if (Math.max(-Math.max(l, u, h), Math.min(l, u, h)) > a) return !1
                }
                return !0
            }
            return function(s) {
                if (this.isEmpty()) return !1;
                this.getCenter(a), c.subVectors(this.max, a), t.subVectors(s.a, a), e.subVectors(s.b, a), i.subVectors(s.c, a), n.subVectors(e, t), r.subVectors(i, e), o.subVectors(t, i);
                var h = [0, -n.z, n.y, 0, -r.z, r.y, 0, -o.z, o.y, n.z, 0, -n.x, r.z, 0, -r.x, o.z, 0, -o.x, -n.y, n.x, 0, -r.y, r.x, 0, -o.y, o.x, 0];
                return !!u(h) && (!!u(h = [1, 0, 0, 0, 1, 0, 0, 0, 1]) && (l.crossVectors(n, r), u(h = [l.x, l.y, l.z])))
            }
        }(),
        clampPoint: function(t, e) {
            return void 0 === e && (e = new Re), e.copy(t).clamp(this.min, this.max)
        },
        distanceToPoint: function() {
            var t = new Re;
            return function(e) {
                return t.copy(e).clamp(this.min, this.max).sub(e).length()
            }
        }(),
        getBoundingSphere: function() {
            var t = new Re;
            return function(e) {
                return void 0 === e && (e = new Ye), this.getCenter(e.center), e.radius = .5 * this.getSize(t).length(), e
            }
        }(),
        intersect: function(t) {
            return this.min.max(t.min), this.max.min(t.max), this.isEmpty() && this.makeEmpty(), this
        },
        union: function(t) {
            return this.min.min(t.min), this.max.max(t.max), this
        },
        applyMatrix4: (Ne = [new Re, new Re, new Re, new Re, new Re, new Re, new Re, new Re], function(t) {
            return this.isEmpty() ? this : (Ne[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t), Ne[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t), Ne[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t), Ne[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t), Ne[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t), Ne[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t), Ne[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t), Ne[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t), this.setFromPoints(Ne), this)
        }),
        translate: function(t) {
            return this.min.add(t), this.max.add(t), this
        },
        equals: function(t) {
            return t.min.equals(this.min) && t.max.equals(this.max)
        }
    }), Object.assign(Ye.prototype, {
        set: function(t, e) {
            return this.center.copy(t), this.radius = e, this
        },
        setFromPoints: (Fe = new qe, function(t, e) {
            var i = this.center;
            void 0 !== e ? i.copy(e) : Fe.setFromPoints(t).getCenter(i);
            for (var n = 0, r = 0, o = t.length; r < o; r++) n = Math.max(n, i.distanceToSquared(t[r]));
            return this.radius = Math.sqrt(n), this
        }),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.center.copy(t.center), this.radius = t.radius, this
        },
        empty: function() {
            return this.radius <= 0
        },
        containsPoint: function(t) {
            return t.distanceToSquared(this.center) <= this.radius * this.radius
        },
        distanceToPoint: function(t) {
            return t.distanceTo(this.center) - this.radius
        },
        intersectsSphere: function(t) {
            var e = this.radius + t.radius;
            return t.center.distanceToSquared(this.center) <= e * e
        },
        intersectsBox: function(t) {
            return t.intersectsSphere(this)
        },
        intersectsPlane: function(t) {
            return Math.abs(t.distanceToPoint(this.center)) <= this.radius
        },
        clampPoint: function(t, e) {
            var i = this.center.distanceToSquared(t);
            return void 0 === e && (e = new Re), e.copy(t), i > this.radius * this.radius && (e.sub(this.center).normalize(), e.multiplyScalar(this.radius).add(this.center)), e
        },
        getBoundingBox: function(t) {
            return void 0 === t && (t = new qe), t.set(this.center, this.center), t.expandByScalar(this.radius), t
        },
        applyMatrix4: function(t) {
            return this.center.applyMatrix4(t), this.radius = this.radius * t.getMaxScaleOnAxis(), this
        },
        translate: function(t) {
            return this.center.add(t), this
        },
        equals: function(t) {
            return t.center.equals(this.center) && t.radius === this.radius
        }
    }), Object.assign(Ze.prototype, {
        set: function(t, e) {
            return this.normal.copy(t), this.constant = e, this
        },
        setComponents: function(t, e, i, n) {
            return this.normal.set(t, e, i), this.constant = n, this
        },
        setFromNormalAndCoplanarPoint: function(t, e) {
            return this.normal.copy(t), this.constant = -e.dot(this.normal), this
        },
        setFromCoplanarPoints: function() {
            var t = new Re,
                e = new Re;
            return function(i, n, r) {
                var o = t.subVectors(r, n).cross(e.subVectors(i, n)).normalize();
                return this.setFromNormalAndCoplanarPoint(o, i), this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.normal.copy(t.normal), this.constant = t.constant, this
        },
        normalize: function() {
            var t = 1 / this.normal.length();
            return this.normal.multiplyScalar(t), this.constant *= t, this
        },
        negate: function() {
            return this.constant *= -1, this.normal.negate(), this
        },
        distanceToPoint: function(t) {
            return this.normal.dot(t) + this.constant
        },
        distanceToSphere: function(t) {
            return this.distanceToPoint(t.center) - t.radius
        },
        projectPoint: function(t, e) {
            return void 0 === e && (e = new Re), e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)
        },
        intersectLine: function() {
            var t = new Re;
            return function(e, i) {
                void 0 === i && (i = new Re);
                var n = e.delta(t),
                    r = this.normal.dot(n);
                if (0 === r) return 0 === this.distanceToPoint(e.start) ? i.copy(e.start) : void 0;
                var o = -(e.start.dot(this.normal) + this.constant) / r;
                return o < 0 || o > 1 ? void 0 : i.copy(n).multiplyScalar(o).add(e.start)
            }
        }(),
        intersectsLine: function(t) {
            var e = this.distanceToPoint(t.start),
                i = this.distanceToPoint(t.end);
            return e < 0 && i > 0 || i < 0 && e > 0
        },
        intersectsBox: function(t) {
            return t.intersectsPlane(this)
        },
        intersectsSphere: function(t) {
            return t.intersectsPlane(this)
        },
        coplanarPoint: function(t) {
            return void 0 === t && (t = new Re), t.copy(this.normal).multiplyScalar(-this.constant)
        },
        applyMatrix4: function() {
            var t = new Re,
                e = new De;
            return function(i, n) {
                var r = n || e.getNormalMatrix(i),
                    o = this.coplanarPoint(t).applyMatrix4(i),
                    s = this.normal.applyMatrix3(r).normalize();
                return this.constant = -o.dot(s), this
            }
        }(),
        translate: function(t) {
            return this.constant -= t.dot(this.normal), this
        },
        equals: function(t) {
            return t.normal.equals(this.normal) && t.constant === this.constant
        }
    }), Object.assign(Je.prototype, {
        set: function(t, e, i, n, r, o) {
            var s = this.planes;
            return s[0].copy(t), s[1].copy(e), s[2].copy(i), s[3].copy(n), s[4].copy(r), s[5].copy(o), this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            for (var e = this.planes, i = 0; i < 6; i++) e[i].copy(t.planes[i]);
            return this
        },
        setFromMatrix: function(t) {
            var e = this.planes,
                i = t.elements,
                n = i[0],
                r = i[1],
                o = i[2],
                s = i[3],
                a = i[4],
                c = i[5],
                l = i[6],
                u = i[7],
                h = i[8],
                p = i[9],
                d = i[10],
                f = i[11],
                m = i[12],
                v = i[13],
                g = i[14],
                y = i[15];
            return e[0].setComponents(s - n, u - a, f - h, y - m).normalize(), e[1].setComponents(s + n, u + a, f + h, y + m).normalize(), e[2].setComponents(s + r, u + c, f + p, y + v).normalize(), e[3].setComponents(s - r, u - c, f - p, y - v).normalize(), e[4].setComponents(s - o, u - l, f - d, y - g).normalize(), e[5].setComponents(s + o, u + l, f + d, y + g).normalize(), this
        },
        intersectsObject: (je = new Ye, function(t) {
            var e = t.geometry;
            return null === e.boundingSphere && e.computeBoundingSphere(), je.copy(e.boundingSphere).applyMatrix4(t.matrixWorld), this.intersectsSphere(je)
        }),
        intersectsSprite: function() {
            var t = new Ye;
            return function(e) {
                return t.center.set(0, 0, 0), t.radius = .7071067811865476, t.applyMatrix4(e.matrixWorld), this.intersectsSphere(t)
            }
        }(),
        intersectsSphere: function(t) {
            for (var e = this.planes, i = t.center, n = -t.radius, r = 0; r < 6; r++) {
                if (e[r].distanceToPoint(i) < n) return !1
            }
            return !0
        },
        intersectsBox: (Be = new Re, function(t) {
            for (var e = this.planes, i = 0; i < 6; i++) {
                var n = e[i];
                if (Be.x = n.normal.x > 0 ? t.max.x : t.min.x, Be.y = n.normal.y > 0 ? t.max.y : t.min.y, Be.z = n.normal.z > 0 ? t.max.z : t.min.z, n.distanceToPoint(Be) < 0) return !1
            }
            return !0
        }),
        containsPoint: function(t) {
            for (var e = this.planes, i = 0; i < 6; i++)
                if (e[i].distanceToPoint(t) < 0) return !1;
            return !0
        }
    });
    var Qe, Ke, ti, ei = {
            alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",
            alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
            alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",
            aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
            aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
            begin_vertex: "\nvec3 transformed = vec3( position );\n",
            beginnormal_vertex: "\nvec3 objectNormal = vec3( normal );\n",
            bsdfs: "float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
            bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
            clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",
            clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",
            clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",
            clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
            color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
            color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",
            color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
            color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
            common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",
            cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
            defaultnormal_vertex: "vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",
            displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",
            displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
            emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
            emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",
            encodings_fragment: "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
            encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",
            envmap_fragment: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
            envmap_pars_fragment: "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
            envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",
            envmap_physical_pars_fragment: "#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
            envmap_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
            fog_vertex: "#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif\n",
            fog_pars_vertex: "#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif\n",
            fog_fragment: "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
            fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",
            gradientmap_pars_fragment: "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",
            lightmap_fragment: "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
            lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
            lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
            lights_pars_begin: "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",
            lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",
            lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
            lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
            lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
            lights_fragment_begin: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",
            lights_fragment_maps: "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",
            lights_fragment_end: "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
            logdepthbuf_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
            logdepthbuf_pars_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif\n",
            logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif\n",
            logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",
            map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",
            map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",
            map_particle_fragment: "#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",
            map_particle_pars_fragment: "#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",
            metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",
            metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
            morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
            morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
            morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
            normal_fragment_begin: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",
            normal_fragment_maps: "#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
            normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",
            packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
            premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",
            project_vertex: "vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",
            dithering_fragment: "#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",
            dithering_pars_fragment: "#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",
            roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",
            roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
            shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
            shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
            shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
            shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
            skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
            skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
            skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",
            skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
            specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
            specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
            tonemapping_fragment: "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",
            tonemapping_pars_fragment: "#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
            uv_pars_fragment: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
            uv_pars_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",
            uv_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",
            uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
            uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
            uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
            worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",
            cube_frag: "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
            cube_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",
            depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
            depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
            distanceRGBA_frag: "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",
            distanceRGBA_vert: "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",
            equirect_frag: "uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",
            equirect_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
            linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
            meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
            meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
            meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
            meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
            meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
            meshphysical_frag: "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
            meshphysical_vert: "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
            normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",
            normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
            points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",
            shadow_frag: "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",
            shadow_vert: "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
            sprite_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            sprite_vert: "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n"
        },
        ii = {
            merge: function(t) {
                for (var e = {}, i = 0; i < t.length; i++) {
                    var n = this.clone(t[i]);
                    for (var r in n) e[r] = n[r]
                }
                return e
            },
            clone: function(t) {
                var e = {};
                for (var i in t)
                    for (var n in e[i] = {}, t[i]) {
                        var r = t[i][n];
                        r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture) ? e[i][n] = r.clone() : Array.isArray(r) ? e[i][n] = r.slice() : e[i][n] = r
                    }
                return e
            }
        },
        ni = {
            aliceblue: 15792383,
            antiquewhite: 16444375,
            aqua: 65535,
            aquamarine: 8388564,
            azure: 15794175,
            beige: 16119260,
            bisque: 16770244,
            black: 0,
            blanchedalmond: 16772045,
            blue: 255,
            blueviolet: 9055202,
            brown: 10824234,
            burlywood: 14596231,
            cadetblue: 6266528,
            chartreuse: 8388352,
            chocolate: 13789470,
            coral: 16744272,
            cornflowerblue: 6591981,
            cornsilk: 16775388,
            crimson: 14423100,
            cyan: 65535,
            darkblue: 139,
            darkcyan: 35723,
            darkgoldenrod: 12092939,
            darkgray: 11119017,
            darkgreen: 25600,
            darkgrey: 11119017,
            darkkhaki: 12433259,
            darkmagenta: 9109643,
            darkolivegreen: 5597999,
            darkorange: 16747520,
            darkorchid: 10040012,
            darkred: 9109504,
            darksalmon: 15308410,
            darkseagreen: 9419919,
            darkslateblue: 4734347,
            darkslategray: 3100495,
            darkslategrey: 3100495,
            darkturquoise: 52945,
            darkviolet: 9699539,
            deeppink: 16716947,
            deepskyblue: 49151,
            dimgray: 6908265,
            dimgrey: 6908265,
            dodgerblue: 2003199,
            firebrick: 11674146,
            floralwhite: 16775920,
            forestgreen: 2263842,
            fuchsia: 16711935,
            gainsboro: 14474460,
            ghostwhite: 16316671,
            gold: 16766720,
            goldenrod: 14329120,
            gray: 8421504,
            green: 32768,
            greenyellow: 11403055,
            grey: 8421504,
            honeydew: 15794160,
            hotpink: 16738740,
            indianred: 13458524,
            indigo: 4915330,
            ivory: 16777200,
            khaki: 15787660,
            lavender: 15132410,
            lavenderblush: 16773365,
            lawngreen: 8190976,
            lemonchiffon: 16775885,
            lightblue: 11393254,
            lightcoral: 15761536,
            lightcyan: 14745599,
            lightgoldenrodyellow: 16448210,
            lightgray: 13882323,
            lightgreen: 9498256,
            lightgrey: 13882323,
            lightpink: 16758465,
            lightsalmon: 16752762,
            lightseagreen: 2142890,
            lightskyblue: 8900346,
            lightslategray: 7833753,
            lightslategrey: 7833753,
            lightsteelblue: 11584734,
            lightyellow: 16777184,
            lime: 65280,
            limegreen: 3329330,
            linen: 16445670,
            magenta: 16711935,
            maroon: 8388608,
            mediumaquamarine: 6737322,
            mediumblue: 205,
            mediumorchid: 12211667,
            mediumpurple: 9662683,
            mediumseagreen: 3978097,
            mediumslateblue: 8087790,
            mediumspringgreen: 64154,
            mediumturquoise: 4772300,
            mediumvioletred: 13047173,
            midnightblue: 1644912,
            mintcream: 16121850,
            mistyrose: 16770273,
            moccasin: 16770229,
            navajowhite: 16768685,
            navy: 128,
            oldlace: 16643558,
            olive: 8421376,
            olivedrab: 7048739,
            orange: 16753920,
            orangered: 16729344,
            orchid: 14315734,
            palegoldenrod: 15657130,
            palegreen: 10025880,
            paleturquoise: 11529966,
            palevioletred: 14381203,
            papayawhip: 16773077,
            peachpuff: 16767673,
            peru: 13468991,
            pink: 16761035,
            plum: 14524637,
            powderblue: 11591910,
            purple: 8388736,
            rebeccapurple: 6697881,
            red: 16711680,
            rosybrown: 12357519,
            royalblue: 4286945,
            saddlebrown: 9127187,
            salmon: 16416882,
            sandybrown: 16032864,
            seagreen: 3050327,
            seashell: 16774638,
            sienna: 10506797,
            silver: 12632256,
            skyblue: 8900331,
            slateblue: 6970061,
            slategray: 7372944,
            slategrey: 7372944,
            snow: 16775930,
            springgreen: 65407,
            steelblue: 4620980,
            tan: 13808780,
            teal: 32896,
            thistle: 14204888,
            tomato: 16737095,
            turquoise: 4251856,
            violet: 15631086,
            wheat: 16113331,
            white: 16777215,
            whitesmoke: 16119285,
            yellow: 16776960,
            yellowgreen: 10145074
        };

    function ri(t, e, i) {
        return void 0 === e && void 0 === i ? this.set(t) : this.setRGB(t, e, i)
    }
    Object.assign(ri.prototype, {
        isColor: !0,
        r: 1,
        g: 1,
        b: 1,
        set: function(t) {
            return t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t), this
        },
        setScalar: function(t) {
            return this.r = t, this.g = t, this.b = t, this
        },
        setHex: function(t) {
            return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, this.b = (255 & t) / 255, this
        },
        setRGB: function(t, e, i) {
            return this.r = t, this.g = e, this.b = i, this
        },
        setHSL: function() {
            function t(t, e, i) {
                return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - i) : t
            }
            return function(e, i, n) {
                if (e = Pe.euclideanModulo(e, 1), i = Pe.clamp(i, 0, 1), n = Pe.clamp(n, 0, 1), 0 === i) this.r = this.g = this.b = n;
                else {
                    var r = n <= .5 ? n * (1 + i) : n + i - n * i,
                        o = 2 * n - r;
                    this.r = t(o, r, e + 1 / 3), this.g = t(o, r, e), this.b = t(o, r, e - 1 / 3)
                }
                return this
            }
        }(),
        setStyle: function(t) {
            function e(t) {
                void 0 !== t && parseFloat(t)
            }
            var i;
            if (i = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                var n, r = i[1],
                    o = i[2];
                switch (r) {
                    case "rgb":
                    case "rgba":
                        if (n = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(255, parseInt(n[1], 10)) / 255, this.g = Math.min(255, parseInt(n[2], 10)) / 255, this.b = Math.min(255, parseInt(n[3], 10)) / 255, e(n[5]), this;
                        if (n = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(100, parseInt(n[1], 10)) / 100, this.g = Math.min(100, parseInt(n[2], 10)) / 100, this.b = Math.min(100, parseInt(n[3], 10)) / 100, e(n[5]), this;
                        break;
                    case "hsl":
                    case "hsla":
                        if (n = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) {
                            var s = parseFloat(n[1]) / 360,
                                a = parseInt(n[2], 10) / 100,
                                c = parseInt(n[3], 10) / 100;
                            return e(n[5]), this.setHSL(s, a, c)
                        }
                }
            } else if (i = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                var l, u = (l = i[1]).length;
                if (3 === u) return this.r = parseInt(l.charAt(0) + l.charAt(0), 16) / 255, this.g = parseInt(l.charAt(1) + l.charAt(1), 16) / 255, this.b = parseInt(l.charAt(2) + l.charAt(2), 16) / 255, this;
                if (6 === u) return this.r = parseInt(l.charAt(0) + l.charAt(1), 16) / 255, this.g = parseInt(l.charAt(2) + l.charAt(3), 16) / 255, this.b = parseInt(l.charAt(4) + l.charAt(5), 16) / 255, this
            }
            t && t.length > 0 && (void 0 !== (l = ni[t]) && this.setHex(l));
            return this
        },
        clone: function() {
            return new this.constructor(this.r, this.g, this.b)
        },
        copy: function(t) {
            return this.r = t.r, this.g = t.g, this.b = t.b, this
        },
        copyGammaToLinear: function(t, e) {
            return void 0 === e && (e = 2), this.r = Math.pow(t.r, e), this.g = Math.pow(t.g, e), this.b = Math.pow(t.b, e), this
        },
        copyLinearToGamma: function(t, e) {
            void 0 === e && (e = 2);
            var i = e > 0 ? 1 / e : 1;
            return this.r = Math.pow(t.r, i), this.g = Math.pow(t.g, i), this.b = Math.pow(t.b, i), this
        },
        convertGammaToLinear: function(t) {
            return this.copyGammaToLinear(this, t), this
        },
        convertLinearToGamma: function(t) {
            return this.copyLinearToGamma(this, t), this
        },
        copySRGBToLinear: function() {
            function t(t) {
                return t < .04045 ? .0773993808 * t : Math.pow(.9478672986 * t + .0521327014, 2.4)
            }
            return function(e) {
                return this.r = t(e.r), this.g = t(e.g), this.b = t(e.b), this
            }
        }(),
        copyLinearToSRGB: function() {
            function t(t) {
                return t < .0031308 ? 12.92 * t : 1.055 * Math.pow(t, .41666) - .055
            }
            return function(e) {
                return this.r = t(e.r), this.g = t(e.g), this.b = t(e.b), this
            }
        }(),
        convertSRGBToLinear: function() {
            return this.copySRGBToLinear(this), this
        },
        convertLinearToSRGB: function() {
            return this.copyLinearToSRGB(this), this
        },
        getHex: function() {
            return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
        },
        getHexString: function() {
            return ("000000" + this.getHex().toString(16)).slice(-6)
        },
        getHSL: function(t) {
            void 0 === t && (t = {
                h: 0,
                s: 0,
                l: 0
            });
            var e, i, n = this.r,
                r = this.g,
                o = this.b,
                s = Math.max(n, r, o),
                a = Math.min(n, r, o),
                c = (a + s) / 2;
            if (a === s) e = 0, i = 0;
            else {
                var l = s - a;
                switch (i = c <= .5 ? l / (s + a) : l / (2 - s - a), s) {
                    case n:
                        e = (r - o) / l + (r < o ? 6 : 0);
                        break;
                    case r:
                        e = (o - n) / l + 2;
                        break;
                    case o:
                        e = (n - r) / l + 4
                }
                e /= 6
            }
            return t.h = e, t.s = i, t.l = c, t
        },
        getStyle: function() {
            return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
        },
        offsetHSL: (ti = {}, function(t, e, i) {
            return this.getHSL(ti), ti.h += t, ti.s += e, ti.l += i, this.setHSL(ti.h, ti.s, ti.l), this
        }),
        add: function(t) {
            return this.r += t.r, this.g += t.g, this.b += t.b, this
        },
        addColors: function(t, e) {
            return this.r = t.r + e.r, this.g = t.g + e.g, this.b = t.b + e.b, this
        },
        addScalar: function(t) {
            return this.r += t, this.g += t, this.b += t, this
        },
        sub: function(t) {
            return this.r = Math.max(0, this.r - t.r), this.g = Math.max(0, this.g - t.g), this.b = Math.max(0, this.b - t.b), this
        },
        multiply: function(t) {
            return this.r *= t.r, this.g *= t.g, this.b *= t.b, this
        },
        multiplyScalar: function(t) {
            return this.r *= t, this.g *= t, this.b *= t, this
        },
        lerp: function(t, e) {
            return this.r += (t.r - this.r) * e, this.g += (t.g - this.g) * e, this.b += (t.b - this.b) * e, this
        },
        lerpHSL: (Qe = {
            h: 0,
            s: 0,
            l: 0
        }, Ke = {
            h: 0,
            s: 0,
            l: 0
        }, function(t, e) {
            this.getHSL(Qe), t.getHSL(Ke);
            var i = Pe.lerp(Qe.h, Ke.h, e),
                n = Pe.lerp(Qe.s, Ke.s, e),
                r = Pe.lerp(Qe.l, Ke.l, e);
            return this.setHSL(i, n, r), this
        }),
        equals: function(t) {
            return t.r === this.r && t.g === this.g && t.b === this.b
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0), this.r = t[e], this.g = t[e + 1], this.b = t[e + 2], this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.r, t[e + 1] = this.g, t[e + 2] = this.b, t
        },
        toJSON: function() {
            return this.getHex()
        }
    });
    var oi, si = {
            common: {
                diffuse: {
                    value: new ri(15658734)
                },
                opacity: {
                    value: 1
                },
                map: {
                    value: null
                },
                uvTransform: {
                    value: new De
                },
                alphaMap: {
                    value: null
                }
            },
            specularmap: {
                specularMap: {
                    value: null
                }
            },
            envmap: {
                envMap: {
                    value: null
                },
                flipEnvMap: {
                    value: -1
                },
                reflectivity: {
                    value: 1
                },
                refractionRatio: {
                    value: .98
                },
                maxMipLevel: {
                    value: 0
                }
            },
            aomap: {
                aoMap: {
                    value: null
                },
                aoMapIntensity: {
                    value: 1
                }
            },
            lightmap: {
                lightMap: {
                    value: null
                },
                lightMapIntensity: {
                    value: 1
                }
            },
            emissivemap: {
                emissiveMap: {
                    value: null
                }
            },
            bumpmap: {
                bumpMap: {
                    value: null
                },
                bumpScale: {
                    value: 1
                }
            },
            normalmap: {
                normalMap: {
                    value: null
                },
                normalScale: {
                    value: new ke(1, 1)
                }
            },
            displacementmap: {
                displacementMap: {
                    value: null
                },
                displacementScale: {
                    value: 1
                },
                displacementBias: {
                    value: 0
                }
            },
            roughnessmap: {
                roughnessMap: {
                    value: null
                }
            },
            metalnessmap: {
                metalnessMap: {
                    value: null
                }
            },
            gradientmap: {
                gradientMap: {
                    value: null
                }
            },
            fog: {
                fogDensity: {
                    value: 25e-5
                },
                fogNear: {
                    value: 1
                },
                fogFar: {
                    value: 2e3
                },
                fogColor: {
                    value: new ri(16777215)
                }
            },
            lights: {
                ambientLightColor: {
                    value: []
                },
                directionalLights: {
                    value: [],
                    properties: {
                        direction: {},
                        color: {},
                        shadow: {},
                        shadowBias: {},
                        shadowRadius: {},
                        shadowMapSize: {}
                    }
                },
                directionalShadowMap: {
                    value: []
                },
                directionalShadowMatrix: {
                    value: []
                },
                spotLights: {
                    value: [],
                    properties: {
                        color: {},
                        position: {},
                        direction: {},
                        distance: {},
                        coneCos: {},
                        penumbraCos: {},
                        decay: {},
                        shadow: {},
                        shadowBias: {},
                        shadowRadius: {},
                        shadowMapSize: {}
                    }
                },
                spotShadowMap: {
                    value: []
                },
                spotShadowMatrix: {
                    value: []
                },
                pointLights: {
                    value: [],
                    properties: {
                        color: {},
                        position: {},
                        decay: {},
                        distance: {},
                        shadow: {},
                        shadowBias: {},
                        shadowRadius: {},
                        shadowMapSize: {},
                        shadowCameraNear: {},
                        shadowCameraFar: {}
                    }
                },
                pointShadowMap: {
                    value: []
                },
                pointShadowMatrix: {
                    value: []
                },
                hemisphereLights: {
                    value: [],
                    properties: {
                        direction: {},
                        skyColor: {},
                        groundColor: {}
                    }
                },
                rectAreaLights: {
                    value: [],
                    properties: {
                        color: {},
                        position: {},
                        width: {},
                        height: {}
                    }
                }
            },
            points: {
                diffuse: {
                    value: new ri(15658734)
                },
                opacity: {
                    value: 1
                },
                size: {
                    value: 1
                },
                scale: {
                    value: 1
                },
                map: {
                    value: null
                },
                uvTransform: {
                    value: new De
                }
            },
            sprite: {
                diffuse: {
                    value: new ri(15658734)
                },
                opacity: {
                    value: 1
                },
                center: {
                    value: new ke(.5, .5)
                },
                rotation: {
                    value: 0
                },
                map: {
                    value: null
                },
                uvTransform: {
                    value: new De
                }
            }
        },
        ai = {
            basic: {
                uniforms: ii.merge([si.common, si.specularmap, si.envmap, si.aomap, si.lightmap, si.fog]),
                vertexShader: ei.meshbasic_vert,
                fragmentShader: ei.meshbasic_frag
            },
            lambert: {
                uniforms: ii.merge([si.common, si.specularmap, si.envmap, si.aomap, si.lightmap, si.emissivemap, si.fog, si.lights, {
                    emissive: {
                        value: new ri(0)
                    }
                }]),
                vertexShader: ei.meshlambert_vert,
                fragmentShader: ei.meshlambert_frag
            },
            phong: {
                uniforms: ii.merge([si.common, si.specularmap, si.envmap, si.aomap, si.lightmap, si.emissivemap, si.bumpmap, si.normalmap, si.displacementmap, si.gradientmap, si.fog, si.lights, {
                    emissive: {
                        value: new ri(0)
                    },
                    specular: {
                        value: new ri(1118481)
                    },
                    shininess: {
                        value: 30
                    }
                }]),
                vertexShader: ei.meshphong_vert,
                fragmentShader: ei.meshphong_frag
            },
            standard: {
                uniforms: ii.merge([si.common, si.envmap, si.aomap, si.lightmap, si.emissivemap, si.bumpmap, si.normalmap, si.displacementmap, si.roughnessmap, si.metalnessmap, si.fog, si.lights, {
                    emissive: {
                        value: new ri(0)
                    },
                    roughness: {
                        value: .5
                    },
                    metalness: {
                        value: .5
                    },
                    envMapIntensity: {
                        value: 1
                    }
                }]),
                vertexShader: ei.meshphysical_vert,
                fragmentShader: ei.meshphysical_frag
            },
            points: {
                uniforms: ii.merge([si.points, si.fog]),
                vertexShader: ei.points_vert,
                fragmentShader: ei.points_frag
            },
            dashed: {
                uniforms: ii.merge([si.common, si.fog, {
                    scale: {
                        value: 1
                    },
                    dashSize: {
                        value: 1
                    },
                    totalSize: {
                        value: 2
                    }
                }]),
                vertexShader: ei.linedashed_vert,
                fragmentShader: ei.linedashed_frag
            },
            depth: {
                uniforms: ii.merge([si.common, si.displacementmap]),
                vertexShader: ei.depth_vert,
                fragmentShader: ei.depth_frag
            },
            normal: {
                uniforms: ii.merge([si.common, si.bumpmap, si.normalmap, si.displacementmap, {
                    opacity: {
                        value: 1
                    }
                }]),
                vertexShader: ei.normal_vert,
                fragmentShader: ei.normal_frag
            },
            sprite: {
                uniforms: ii.merge([si.sprite, si.fog]),
                vertexShader: ei.sprite_vert,
                fragmentShader: ei.sprite_frag
            },
            cube: {
                uniforms: {
                    tCube: {
                        value: null
                    },
                    tFlip: {
                        value: -1
                    },
                    opacity: {
                        value: 1
                    }
                },
                vertexShader: ei.cube_vert,
                fragmentShader: ei.cube_frag
            },
            equirect: {
                uniforms: {
                    tEquirect: {
                        value: null
                    }
                },
                vertexShader: ei.equirect_vert,
                fragmentShader: ei.equirect_frag
            },
            distanceRGBA: {
                uniforms: ii.merge([si.common, si.displacementmap, {
                    referencePosition: {
                        value: new Re
                    },
                    nearDistance: {
                        value: 1
                    },
                    farDistance: {
                        value: 1e3
                    }
                }]),
                vertexShader: ei.distanceRGBA_vert,
                fragmentShader: ei.distanceRGBA_frag
            },
            shadow: {
                uniforms: ii.merge([si.lights, si.fog, {
                    color: {
                        value: new ri(0)
                    },
                    opacity: {
                        value: 1
                    }
                }]),
                vertexShader: ei.shadow_vert,
                fragmentShader: ei.shadow_frag
            }
        };

    function ci() {
        var t = null,
            e = !1,
            i = null;

        function n(r, o) {
            !1 !== e && (i(r, o), t.requestAnimationFrame(n))
        }
        return {
            start: function() {
                !0 !== e && null !== i && (t.requestAnimationFrame(n), e = !0)
            },
            stop: function() {
                e = !1
            },
            setAnimationLoop: function(t) {
                i = t
            },
            setContext: function(e) {
                t = e
            }
        }
    }

    function li(t) {
        var e = new WeakMap;
        return {
            get: function(t) {
                return t.isInterleavedBufferAttribute && (t = t.data), e.get(t)
            },
            remove: function(i) {
                i.isInterleavedBufferAttribute && (i = i.data);
                var n = e.get(i);
                n && (t.deleteBuffer(n.buffer), e.delete(i))
            },
            update: function(i, n) {
                i.isInterleavedBufferAttribute && (i = i.data);
                var r = e.get(i);
                void 0 === r ? e.set(i, function(e, i) {
                    var n = e.array,
                        r = e.dynamic ? t.DYNAMIC_DRAW : t.STATIC_DRAW,
                        o = t.createBuffer();
                    t.bindBuffer(i, o), t.bufferData(i, n, r), e.onUploadCallback();
                    var s = t.FLOAT;
                    return n instanceof Float32Array ? s = t.FLOAT : n instanceof Float64Array || (n instanceof Uint16Array ? s = t.UNSIGNED_SHORT : n instanceof Int16Array ? s = t.SHORT : n instanceof Uint32Array ? s = t.UNSIGNED_INT : n instanceof Int32Array ? s = t.INT : n instanceof Int8Array ? s = t.BYTE : n instanceof Uint8Array && (s = t.UNSIGNED_BYTE)), {
                        buffer: o,
                        type: s,
                        bytesPerElement: n.BYTES_PER_ELEMENT,
                        version: e.version
                    }
                }(i, n)) : r.version < i.version && (function(e, i, n) {
                    var r = i.array,
                        o = i.updateRange;
                    t.bindBuffer(n, e), !1 === i.dynamic ? t.bufferData(n, r, t.STATIC_DRAW) : -1 === o.count ? t.bufferSubData(n, 0, r) : 0 === o.count || (t.bufferSubData(n, o.offset * r.BYTES_PER_ELEMENT, r.subarray(o.offset, o.offset + o.count)), o.count = -1)
                }(r.buffer, i, n), r.version = i.version)
            }
        }
    }

    function ui(t, e, i, n) {
        this._x = t || 0, this._y = e || 0, this._z = i || 0, this._order = n || ui.DefaultOrder
    }

    function hi() {
        this.mask = 1
    }
    ai.physical = {
        uniforms: ii.merge([ai.standard.uniforms, {
            clearCoat: {
                value: 0
            },
            clearCoatRoughness: {
                value: 0
            }
        }]),
        vertexShader: ei.meshphysical_vert,
        fragmentShader: ei.meshphysical_frag
    }, ui.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], ui.DefaultOrder = "XYZ", Object.defineProperties(ui.prototype, {
        x: {
            get: function() {
                return this._x
            },
            set: function(t) {
                this._x = t, this.onChangeCallback()
            }
        },
        y: {
            get: function() {
                return this._y
            },
            set: function(t) {
                this._y = t, this.onChangeCallback()
            }
        },
        z: {
            get: function() {
                return this._z
            },
            set: function(t) {
                this._z = t, this.onChangeCallback()
            }
        },
        order: {
            get: function() {
                return this._order
            },
            set: function(t) {
                this._order = t, this.onChangeCallback()
            }
        }
    }), Object.assign(ui.prototype, {
        isEuler: !0,
        set: function(t, e, i, n) {
            return this._x = t, this._y = e, this._z = i, this._order = n || this._order, this.onChangeCallback(), this
        },
        clone: function() {
            return new this.constructor(this._x, this._y, this._z, this._order)
        },
        copy: function(t) {
            return this._x = t._x, this._y = t._y, this._z = t._z, this._order = t._order, this.onChangeCallback(), this
        },
        setFromRotationMatrix: function(t, e, i) {
            var n = Pe.clamp,
                r = t.elements,
                o = r[0],
                s = r[4],
                a = r[8],
                c = r[1],
                l = r[5],
                u = r[9],
                h = r[2],
                p = r[6],
                d = r[10];
            return "XYZ" === (e = e || this._order) ? (this._y = Math.asin(n(a, -1, 1)), Math.abs(a) < .99999 ? (this._x = Math.atan2(-u, d), this._z = Math.atan2(-s, o)) : (this._x = Math.atan2(p, l), this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-n(u, -1, 1)), Math.abs(u) < .99999 ? (this._y = Math.atan2(a, d), this._z = Math.atan2(c, l)) : (this._y = Math.atan2(-h, o), this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(n(p, -1, 1)), Math.abs(p) < .99999 ? (this._y = Math.atan2(-h, d), this._z = Math.atan2(-s, l)) : (this._y = 0, this._z = Math.atan2(c, o))) : "ZYX" === e ? (this._y = Math.asin(-n(h, -1, 1)), Math.abs(h) < .99999 ? (this._x = Math.atan2(p, d), this._z = Math.atan2(c, o)) : (this._x = 0, this._z = Math.atan2(-s, l))) : "YZX" === e ? (this._z = Math.asin(n(c, -1, 1)), Math.abs(c) < .99999 ? (this._x = Math.atan2(-u, l), this._y = Math.atan2(-h, o)) : (this._x = 0, this._y = Math.atan2(a, d))) : "XZY" === e && (this._z = Math.asin(-n(s, -1, 1)), Math.abs(s) < .99999 ? (this._x = Math.atan2(p, l), this._y = Math.atan2(a, o)) : (this._x = Math.atan2(-u, d), this._y = 0)), this._order = e, !1 !== i && this.onChangeCallback(), this
        },
        setFromQuaternion: function() {
            var t = new Le;
            return function(e, i, n) {
                return t.makeRotationFromQuaternion(e), this.setFromRotationMatrix(t, i, n)
            }
        }(),
        setFromVector3: function(t, e) {
            return this.set(t.x, t.y, t.z, e || this._order)
        },
        reorder: (oi = new Ie, function(t) {
            return oi.setFromEuler(this), this.setFromQuaternion(oi, t)
        }),
        equals: function(t) {
            return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order
        },
        fromArray: function(t) {
            return this._x = t[0], this._y = t[1], this._z = t[2], void 0 !== t[3] && (this._order = t[3]), this.onChangeCallback(), this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._order, t
        },
        toVector3: function(t) {
            return t ? t.set(this._x, this._y, this._z) : new Re(this._x, this._y, this._z)
        },
        onChange: function(t) {
            return this.onChangeCallback = t, this
        },
        onChangeCallback: function() {}
    }), Object.assign(hi.prototype, {
        set: function(t) {
            this.mask = 1 << t | 0
        },
        enable: function(t) {
            this.mask |= 1 << t | 0
        },
        toggle: function(t) {
            this.mask ^= 1 << t | 0
        },
        disable: function(t) {
            this.mask &= ~(1 << t | 0)
        },
        test: function(t) {
            return 0 != (this.mask & t.mask)
        }
    });
    var pi, di, fi, mi, vi = 0;

    function gi() {
        Object.defineProperty(this, "id", {
            value: vi++
        }), this.uuid = Pe.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = gi.DefaultUp.clone();
        var t = new Re,
            e = new ui,
            i = new Ie,
            n = new Re(1, 1, 1);
        e.onChange(function() {
            i.setFromEuler(e, !1)
        }), i.onChange(function() {
            e.setFromQuaternion(i, void 0, !1)
        }), Object.defineProperties(this, {
            position: {
                enumerable: !0,
                value: t
            },
            rotation: {
                enumerable: !0,
                value: e
            },
            quaternion: {
                enumerable: !0,
                value: i
            },
            scale: {
                enumerable: !0,
                value: n
            },
            modelViewMatrix: {
                value: new Le
            },
            normalMatrix: {
                value: new De
            }
        }), this.matrix = new Le, this.matrixWorld = new Le, this.matrixAutoUpdate = gi.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new hi, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {}
    }

    function yi() {
        gi.call(this), this.type = "Camera", this.matrixWorldInverse = new Le, this.projectionMatrix = new Le, this.projectionMatrixInverse = new Le
    }

    function _i(t, e, i, n, r, o) {
        yi.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = t, this.right = e, this.top = i, this.bottom = n, this.near = void 0 !== r ? r : .1, this.far = void 0 !== o ? o : 2e3, this.updateProjectionMatrix()
    }

    function bi(t, e, i, n, r, o) {
        this.a = t, this.b = e, this.c = i, this.normal = n && n.isVector3 ? n : new Re, this.vertexNormals = Array.isArray(n) ? n : [], this.color = r && r.isColor ? r : new ri, this.vertexColors = Array.isArray(r) ? r : [], this.materialIndex = void 0 !== o ? o : 0
    }
    gi.DefaultUp = new Re(0, 1, 0), gi.DefaultMatrixAutoUpdate = !0, gi.prototype = Object.assign(Object.create(n.prototype), {
        constructor: gi,
        isObject3D: !0,
        onBeforeRender: function() {},
        onAfterRender: function() {},
        applyMatrix: function(t) {
            this.matrix.multiplyMatrices(t, this.matrix), this.matrix.decompose(this.position, this.quaternion, this.scale)
        },
        applyQuaternion: function(t) {
            return this.quaternion.premultiply(t), this
        },
        setRotationFromAxisAngle: function(t, e) {
            this.quaternion.setFromAxisAngle(t, e)
        },
        setRotationFromEuler: function(t) {
            this.quaternion.setFromEuler(t, !0)
        },
        setRotationFromMatrix: function(t) {
            this.quaternion.setFromRotationMatrix(t)
        },
        setRotationFromQuaternion: function(t) {
            this.quaternion.copy(t)
        },
        rotateOnAxis: (mi = new Ie, function(t, e) {
            return mi.setFromAxisAngle(t, e), this.quaternion.multiply(mi), this
        }),
        rotateOnWorldAxis: function() {
            var t = new Ie;
            return function(e, i) {
                return t.setFromAxisAngle(e, i), this.quaternion.premultiply(t), this
            }
        }(),
        rotateX: function() {
            var t = new Re(1, 0, 0);
            return function(e) {
                return this.rotateOnAxis(t, e)
            }
        }(),
        rotateY: function() {
            var t = new Re(0, 1, 0);
            return function(e) {
                return this.rotateOnAxis(t, e)
            }
        }(),
        rotateZ: function() {
            var t = new Re(0, 0, 1);
            return function(e) {
                return this.rotateOnAxis(t, e)
            }
        }(),
        translateOnAxis: function() {
            var t = new Re;
            return function(e, i) {
                return t.copy(e).applyQuaternion(this.quaternion), this.position.add(t.multiplyScalar(i)), this
            }
        }(),
        translateX: function() {
            var t = new Re(1, 0, 0);
            return function(e) {
                return this.translateOnAxis(t, e)
            }
        }(),
        translateY: function() {
            var t = new Re(0, 1, 0);
            return function(e) {
                return this.translateOnAxis(t, e)
            }
        }(),
        translateZ: function() {
            var t = new Re(0, 0, 1);
            return function(e) {
                return this.translateOnAxis(t, e)
            }
        }(),
        localToWorld: function(t) {
            return t.applyMatrix4(this.matrixWorld)
        },
        worldToLocal: (fi = new Le, function(t) {
            return t.applyMatrix4(fi.getInverse(this.matrixWorld))
        }),
        lookAt: function() {
            var t = new Ie,
                e = new Le,
                i = new Re,
                n = new Re;
            return function(r, o, s) {
                r.isVector3 ? i.copy(r) : i.set(r, o, s);
                var a = this.parent;
                this.updateWorldMatrix(!0, !1), n.setFromMatrixPosition(this.matrixWorld), this.isCamera ? e.lookAt(n, i, this.up) : e.lookAt(i, n, this.up), this.quaternion.setFromRotationMatrix(e), a && (e.extractRotation(a.matrixWorld), t.setFromRotationMatrix(e), this.quaternion.premultiply(t.inverse()))
            }
        }(),
        add: function(t) {
            if (arguments.length > 1) {
                for (var e = 0; e < arguments.length; e++) this.add(arguments[e]);
                return this
            }
            return t === this ? this : (t && t.isObject3D && (null !== t.parent && t.parent.remove(t), t.parent = this, t.dispatchEvent({
                type: "added"
            }), this.children.push(t)), this)
        },
        remove: function(t) {
            if (arguments.length > 1) {
                for (var e = 0; e < arguments.length; e++) this.remove(arguments[e]);
                return this
            }
            var i = this.children.indexOf(t);
            return -1 !== i && (t.parent = null, t.dispatchEvent({
                type: "removed"
            }), this.children.splice(i, 1)), this
        },
        getObjectById: function(t) {
            return this.getObjectByProperty("id", t)
        },
        getObjectByName: function(t) {
            return this.getObjectByProperty("name", t)
        },
        getObjectByProperty: function(t, e) {
            if (this[t] === e) return this;
            for (var i = 0, n = this.children.length; i < n; i++) {
                var r = this.children[i].getObjectByProperty(t, e);
                if (void 0 !== r) return r
            }
        },
        getWorldPosition: function(t) {
            return void 0 === t && (t = new Re), this.updateMatrixWorld(!0), t.setFromMatrixPosition(this.matrixWorld)
        },
        getWorldQuaternion: (pi = new Re, di = new Re, function(t) {
            return void 0 === t && (t = new Ie), this.updateMatrixWorld(!0), this.matrixWorld.decompose(pi, t, di), t
        }),
        getWorldScale: function() {
            var t = new Re,
                e = new Ie;
            return function(i) {
                return void 0 === i && (i = new Re), this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, e, i), i
            }
        }(),
        getWorldDirection: function(t) {
            void 0 === t && (t = new Re), this.updateMatrixWorld(!0);
            var e = this.matrixWorld.elements;
            return t.set(e[8], e[9], e[10]).normalize()
        },
        raycast: function() {},
        traverse: function(t) {
            t(this);
            for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverse(t)
        },
        traverseVisible: function(t) {
            if (!1 !== this.visible) {
                t(this);
                for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverseVisible(t)
            }
        },
        traverseAncestors: function(t) {
            var e = this.parent;
            null !== e && (t(e), e.traverseAncestors(t))
        },
        updateMatrix: function() {
            this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
        },
        updateMatrixWorld: function(t) {
            this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || t) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0);
            for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].updateMatrixWorld(t)
        },
        updateWorldMatrix: function(t, e) {
            var i = this.parent;
            if (!0 === t && null !== i && i.updateWorldMatrix(!0, !1), this.matrixAutoUpdate && this.updateMatrix(), null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), !0 === e)
                for (var n = this.children, r = 0, o = n.length; r < o; r++) n[r].updateWorldMatrix(!1, !0)
        },
        toJSON: function(t) {
            var e = void 0 === t || "string" == typeof t,
                i = {};
            e && (t = {
                geometries: {},
                materials: {},
                textures: {},
                images: {},
                shapes: {}
            }, i.metadata = {
                version: 4.5,
                type: "Object",
                generator: "Object3D.toJSON"
            });
            var n = {};

            function r(e, i) {
                return void 0 === e[i.uuid] && (e[i.uuid] = i.toJSON(t)), i.uuid
            }
            if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), !0 === this.castShadow && (n.castShadow = !0), !0 === this.receiveShadow && (n.receiveShadow = !0), !1 === this.visible && (n.visible = !1), !1 === this.frustumCulled && (n.frustumCulled = !1), 0 !== this.renderOrder && (n.renderOrder = this.renderOrder), "{}" !== JSON.stringify(this.userData) && (n.userData = this.userData), n.layers = this.layers.mask, n.matrix = this.matrix.toArray(), !1 === this.matrixAutoUpdate && (n.matrixAutoUpdate = !1), this.isMesh || this.isLine || this.isPoints) {
                n.geometry = r(t.geometries, this.geometry);
                var o = this.geometry.parameters;
                if (void 0 !== o && void 0 !== o.shapes) {
                    var s = o.shapes;
                    if (Array.isArray(s))
                        for (var a = 0, c = s.length; a < c; a++) {
                            var l = s[a];
                            r(t.shapes, l)
                        } else r(t.shapes, s)
                }
            }
            if (void 0 !== this.material)
                if (Array.isArray(this.material)) {
                    var u = [];
                    for (a = 0, c = this.material.length; a < c; a++) u.push(r(t.materials, this.material[a]));
                    n.material = u
                } else n.material = r(t.materials, this.material);
            if (this.children.length > 0) {
                n.children = [];
                for (a = 0; a < this.children.length; a++) n.children.push(this.children[a].toJSON(t).object)
            }
            if (e) {
                var h = m(t.geometries),
                    p = m(t.materials),
                    d = m(t.textures),
                    f = m(t.images);
                s = m(t.shapes);
                h.length > 0 && (i.geometries = h), p.length > 0 && (i.materials = p), d.length > 0 && (i.textures = d), f.length > 0 && (i.images = f), s.length > 0 && (i.shapes = s)
            }
            return i.object = n, i;

            function m(t) {
                var e = [];
                for (var i in t) {
                    var n = t[i];
                    delete n.metadata, e.push(n)
                }
                return e
            }
        },
        clone: function(t) {
            return (new this.constructor).copy(this, t)
        },
        copy: function(t, e) {
            if (void 0 === e && (e = !0), this.name = t.name, this.up.copy(t.up), this.position.copy(t.position), this.quaternion.copy(t.quaternion), this.scale.copy(t.scale), this.matrix.copy(t.matrix), this.matrixWorld.copy(t.matrixWorld), this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate, this.layers.mask = t.layers.mask, this.visible = t.visible, this.castShadow = t.castShadow, this.receiveShadow = t.receiveShadow, this.frustumCulled = t.frustumCulled, this.renderOrder = t.renderOrder, this.userData = JSON.parse(JSON.stringify(t.userData)), !0 === e)
                for (var i = 0; i < t.children.length; i++) {
                    var n = t.children[i];
                    this.add(n.clone())
                }
            return this
        }
    }), yi.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: yi,
        isCamera: !0,
        copy: function(t, e) {
            return gi.prototype.copy.call(this, t, e), this.matrixWorldInverse.copy(t.matrixWorldInverse), this.projectionMatrix.copy(t.projectionMatrix), this.projectionMatrixInverse.copy(t.projectionMatrixInverse), this
        },
        getWorldDirection: function(t) {
            void 0 === t && (t = new Re), this.updateMatrixWorld(!0);
            var e = this.matrixWorld.elements;
            return t.set(-e[8], -e[9], -e[10]).normalize()
        },
        updateMatrixWorld: function(t) {
            gi.prototype.updateMatrixWorld.call(this, t), this.matrixWorldInverse.getInverse(this.matrixWorld)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    }), _i.prototype = Object.assign(Object.create(yi.prototype), {
        constructor: _i,
        isOrthographicCamera: !0,
        copy: function(t, e) {
            return yi.prototype.copy.call(this, t, e), this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom, this.near = t.near, this.far = t.far, this.zoom = t.zoom, this.view = null === t.view ? null : Object.assign({}, t.view), this
        },
        setViewOffset: function(t, e, i, n, r, o) {
            null === this.view && (this.view = {
                enabled: !0,
                fullWidth: 1,
                fullHeight: 1,
                offsetX: 0,
                offsetY: 0,
                width: 1,
                height: 1
            }), this.view.enabled = !0, this.view.fullWidth = t, this.view.fullHeight = e, this.view.offsetX = i, this.view.offsetY = n, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
        },
        clearViewOffset: function() {
            null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
        },
        updateProjectionMatrix: function() {
            var t = (this.right - this.left) / (2 * this.zoom),
                e = (this.top - this.bottom) / (2 * this.zoom),
                i = (this.right + this.left) / 2,
                n = (this.top + this.bottom) / 2,
                r = i - t,
                o = i + t,
                s = n + e,
                a = n - e;
            if (null !== this.view && this.view.enabled) {
                var c = this.zoom / (this.view.width / this.view.fullWidth),
                    l = this.zoom / (this.view.height / this.view.fullHeight),
                    u = (this.right - this.left) / this.view.width,
                    h = (this.top - this.bottom) / this.view.height;
                o = (r += u * (this.view.offsetX / c)) + u * (this.view.width / c), a = (s -= h * (this.view.offsetY / l)) - h * (this.view.height / l)
            }
            this.projectionMatrix.makeOrthographic(r, o, s, a, this.near, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
        },
        toJSON: function(t) {
            var e = gi.prototype.toJSON.call(this, t);
            return e.object.zoom = this.zoom, e.object.left = this.left, e.object.right = this.right, e.object.top = this.top, e.object.bottom = this.bottom, e.object.near = this.near, e.object.far = this.far, null !== this.view && (e.object.view = Object.assign({}, this.view)), e
        }
    }), Object.assign(bi.prototype, {
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            this.a = t.a, this.b = t.b, this.c = t.c, this.normal.copy(t.normal), this.color.copy(t.color), this.materialIndex = t.materialIndex;
            for (var e = 0, i = t.vertexNormals.length; e < i; e++) this.vertexNormals[e] = t.vertexNormals[e].clone();
            for (e = 0, i = t.vertexColors.length; e < i; e++) this.vertexColors[e] = t.vertexColors[e].clone();
            return this
        }
    });
    var xi, wi, Si = 0;

    function Mi() {
        Object.defineProperty(this, "id", {
            value: Si += 2
        }), this.uuid = Pe.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
            []
        ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.elementsNeedUpdate = !1, this.verticesNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.groupsNeedUpdate = !1
    }

    function Ti(t, e, i) {
        if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
        this.name = "", this.array = t, this.itemSize = e, this.count = void 0 !== t ? t.length / e : 0, this.normalized = !0 === i, this.dynamic = !1, this.updateRange = {
            offset: 0,
            count: -1
        }, this.version = 0
    }

    function Ai(t, e, i) {
        Ti.call(this, new Int8Array(t), e, i)
    }

    function Ci(t, e, i) {
        Ti.call(this, new Uint8Array(t), e, i)
    }

    function Ei(t, e, i) {
        Ti.call(this, new Uint8ClampedArray(t), e, i)
    }

    function Oi(t, e, i) {
        Ti.call(this, new Int16Array(t), e, i)
    }

    function Pi(t, e, i) {
        Ti.call(this, new Uint16Array(t), e, i)
    }

    function ki(t, e, i) {
        Ti.call(this, new Int32Array(t), e, i)
    }

    function Li(t, e, i) {
        Ti.call(this, new Uint32Array(t), e, i)
    }

    function Ii(t, e, i) {
        Ti.call(this, new Float32Array(t), e, i)
    }

    function Ri(t, e, i) {
        Ti.call(this, new Float64Array(t), e, i)
    }

    function Di() {
        this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.groupsNeedUpdate = !1
    }

    function Ni(t) {
        if (0 === t.length) return -1 / 0;
        for (var e = t[0], i = 1, n = t.length; i < n; ++i) t[i] > e && (e = t[i]);
        return e
    }
    Mi.prototype = Object.assign(Object.create(n.prototype), {
        constructor: Mi,
        isGeometry: !0,
        applyMatrix: function(t) {
            for (var e = (new De).getNormalMatrix(t), i = 0, n = this.vertices.length; i < n; i++) {
                this.vertices[i].applyMatrix4(t)
            }
            for (i = 0, n = this.faces.length; i < n; i++) {
                var r = this.faces[i];
                r.normal.applyMatrix3(e).normalize();
                for (var o = 0, s = r.vertexNormals.length; o < s; o++) r.vertexNormals[o].applyMatrix3(e).normalize()
            }
            return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.verticesNeedUpdate = !0, this.normalsNeedUpdate = !0, this
        },
        rotateX: function() {
            var t = new Le;
            return function(e) {
                return t.makeRotationX(e), this.applyMatrix(t), this
            }
        }(),
        rotateY: function() {
            var t = new Le;
            return function(e) {
                return t.makeRotationY(e), this.applyMatrix(t), this
            }
        }(),
        rotateZ: function() {
            var t = new Le;
            return function(e) {
                return t.makeRotationZ(e), this.applyMatrix(t), this
            }
        }(),
        translate: function() {
            var t = new Le;
            return function(e, i, n) {
                return t.makeTranslation(e, i, n), this.applyMatrix(t), this
            }
        }(),
        scale: function() {
            var t = new Le;
            return function(e, i, n) {
                return t.makeScale(e, i, n), this.applyMatrix(t), this
            }
        }(),
        lookAt: (wi = new gi, function(t) {
            wi.lookAt(t), wi.updateMatrix(), this.applyMatrix(wi.matrix)
        }),
        fromBufferGeometry: function(t) {
            var e = this,
                i = null !== t.index ? t.index.array : void 0,
                n = t.attributes,
                r = n.position.array,
                o = void 0 !== n.normal ? n.normal.array : void 0,
                s = void 0 !== n.color ? n.color.array : void 0,
                a = void 0 !== n.uv ? n.uv.array : void 0,
                c = void 0 !== n.uv2 ? n.uv2.array : void 0;
            void 0 !== c && (this.faceVertexUvs[1] = []);
            for (var l = [], u = [], h = [], p = 0, d = 0; p < r.length; p += 3, d += 2) e.vertices.push(new Re(r[p], r[p + 1], r[p + 2])), void 0 !== o && l.push(new Re(o[p], o[p + 1], o[p + 2])), void 0 !== s && e.colors.push(new ri(s[p], s[p + 1], s[p + 2])), void 0 !== a && u.push(new ke(a[d], a[d + 1])), void 0 !== c && h.push(new ke(c[d], c[d + 1]));

            function f(t, i, n, r) {
                var p = new bi(t, i, n, void 0 !== o ? [l[t].clone(), l[i].clone(), l[n].clone()] : [], void 0 !== s ? [e.colors[t].clone(), e.colors[i].clone(), e.colors[n].clone()] : [], r);
                e.faces.push(p), void 0 !== a && e.faceVertexUvs[0].push([u[t].clone(), u[i].clone(), u[n].clone()]), void 0 !== c && e.faceVertexUvs[1].push([h[t].clone(), h[i].clone(), h[n].clone()])
            }
            var m = t.groups;
            if (m.length > 0)
                for (p = 0; p < m.length; p++)
                    for (var v = m[p], g = v.start, y = (d = g, g + v.count); d < y; d += 3) void 0 !== i ? f(i[d], i[d + 1], i[d + 2], v.materialIndex) : f(d, d + 1, d + 2, v.materialIndex);
            else if (void 0 !== i)
                for (p = 0; p < i.length; p += 3) f(i[p], i[p + 1], i[p + 2]);
            else
                for (p = 0; p < r.length / 3; p += 3) f(p, p + 1, p + 2);
            return this.computeFaceNormals(), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), this
        },
        center: (xi = new Re, function() {
            return this.computeBoundingBox(), this.boundingBox.getCenter(xi).negate(), this.translate(xi.x, xi.y, xi.z), this
        }),
        normalize: function() {
            this.computeBoundingSphere();
            var t = this.boundingSphere.center,
                e = this.boundingSphere.radius,
                i = 0 === e ? 1 : 1 / e,
                n = new Le;
            return n.set(i, 0, 0, -i * t.x, 0, i, 0, -i * t.y, 0, 0, i, -i * t.z, 0, 0, 0, 1), this.applyMatrix(n), this
        },
        computeFaceNormals: function() {
            for (var t = new Re, e = new Re, i = 0, n = this.faces.length; i < n; i++) {
                var r = this.faces[i],
                    o = this.vertices[r.a],
                    s = this.vertices[r.b],
                    a = this.vertices[r.c];
                t.subVectors(a, s), e.subVectors(o, s), t.cross(e), t.normalize(), r.normal.copy(t)
            }
        },
        computeVertexNormals: function(t) {
            var e, i, n, r, o, s;
            for (void 0 === t && (t = !0), s = new Array(this.vertices.length), e = 0, i = this.vertices.length; e < i; e++) s[e] = new Re;
            if (t) {
                var a, c, l, u = new Re,
                    h = new Re;
                for (n = 0, r = this.faces.length; n < r; n++) o = this.faces[n], a = this.vertices[o.a], c = this.vertices[o.b], l = this.vertices[o.c], u.subVectors(l, c), h.subVectors(a, c), u.cross(h), s[o.a].add(u), s[o.b].add(u), s[o.c].add(u)
            } else
                for (this.computeFaceNormals(), n = 0, r = this.faces.length; n < r; n++) s[(o = this.faces[n]).a].add(o.normal), s[o.b].add(o.normal), s[o.c].add(o.normal);
            for (e = 0, i = this.vertices.length; e < i; e++) s[e].normalize();
            for (n = 0, r = this.faces.length; n < r; n++) {
                var p = (o = this.faces[n]).vertexNormals;
                3 === p.length ? (p[0].copy(s[o.a]), p[1].copy(s[o.b]), p[2].copy(s[o.c])) : (p[0] = s[o.a].clone(), p[1] = s[o.b].clone(), p[2] = s[o.c].clone())
            }
            this.faces.length > 0 && (this.normalsNeedUpdate = !0)
        },
        computeFlatVertexNormals: function() {
            var t, e, i;
            for (this.computeFaceNormals(), t = 0, e = this.faces.length; t < e; t++) {
                var n = (i = this.faces[t]).vertexNormals;
                3 === n.length ? (n[0].copy(i.normal), n[1].copy(i.normal), n[2].copy(i.normal)) : (n[0] = i.normal.clone(), n[1] = i.normal.clone(), n[2] = i.normal.clone())
            }
            this.faces.length > 0 && (this.normalsNeedUpdate = !0)
        },
        computeMorphNormals: function() {
            var t, e, i, n, r;
            for (i = 0, n = this.faces.length; i < n; i++)
                for ((r = this.faces[i]).__originalFaceNormal ? r.__originalFaceNormal.copy(r.normal) : r.__originalFaceNormal = r.normal.clone(), r.__originalVertexNormals || (r.__originalVertexNormals = []), t = 0, e = r.vertexNormals.length; t < e; t++) r.__originalVertexNormals[t] ? r.__originalVertexNormals[t].copy(r.vertexNormals[t]) : r.__originalVertexNormals[t] = r.vertexNormals[t].clone();
            var o = new Mi;
            for (o.faces = this.faces, t = 0, e = this.morphTargets.length; t < e; t++) {
                if (!this.morphNormals[t]) {
                    this.morphNormals[t] = {}, this.morphNormals[t].faceNormals = [], this.morphNormals[t].vertexNormals = [];
                    var s = this.morphNormals[t].faceNormals,
                        a = this.morphNormals[t].vertexNormals;
                    for (i = 0, n = this.faces.length; i < n; i++) c = new Re, l = {
                        a: new Re,
                        b: new Re,
                        c: new Re
                    }, s.push(c), a.push(l)
                }
                var c, l, u = this.morphNormals[t];
                for (o.vertices = this.morphTargets[t].vertices, o.computeFaceNormals(), o.computeVertexNormals(), i = 0, n = this.faces.length; i < n; i++) r = this.faces[i], c = u.faceNormals[i], l = u.vertexNormals[i], c.copy(r.normal), l.a.copy(r.vertexNormals[0]), l.b.copy(r.vertexNormals[1]), l.c.copy(r.vertexNormals[2])
            }
            for (i = 0, n = this.faces.length; i < n; i++)(r = this.faces[i]).normal = r.__originalFaceNormal, r.vertexNormals = r.__originalVertexNormals
        },
        computeBoundingBox: function() {
            null === this.boundingBox && (this.boundingBox = new qe), this.boundingBox.setFromPoints(this.vertices)
        },
        computeBoundingSphere: function() {
            null === this.boundingSphere && (this.boundingSphere = new Ye), this.boundingSphere.setFromPoints(this.vertices)
        },
        merge: function(t, e, i) {
            if (t && t.isGeometry) {
                var n, r = this.vertices.length,
                    o = this.vertices,
                    s = t.vertices,
                    a = this.faces,
                    c = t.faces,
                    l = this.faceVertexUvs[0],
                    u = t.faceVertexUvs[0],
                    h = this.colors,
                    p = t.colors;
                void 0 === i && (i = 0), void 0 !== e && (n = (new De).getNormalMatrix(e));
                for (var d = 0, f = s.length; d < f; d++) {
                    var m = s[d].clone();
                    void 0 !== e && m.applyMatrix4(e), o.push(m)
                }
                for (d = 0, f = p.length; d < f; d++) h.push(p[d].clone());
                for (d = 0, f = c.length; d < f; d++) {
                    var v, g, y, _ = c[d],
                        b = _.vertexNormals,
                        x = _.vertexColors;
                    (v = new bi(_.a + r, _.b + r, _.c + r)).normal.copy(_.normal), void 0 !== n && v.normal.applyMatrix3(n).normalize();
                    for (var w = 0, S = b.length; w < S; w++) g = b[w].clone(), void 0 !== n && g.applyMatrix3(n).normalize(), v.vertexNormals.push(g);
                    v.color.copy(_.color);
                    for (w = 0, S = x.length; w < S; w++) y = x[w], v.vertexColors.push(y.clone());
                    v.materialIndex = _.materialIndex + i, a.push(v)
                }
                for (d = 0, f = u.length; d < f; d++) {
                    var M = u[d],
                        T = [];
                    if (void 0 !== M) {
                        for (w = 0, S = M.length; w < S; w++) T.push(M[w].clone());
                        l.push(T)
                    }
                }
            }
        },
        mergeMesh: function(t) {
            t && t.isMesh && (t.matrixAutoUpdate && t.updateMatrix(), this.merge(t.geometry, t.matrix))
        },
        mergeVertices: function() {
            var t, e, i, n, r, o, s, a, c = {},
                l = [],
                u = [],
                h = Math.pow(10, 4);
            for (i = 0, n = this.vertices.length; i < n; i++) t = this.vertices[i], void 0 === c[e = Math.round(t.x * h) + "_" + Math.round(t.y * h) + "_" + Math.round(t.z * h)] ? (c[e] = i, l.push(this.vertices[i]), u[i] = l.length - 1) : u[i] = u[c[e]];
            var p = [];
            for (i = 0, n = this.faces.length; i < n; i++) {
                (r = this.faces[i]).a = u[r.a], r.b = u[r.b], r.c = u[r.c], o = [r.a, r.b, r.c];
                for (var d = 0; d < 3; d++)
                    if (o[d] === o[(d + 1) % 3]) {
                        p.push(i);
                        break
                    }
            }
            for (i = p.length - 1; i >= 0; i--) {
                var f = p[i];
                for (this.faces.splice(f, 1), s = 0, a = this.faceVertexUvs.length; s < a; s++) this.faceVertexUvs[s].splice(f, 1)
            }
            var m = this.vertices.length - l.length;
            return this.vertices = l, m
        },
        setFromPoints: function(t) {
            this.vertices = [];
            for (var e = 0, i = t.length; e < i; e++) {
                var n = t[e];
                this.vertices.push(new Re(n.x, n.y, n.z || 0))
            }
            return this
        },
        sortFacesByMaterialIndex: function() {
            for (var t = this.faces, e = t.length, i = 0; i < e; i++) t[i]._id = i;
            t.sort(function(t, e) {
                return t.materialIndex - e.materialIndex
            });
            var n, r, o = this.faceVertexUvs[0],
                s = this.faceVertexUvs[1];
            o && o.length === e && (n = []), s && s.length === e && (r = []);
            for (i = 0; i < e; i++) {
                var a = t[i]._id;
                n && n.push(o[a]), r && r.push(s[a])
            }
            n && (this.faceVertexUvs[0] = n), r && (this.faceVertexUvs[1] = r)
        },
        toJSON: function() {
            var t = {
                metadata: {
                    version: 4.5,
                    type: "Geometry",
                    generator: "Geometry.toJSON"
                }
            };
            if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), void 0 !== this.parameters) {
                var e = this.parameters;
                for (var i in e) void 0 !== e[i] && (t[i] = e[i]);
                return t
            }
            for (var n = [], r = 0; r < this.vertices.length; r++) {
                var o = this.vertices[r];
                n.push(o.x, o.y, o.z)
            }
            var s = [],
                a = [],
                c = {},
                l = [],
                u = {},
                h = [],
                p = {};
            for (r = 0; r < this.faces.length; r++) {
                var d = this.faces[r],
                    f = void 0 !== this.faceVertexUvs[0][r],
                    m = d.normal.length() > 0,
                    v = d.vertexNormals.length > 0,
                    g = 1 !== d.color.r || 1 !== d.color.g || 1 !== d.color.b,
                    y = d.vertexColors.length > 0,
                    _ = 0;
                if (_ = S(_ = S(_ = S(_ = S(_ = S(_ = S(_ = S(_ = S(_, 0, 0), 1, !0), 2, !1), 3, f), 4, m), 5, v), 6, g), 7, y), s.push(_), s.push(d.a, d.b, d.c), s.push(d.materialIndex), f) {
                    var b = this.faceVertexUvs[0][r];
                    s.push(A(b[0]), A(b[1]), A(b[2]))
                }
                if (m && s.push(M(d.normal)), v) {
                    var x = d.vertexNormals;
                    s.push(M(x[0]), M(x[1]), M(x[2]))
                }
                if (g && s.push(T(d.color)), y) {
                    var w = d.vertexColors;
                    s.push(T(w[0]), T(w[1]), T(w[2]))
                }
            }

            function S(t, e, i) {
                return i ? t | 1 << e : t & ~(1 << e)
            }

            function M(t) {
                var e = t.x.toString() + t.y.toString() + t.z.toString();
                return void 0 !== c[e] ? c[e] : (c[e] = a.length / 3, a.push(t.x, t.y, t.z), c[e])
            }

            function T(t) {
                var e = t.r.toString() + t.g.toString() + t.b.toString();
                return void 0 !== u[e] ? u[e] : (u[e] = l.length, l.push(t.getHex()), u[e])
            }

            function A(t) {
                var e = t.x.toString() + t.y.toString();
                return void 0 !== p[e] ? p[e] : (p[e] = h.length / 2, h.push(t.x, t.y), p[e])
            }
            return t.data = {}, t.data.vertices = n, t.data.normals = a, l.length > 0 && (t.data.colors = l), h.length > 0 && (t.data.uvs = [h]), t.data.faces = s, t
        },
        clone: function() {
            return (new Mi).copy(this)
        },
        copy: function(t) {
            var e, i, n, r, o, s;
            this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                []
            ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.name = t.name;
            var a = t.vertices;
            for (e = 0, i = a.length; e < i; e++) this.vertices.push(a[e].clone());
            var c = t.colors;
            for (e = 0, i = c.length; e < i; e++) this.colors.push(c[e].clone());
            var l = t.faces;
            for (e = 0, i = l.length; e < i; e++) this.faces.push(l[e].clone());
            for (e = 0, i = t.faceVertexUvs.length; e < i; e++) {
                var u = t.faceVertexUvs[e];
                for (void 0 === this.faceVertexUvs[e] && (this.faceVertexUvs[e] = []), n = 0, r = u.length; n < r; n++) {
                    var h = u[n],
                        p = [];
                    for (o = 0, s = h.length; o < s; o++) {
                        var d = h[o];
                        p.push(d.clone())
                    }
                    this.faceVertexUvs[e].push(p)
                }
            }
            var f = t.morphTargets;
            for (e = 0, i = f.length; e < i; e++) {
                var m = {};
                if (m.name = f[e].name, void 0 !== f[e].vertices)
                    for (m.vertices = [], n = 0, r = f[e].vertices.length; n < r; n++) m.vertices.push(f[e].vertices[n].clone());
                if (void 0 !== f[e].normals)
                    for (m.normals = [], n = 0, r = f[e].normals.length; n < r; n++) m.normals.push(f[e].normals[n].clone());
                this.morphTargets.push(m)
            }
            var v = t.morphNormals;
            for (e = 0, i = v.length; e < i; e++) {
                var g = {};
                if (void 0 !== v[e].vertexNormals)
                    for (g.vertexNormals = [], n = 0, r = v[e].vertexNormals.length; n < r; n++) {
                        var y = v[e].vertexNormals[n],
                            _ = {};
                        _.a = y.a.clone(), _.b = y.b.clone(), _.c = y.c.clone(), g.vertexNormals.push(_)
                    }
                if (void 0 !== v[e].faceNormals)
                    for (g.faceNormals = [], n = 0, r = v[e].faceNormals.length; n < r; n++) g.faceNormals.push(v[e].faceNormals[n].clone());
                this.morphNormals.push(g)
            }
            var b = t.skinWeights;
            for (e = 0, i = b.length; e < i; e++) this.skinWeights.push(b[e].clone());
            var x = t.skinIndices;
            for (e = 0, i = x.length; e < i; e++) this.skinIndices.push(x[e].clone());
            var w = t.lineDistances;
            for (e = 0, i = w.length; e < i; e++) this.lineDistances.push(w[e]);
            var S = t.boundingBox;
            null !== S && (this.boundingBox = S.clone());
            var M = t.boundingSphere;
            return null !== M && (this.boundingSphere = M.clone()), this.elementsNeedUpdate = t.elementsNeedUpdate, this.verticesNeedUpdate = t.verticesNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.lineDistancesNeedUpdate = t.lineDistancesNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }), Object.defineProperty(Ti.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }), Object.assign(Ti.prototype, {
        isBufferAttribute: !0,
        onUploadCallback: function() {},
        setArray: function(t) {
            if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
            return this.count = void 0 !== t ? t.length / this.itemSize : 0, this.array = t, this
        },
        setDynamic: function(t) {
            return this.dynamic = t, this
        },
        copy: function(t) {
            return this.name = t.name, this.array = new t.array.constructor(t.array), this.itemSize = t.itemSize, this.count = t.count, this.normalized = t.normalized, this.dynamic = t.dynamic, this
        },
        copyAt: function(t, e, i) {
            t *= this.itemSize, i *= e.itemSize;
            for (var n = 0, r = this.itemSize; n < r; n++) this.array[t + n] = e.array[i + n];
            return this
        },
        copyArray: function(t) {
            return this.array.set(t), this
        },
        copyColorsArray: function(t) {
            for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                var o = t[n];
                void 0 === o && (o = new ri), e[i++] = o.r, e[i++] = o.g, e[i++] = o.b
            }
            return this
        },
        copyVector2sArray: function(t) {
            for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                var o = t[n];
                void 0 === o && (o = new ke), e[i++] = o.x, e[i++] = o.y
            }
            return this
        },
        copyVector3sArray: function(t) {
            for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                var o = t[n];
                void 0 === o && (o = new Re), e[i++] = o.x, e[i++] = o.y, e[i++] = o.z
            }
            return this
        },
        copyVector4sArray: function(t) {
            for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                var o = t[n];
                void 0 === o && (o = new We), e[i++] = o.x, e[i++] = o.y, e[i++] = o.z, e[i++] = o.w
            }
            return this
        },
        set: function(t, e) {
            return void 0 === e && (e = 0), this.array.set(t, e), this
        },
        getX: function(t) {
            return this.array[t * this.itemSize]
        },
        setX: function(t, e) {
            return this.array[t * this.itemSize] = e, this
        },
        getY: function(t) {
            return this.array[t * this.itemSize + 1]
        },
        setY: function(t, e) {
            return this.array[t * this.itemSize + 1] = e, this
        },
        getZ: function(t) {
            return this.array[t * this.itemSize + 2]
        },
        setZ: function(t, e) {
            return this.array[t * this.itemSize + 2] = e, this
        },
        getW: function(t) {
            return this.array[t * this.itemSize + 3]
        },
        setW: function(t, e) {
            return this.array[t * this.itemSize + 3] = e, this
        },
        setXY: function(t, e, i) {
            return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this
        },
        setXYZ: function(t, e, i, n) {
            return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this
        },
        setXYZW: function(t, e, i, n, r) {
            return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this.array[t + 3] = r, this
        },
        onUpload: function(t) {
            return this.onUploadCallback = t, this
        },
        clone: function() {
            return new this.constructor(this.array, this.itemSize).copy(this)
        }
    }), Ai.prototype = Object.create(Ti.prototype), Ai.prototype.constructor = Ai, Ci.prototype = Object.create(Ti.prototype), Ci.prototype.constructor = Ci, Ei.prototype = Object.create(Ti.prototype), Ei.prototype.constructor = Ei, Oi.prototype = Object.create(Ti.prototype), Oi.prototype.constructor = Oi, Pi.prototype = Object.create(Ti.prototype), Pi.prototype.constructor = Pi, ki.prototype = Object.create(Ti.prototype), ki.prototype.constructor = ki, Li.prototype = Object.create(Ti.prototype), Li.prototype.constructor = Li, Ii.prototype = Object.create(Ti.prototype), Ii.prototype.constructor = Ii, Ri.prototype = Object.create(Ti.prototype), Ri.prototype.constructor = Ri, Object.assign(Di.prototype, {
        computeGroups: function(t) {
            for (var e, i = [], n = void 0, r = t.faces, o = 0; o < r.length; o++) {
                var s = r[o];
                s.materialIndex !== n && (n = s.materialIndex, void 0 !== e && (e.count = 3 * o - e.start, i.push(e)), e = {
                    start: 3 * o,
                    materialIndex: n
                })
            }
            void 0 !== e && (e.count = 3 * o - e.start, i.push(e)), this.groups = i
        },
        fromGeometry: function(t) {
            var e, i = t.faces,
                n = t.vertices,
                r = t.faceVertexUvs,
                o = r[0] && r[0].length > 0,
                s = r[1] && r[1].length > 0,
                a = t.morphTargets,
                c = a.length;
            if (c > 0) {
                e = [];
                for (var l = 0; l < c; l++) e[l] = {
                    name: a[l].name,
                    data: []
                };
                this.morphTargets.position = e
            }
            var u, h = t.morphNormals,
                p = h.length;
            if (p > 0) {
                u = [];
                for (l = 0; l < p; l++) u[l] = {
                    name: h[l].name,
                    data: []
                };
                this.morphTargets.normal = u
            }
            var d = t.skinIndices,
                f = t.skinWeights,
                m = d.length === n.length,
                v = f.length === n.length;
            n.length > 0 && i.length;
            for (l = 0; l < i.length; l++) {
                var g = i[l];
                this.vertices.push(n[g.a], n[g.b], n[g.c]);
                var y = g.vertexNormals;
                if (3 === y.length) this.normals.push(y[0], y[1], y[2]);
                else {
                    var _ = g.normal;
                    this.normals.push(_, _, _)
                }
                var b, x = g.vertexColors;
                if (3 === x.length) this.colors.push(x[0], x[1], x[2]);
                else {
                    var w = g.color;
                    this.colors.push(w, w, w)
                }
                if (!0 === o) void 0 !== (b = r[0][l]) ? this.uvs.push(b[0], b[1], b[2]) : this.uvs.push(new ke, new ke, new ke);
                if (!0 === s) void 0 !== (b = r[1][l]) ? this.uvs2.push(b[0], b[1], b[2]) : this.uvs2.push(new ke, new ke, new ke);
                for (var S = 0; S < c; S++) {
                    var M = a[S].vertices;
                    e[S].data.push(M[g.a], M[g.b], M[g.c])
                }
                for (S = 0; S < p; S++) {
                    var T = h[S].vertexNormals[l];
                    u[S].data.push(T.a, T.b, T.c)
                }
                m && this.skinIndices.push(d[g.a], d[g.b], d[g.c]), v && this.skinWeights.push(f[g.a], f[g.b], f[g.c])
            }
            return this.computeGroups(t), this.verticesNeedUpdate = t.verticesNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
        }
    });
    var zi = 1;

    function Fi() {
        Object.defineProperty(this, "id", {
            value: zi += 2
        }), this.uuid = Pe.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = {
            start: 0,
            count: 1 / 0
        }, this.userData = {}
    }

    function Bi(t, e, i, n, r, o) {
        Mi.call(this), this.type = "BoxGeometry", this.parameters = {
            width: t,
            height: e,
            depth: i,
            widthSegments: n,
            heightSegments: r,
            depthSegments: o
        }, this.fromBufferGeometry(new ji(t, e, i, n, r, o)), this.mergeVertices()
    }

    function ji(t, e, i, n, r, o) {
        Fi.call(this), this.type = "BoxBufferGeometry", this.parameters = {
            width: t,
            height: e,
            depth: i,
            widthSegments: n,
            heightSegments: r,
            depthSegments: o
        };
        var s = this;
        t = t || 1, e = e || 1, i = i || 1, n = Math.floor(n) || 1, r = Math.floor(r) || 1;
        var a = [],
            c = [],
            l = [],
            u = [],
            h = 0,
            p = 0;

        function d(t, e, i, n, r, o, d, f, m, v, g) {
            var y, _, b = o / m,
                x = d / v,
                w = o / 2,
                S = d / 2,
                M = f / 2,
                T = m + 1,
                A = v + 1,
                C = 0,
                E = 0,
                O = new Re;
            for (_ = 0; _ < A; _++) {
                var P = _ * x - S;
                for (y = 0; y < T; y++) {
                    var k = y * b - w;
                    O[t] = k * n, O[e] = P * r, O[i] = M, c.push(O.x, O.y, O.z), O[t] = 0, O[e] = 0, O[i] = f > 0 ? 1 : -1, l.push(O.x, O.y, O.z), u.push(y / m), u.push(1 - _ / v), C += 1
                }
            }
            for (_ = 0; _ < v; _++)
                for (y = 0; y < m; y++) {
                    var L = h + y + T * _,
                        I = h + y + T * (_ + 1),
                        R = h + (y + 1) + T * (_ + 1),
                        D = h + (y + 1) + T * _;
                    a.push(L, I, D), a.push(I, R, D), E += 6
                }
            s.addGroup(p, E, g), p += E, h += C
        }
        d("z", "y", "x", -1, -1, i, e, t, o = Math.floor(o) || 1, r, 0), d("z", "y", "x", 1, -1, i, e, -t, o, r, 1), d("x", "z", "y", 1, 1, t, i, e, n, o, 2), d("x", "z", "y", 1, -1, t, i, -e, n, o, 3), d("x", "y", "z", 1, -1, t, e, i, n, r, 4), d("x", "y", "z", -1, -1, t, e, -i, n, r, 5), this.setIndex(a), this.addAttribute("position", new Ii(c, 3)), this.addAttribute("normal", new Ii(l, 3)), this.addAttribute("uv", new Ii(u, 2))
    }

    function Ui(t, e, i, n) {
        Mi.call(this), this.type = "PlaneGeometry", this.parameters = {
            width: t,
            height: e,
            widthSegments: i,
            heightSegments: n
        }, this.fromBufferGeometry(new Vi(t, e, i, n)), this.mergeVertices()
    }

    function Vi(t, e, i, n) {
        Fi.call(this), this.type = "PlaneBufferGeometry", this.parameters = {
            width: t,
            height: e,
            widthSegments: i,
            heightSegments: n
        };
        var r, o, s = (t = t || 1) / 2,
            a = (e = e || 1) / 2,
            c = Math.floor(i) || 1,
            l = Math.floor(n) || 1,
            u = c + 1,
            h = l + 1,
            p = t / c,
            d = e / l,
            f = [],
            m = [],
            v = [],
            g = [];
        for (o = 0; o < h; o++) {
            var y = o * d - a;
            for (r = 0; r < u; r++) {
                var _ = r * p - s;
                m.push(_, -y, 0), v.push(0, 0, 1), g.push(r / c), g.push(1 - o / l)
            }
        }
        for (o = 0; o < l; o++)
            for (r = 0; r < c; r++) {
                var b = r + u * o,
                    x = r + u * (o + 1),
                    w = r + 1 + u * (o + 1),
                    S = r + 1 + u * o;
                f.push(b, x, S), f.push(x, w, S)
            }
        this.setIndex(f), this.addAttribute("position", new Ii(m, 3)), this.addAttribute("normal", new Ii(v, 3)), this.addAttribute("uv", new Ii(g, 2))
    }
    Fi.prototype = Object.assign(Object.create(n.prototype), {
        constructor: Fi,
        isBufferGeometry: !0,
        getIndex: function() {
            return this.index
        },
        setIndex: function(t) {
            Array.isArray(t) ? this.index = new(Ni(t) > 65535 ? Li : Pi)(t, 1) : this.index = t
        },
        addAttribute: function(t, e) {
            return e && e.isBufferAttribute || e && e.isInterleavedBufferAttribute ? "index" === t ? (this.setIndex(e), this) : (this.attributes[t] = e, this) : this.addAttribute(t, new Ti(arguments[1], arguments[2]))
        },
        getAttribute: function(t) {
            return this.attributes[t]
        },
        removeAttribute: function(t) {
            return delete this.attributes[t], this
        },
        addGroup: function(t, e, i) {
            this.groups.push({
                start: t,
                count: e,
                materialIndex: void 0 !== i ? i : 0
            })
        },
        clearGroups: function() {
            this.groups = []
        },
        setDrawRange: function(t, e) {
            this.drawRange.start = t, this.drawRange.count = e
        },
        applyMatrix: function(t) {
            var e = this.attributes.position;
            void 0 !== e && (t.applyToBufferAttribute(e), e.needsUpdate = !0);
            var i = this.attributes.normal;
            void 0 !== i && ((new De).getNormalMatrix(t).applyToBufferAttribute(i), i.needsUpdate = !0);
            return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this
        },
        rotateX: function() {
            var t = new Le;
            return function(e) {
                return t.makeRotationX(e), this.applyMatrix(t), this
            }
        }(),
        rotateY: function() {
            var t = new Le;
            return function(e) {
                return t.makeRotationY(e), this.applyMatrix(t), this
            }
        }(),
        rotateZ: function() {
            var t = new Le;
            return function(e) {
                return t.makeRotationZ(e), this.applyMatrix(t), this
            }
        }(),
        translate: function() {
            var t = new Le;
            return function(e, i, n) {
                return t.makeTranslation(e, i, n), this.applyMatrix(t), this
            }
        }(),
        scale: function() {
            var t = new Le;
            return function(e, i, n) {
                return t.makeScale(e, i, n), this.applyMatrix(t), this
            }
        }(),
        lookAt: function() {
            var t = new gi;
            return function(e) {
                t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix)
            }
        }(),
        center: function() {
            var t = new Re;
            return function() {
                return this.computeBoundingBox(), this.boundingBox.getCenter(t).negate(), this.translate(t.x, t.y, t.z), this
            }
        }(),
        setFromObject: function(t) {
            var e = t.geometry;
            if (t.isPoints || t.isLine) {
                var i = new Ii(3 * e.vertices.length, 3),
                    n = new Ii(3 * e.colors.length, 3);
                if (this.addAttribute("position", i.copyVector3sArray(e.vertices)), this.addAttribute("color", n.copyColorsArray(e.colors)), e.lineDistances && e.lineDistances.length === e.vertices.length) {
                    var r = new Ii(e.lineDistances.length, 1);
                    this.addAttribute("lineDistance", r.copyArray(e.lineDistances))
                }
                null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone())
            } else t.isMesh && e && e.isGeometry && this.fromGeometry(e);
            return this
        },
        setFromPoints: function(t) {
            for (var e = [], i = 0, n = t.length; i < n; i++) {
                var r = t[i];
                e.push(r.x, r.y, r.z || 0)
            }
            return this.addAttribute("position", new Ii(e, 3)), this
        },
        updateFromObject: function(t) {
            var e, i = t.geometry;
            if (t.isMesh) {
                var n = i.__directGeometry;
                if (!0 === i.elementsNeedUpdate && (n = void 0, i.elementsNeedUpdate = !1), void 0 === n) return this.fromGeometry(i);
                n.verticesNeedUpdate = i.verticesNeedUpdate, n.normalsNeedUpdate = i.normalsNeedUpdate, n.colorsNeedUpdate = i.colorsNeedUpdate, n.uvsNeedUpdate = i.uvsNeedUpdate, n.groupsNeedUpdate = i.groupsNeedUpdate, i.verticesNeedUpdate = !1, i.normalsNeedUpdate = !1, i.colorsNeedUpdate = !1, i.uvsNeedUpdate = !1, i.groupsNeedUpdate = !1, i = n
            }
            return !0 === i.verticesNeedUpdate && (void 0 !== (e = this.attributes.position) && (e.copyVector3sArray(i.vertices), e.needsUpdate = !0), i.verticesNeedUpdate = !1), !0 === i.normalsNeedUpdate && (void 0 !== (e = this.attributes.normal) && (e.copyVector3sArray(i.normals), e.needsUpdate = !0), i.normalsNeedUpdate = !1), !0 === i.colorsNeedUpdate && (void 0 !== (e = this.attributes.color) && (e.copyColorsArray(i.colors), e.needsUpdate = !0), i.colorsNeedUpdate = !1), i.uvsNeedUpdate && (void 0 !== (e = this.attributes.uv) && (e.copyVector2sArray(i.uvs), e.needsUpdate = !0), i.uvsNeedUpdate = !1), i.lineDistancesNeedUpdate && (void 0 !== (e = this.attributes.lineDistance) && (e.copyArray(i.lineDistances), e.needsUpdate = !0), i.lineDistancesNeedUpdate = !1), i.groupsNeedUpdate && (i.computeGroups(t.geometry), this.groups = i.groups, i.groupsNeedUpdate = !1), this
        },
        fromGeometry: function(t) {
            return t.__directGeometry = (new Di).fromGeometry(t), this.fromDirectGeometry(t.__directGeometry)
        },
        fromDirectGeometry: function(t) {
            var e = new Float32Array(3 * t.vertices.length);
            if (this.addAttribute("position", new Ti(e, 3).copyVector3sArray(t.vertices)), t.normals.length > 0) {
                var i = new Float32Array(3 * t.normals.length);
                this.addAttribute("normal", new Ti(i, 3).copyVector3sArray(t.normals))
            }
            if (t.colors.length > 0) {
                var n = new Float32Array(3 * t.colors.length);
                this.addAttribute("color", new Ti(n, 3).copyColorsArray(t.colors))
            }
            if (t.uvs.length > 0) {
                var r = new Float32Array(2 * t.uvs.length);
                this.addAttribute("uv", new Ti(r, 2).copyVector2sArray(t.uvs))
            }
            if (t.uvs2.length > 0) {
                var o = new Float32Array(2 * t.uvs2.length);
                this.addAttribute("uv2", new Ti(o, 2).copyVector2sArray(t.uvs2))
            }
            for (var s in this.groups = t.groups, t.morphTargets) {
                for (var a = [], c = t.morphTargets[s], l = 0, u = c.length; l < u; l++) {
                    var h = c[l],
                        p = new Ii(3 * h.data.length, 3);
                    p.name = h.name, a.push(p.copyVector3sArray(h.data))
                }
                this.morphAttributes[s] = a
            }
            if (t.skinIndices.length > 0) {
                var d = new Ii(4 * t.skinIndices.length, 4);
                this.addAttribute("skinIndex", d.copyVector4sArray(t.skinIndices))
            }
            if (t.skinWeights.length > 0) {
                var f = new Ii(4 * t.skinWeights.length, 4);
                this.addAttribute("skinWeight", f.copyVector4sArray(t.skinWeights))
            }
            return null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), this
        },
        computeBoundingBox: function() {
            null === this.boundingBox && (this.boundingBox = new qe);
            var t = this.attributes.position;
            void 0 !== t ? this.boundingBox.setFromBufferAttribute(t) : this.boundingBox.makeEmpty(), isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)
        },
        computeBoundingSphere: function() {
            var t = new qe,
                e = new Re;
            return function() {
                null === this.boundingSphere && (this.boundingSphere = new Ye);
                var i = this.attributes.position;
                if (i) {
                    var n = this.boundingSphere.center;
                    t.setFromBufferAttribute(i), t.getCenter(n);
                    for (var r = 0, o = 0, s = i.count; o < s; o++) e.x = i.getX(o), e.y = i.getY(o), e.z = i.getZ(o), r = Math.max(r, n.distanceToSquared(e));
                    this.boundingSphere.radius = Math.sqrt(r), isNaN(this.boundingSphere.radius)
                }
            }
        }(),
        computeFaceNormals: function() {},
        computeVertexNormals: function() {
            var t = this.index,
                e = this.attributes;
            if (e.position) {
                var i = e.position.array;
                if (void 0 === e.normal) this.addAttribute("normal", new Ti(new Float32Array(i.length), 3));
                else
                    for (var n = e.normal.array, r = 0, o = n.length; r < o; r++) n[r] = 0;
                var s, a, c, l = e.normal.array,
                    u = new Re,
                    h = new Re,
                    p = new Re,
                    d = new Re,
                    f = new Re;
                if (t) {
                    var m = t.array;
                    for (r = 0, o = t.count; r < o; r += 3) s = 3 * m[r + 0], a = 3 * m[r + 1], c = 3 * m[r + 2], u.fromArray(i, s), h.fromArray(i, a), p.fromArray(i, c), d.subVectors(p, h), f.subVectors(u, h), d.cross(f), l[s] += d.x, l[s + 1] += d.y, l[s + 2] += d.z, l[a] += d.x, l[a + 1] += d.y, l[a + 2] += d.z, l[c] += d.x, l[c + 1] += d.y, l[c + 2] += d.z
                } else
                    for (r = 0, o = i.length; r < o; r += 9) u.fromArray(i, r), h.fromArray(i, r + 3), p.fromArray(i, r + 6), d.subVectors(p, h), f.subVectors(u, h), d.cross(f), l[r] = d.x, l[r + 1] = d.y, l[r + 2] = d.z, l[r + 3] = d.x, l[r + 4] = d.y, l[r + 5] = d.z, l[r + 6] = d.x, l[r + 7] = d.y, l[r + 8] = d.z;
                this.normalizeNormals(), e.normal.needsUpdate = !0
            }
        },
        merge: function(t, e) {
            if (t && t.isBufferGeometry) {
                void 0 === e && (e = 0);
                var i = this.attributes;
                for (var n in i)
                    if (void 0 !== t.attributes[n])
                        for (var r = i[n].array, o = t.attributes[n], s = o.array, a = 0, c = o.itemSize * e; a < s.length; a++, c++) r[c] = s[a];
                return this
            }
        },
        normalizeNormals: function() {
            var t = new Re;
            return function() {
                for (var e = this.attributes.normal, i = 0, n = e.count; i < n; i++) t.x = e.getX(i), t.y = e.getY(i), t.z = e.getZ(i), t.normalize(), e.setXYZ(i, t.x, t.y, t.z)
            }
        }(),
        toNonIndexed: function() {
            if (null === this.index) return this;
            var t = new Fi,
                e = this.index.array,
                i = this.attributes;
            for (var n in i) {
                for (var r = i[n], o = r.array, s = r.itemSize, a = new o.constructor(e.length * s), c = 0, l = 0, u = 0, h = e.length; u < h; u++) {
                    c = e[u] * s;
                    for (var p = 0; p < s; p++) a[l++] = o[c++]
                }
                t.addAttribute(n, new Ti(a, s))
            }
            var d = this.groups;
            for (u = 0, h = d.length; u < h; u++) {
                var f = d[u];
                t.addGroup(f.start, f.count, f.materialIndex)
            }
            return t
        },
        toJSON: function() {
            var t = {
                metadata: {
                    version: 4.5,
                    type: "BufferGeometry",
                    generator: "BufferGeometry.toJSON"
                }
            };
            if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), Object.keys(this.userData).length > 0 && (t.userData = this.userData), void 0 !== this.parameters) {
                var e = this.parameters;
                for (var i in e) void 0 !== e[i] && (t[i] = e[i]);
                return t
            }
            t.data = {
                attributes: {}
            };
            var n = this.index;
            if (null !== n) {
                var r = Array.prototype.slice.call(n.array);
                t.data.index = {
                    type: n.array.constructor.name,
                    array: r
                }
            }
            var o = this.attributes;
            for (var i in o) {
                var s = o[i];
                r = Array.prototype.slice.call(s.array);
                t.data.attributes[i] = {
                    itemSize: s.itemSize,
                    type: s.array.constructor.name,
                    array: r,
                    normalized: s.normalized
                }
            }
            var a = this.groups;
            a.length > 0 && (t.data.groups = JSON.parse(JSON.stringify(a)));
            var c = this.boundingSphere;
            return null !== c && (t.data.boundingSphere = {
                center: c.center.toArray(),
                radius: c.radius
            }), t
        },
        clone: function() {
            return (new Fi).copy(this)
        },
        copy: function(t) {
            var e, i, n;
            this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.name = t.name;
            var r = t.index;
            null !== r && this.setIndex(r.clone());
            var o = t.attributes;
            for (e in o) {
                var s = o[e];
                this.addAttribute(e, s.clone())
            }
            var a = t.morphAttributes;
            for (e in a) {
                var c = [],
                    l = a[e];
                for (i = 0, n = l.length; i < n; i++) c.push(l[i].clone());
                this.morphAttributes[e] = c
            }
            var u = t.groups;
            for (i = 0, n = u.length; i < n; i++) {
                var h = u[i];
                this.addGroup(h.start, h.count, h.materialIndex)
            }
            var p = t.boundingBox;
            null !== p && (this.boundingBox = p.clone());
            var d = t.boundingSphere;
            return null !== d && (this.boundingSphere = d.clone()), this.drawRange.start = t.drawRange.start, this.drawRange.count = t.drawRange.count, this.userData = t.userData, this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }), Bi.prototype = Object.create(Mi.prototype), Bi.prototype.constructor = Bi, ji.prototype = Object.create(Fi.prototype), ji.prototype.constructor = ji, Ui.prototype = Object.create(Mi.prototype), Ui.prototype.constructor = Ui, Vi.prototype = Object.create(Fi.prototype), Vi.prototype.constructor = Vi;
    var Gi, Wi, Hi, $i, Xi, qi, Yi, Zi, Ji, Qi, Ki, tn, en = 0;

    function nn() {
        Object.defineProperty(this, "id", {
            value: en++
        }), this.uuid = Pe.generateUUID(), this.name = "", this.type = "Material", this.fog = !0, this.lights = !0, this.blending = C, this.side = b, this.flatShading = !1, this.vertexColors = S, this.opacity = 1, this.transparent = !1, this.blendSrc = U, this.blendDst = V, this.blendEquation = L, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = J, this.depthTest = !0, this.depthWrite = !0, this.clippingPlanes = null, this.clipIntersection = !1, this.clipShadows = !1, this.shadowSide = null, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = !1, this.alphaTest = 0, this.premultipliedAlpha = !1, this.overdraw = 0, this.visible = !0, this.userData = {}, this.needsUpdate = !0
    }

    function rn(t) {
        nn.call(this), this.type = "MeshBasicMaterial", this.color = new ri(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = it, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.lights = !1, this.setValues(t)
    }

    function on(t) {
        nn.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}", this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}", this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.extensions = {
            derivatives: !1,
            fragDepth: !1,
            drawBuffers: !1,
            shaderTextureLOD: !1
        }, this.defaultAttributeValues = {
            color: [1, 1, 1],
            uv: [0, 0],
            uv2: [0, 0]
        }, this.index0AttributeName = void 0, this.uniformsNeedUpdate = !1, void 0 !== t && (t.attributes, this.setValues(t))
    }

    function sn(t, e) {
        this.origin = void 0 !== t ? t : new Re, this.direction = void 0 !== e ? e : new Re
    }

    function an(t, e, i) {
        this.a = void 0 !== t ? t : new Re, this.b = void 0 !== e ? e : new Re, this.c = void 0 !== i ? i : new Re
    }

    function cn(t, e) {
        gi.call(this), this.type = "Mesh", this.geometry = void 0 !== t ? t : new Fi, this.material = void 0 !== e ? e : new rn({
            color: 16777215 * Math.random()
        }), this.drawMode = ve, this.updateMorphTargets()
    }

    function ln(t, e) {
        return Math.abs(e[1]) - Math.abs(t[1])
    }

    function un(t, e, i, n, r, o, s, a, c, l) {
        t = void 0 !== t ? t : [], e = void 0 !== e ? e : ut, Ge.call(this, t, e, i, n, r, o, s, a, c, l), this.flipY = !1
    }
    nn.prototype = Object.assign(Object.create(n.prototype), {
        constructor: nn,
        isMaterial: !0,
        onBeforeCompile: function() {},
        setValues: function(t) {
            if (void 0 !== t)
                for (var e in t) {
                    var i = t[e];
                    if (void 0 !== i)
                        if ("shading" !== e) {
                            var n = this[e];
                            void 0 !== n && (n && n.isColor ? n.set(i) : n && n.isVector3 && i && i.isVector3 ? n.copy(i) : this[e] = "overdraw" === e ? Number(i) : i)
                        } else this.flatShading = 1 === i
                }
        },
        toJSON: function(t) {
            var e = void 0 === t || "string" == typeof t;
            e && (t = {
                textures: {},
                images: {}
            });
            var i = {
                metadata: {
                    version: 4.5,
                    type: "Material",
                    generator: "Material.toJSON"
                }
            };

            function n(t) {
                var e = [];
                for (var i in t) {
                    var n = t[i];
                    delete n.metadata, e.push(n)
                }
                return e
            }
            if (i.uuid = this.uuid, i.type = this.type, "" !== this.name && (i.name = this.name), this.color && this.color.isColor && (i.color = this.color.getHex()), void 0 !== this.roughness && (i.roughness = this.roughness), void 0 !== this.metalness && (i.metalness = this.metalness), this.emissive && this.emissive.isColor && (i.emissive = this.emissive.getHex()), 1 !== this.emissiveIntensity && (i.emissiveIntensity = this.emissiveIntensity), this.specular && this.specular.isColor && (i.specular = this.specular.getHex()), void 0 !== this.shininess && (i.shininess = this.shininess), void 0 !== this.clearCoat && (i.clearCoat = this.clearCoat), void 0 !== this.clearCoatRoughness && (i.clearCoatRoughness = this.clearCoatRoughness), this.map && this.map.isTexture && (i.map = this.map.toJSON(t).uuid), this.alphaMap && this.alphaMap.isTexture && (i.alphaMap = this.alphaMap.toJSON(t).uuid), this.lightMap && this.lightMap.isTexture && (i.lightMap = this.lightMap.toJSON(t).uuid), this.aoMap && this.aoMap.isTexture && (i.aoMap = this.aoMap.toJSON(t).uuid, i.aoMapIntensity = this.aoMapIntensity), this.bumpMap && this.bumpMap.isTexture && (i.bumpMap = this.bumpMap.toJSON(t).uuid, i.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (i.normalMap = this.normalMap.toJSON(t).uuid, i.normalMapType = this.normalMapType, i.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (i.displacementMap = this.displacementMap.toJSON(t).uuid, i.displacementScale = this.displacementScale, i.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (i.roughnessMap = this.roughnessMap.toJSON(t).uuid), this.metalnessMap && this.metalnessMap.isTexture && (i.metalnessMap = this.metalnessMap.toJSON(t).uuid), this.emissiveMap && this.emissiveMap.isTexture && (i.emissiveMap = this.emissiveMap.toJSON(t).uuid), this.specularMap && this.specularMap.isTexture && (i.specularMap = this.specularMap.toJSON(t).uuid), this.envMap && this.envMap.isTexture && (i.envMap = this.envMap.toJSON(t).uuid, i.reflectivity = this.reflectivity), this.gradientMap && this.gradientMap.isTexture && (i.gradientMap = this.gradientMap.toJSON(t).uuid), void 0 !== this.size && (i.size = this.size), void 0 !== this.sizeAttenuation && (i.sizeAttenuation = this.sizeAttenuation), this.blending !== C && (i.blending = this.blending), !0 === this.flatShading && (i.flatShading = this.flatShading), this.side !== b && (i.side = this.side), this.vertexColors !== S && (i.vertexColors = this.vertexColors), this.opacity < 1 && (i.opacity = this.opacity), !0 === this.transparent && (i.transparent = this.transparent), i.depthFunc = this.depthFunc, i.depthTest = this.depthTest, i.depthWrite = this.depthWrite, 0 !== this.rotation && (i.rotation = this.rotation), !0 === this.polygonOffset && (i.polygonOffset = !0), 0 !== this.polygonOffsetFactor && (i.polygonOffsetFactor = this.polygonOffsetFactor), 0 !== this.polygonOffsetUnits && (i.polygonOffsetUnits = this.polygonOffsetUnits), 1 !== this.linewidth && (i.linewidth = this.linewidth), void 0 !== this.dashSize && (i.dashSize = this.dashSize), void 0 !== this.gapSize && (i.gapSize = this.gapSize), void 0 !== this.scale && (i.scale = this.scale), !0 === this.dithering && (i.dithering = !0), this.alphaTest > 0 && (i.alphaTest = this.alphaTest), !0 === this.premultipliedAlpha && (i.premultipliedAlpha = this.premultipliedAlpha), !0 === this.wireframe && (i.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (i.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (i.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (i.wireframeLinejoin = this.wireframeLinejoin), !0 === this.morphTargets && (i.morphTargets = !0), !0 === this.skinning && (i.skinning = !0), !1 === this.visible && (i.visible = !1), "{}" !== JSON.stringify(this.userData) && (i.userData = this.userData), e) {
                var r = n(t.textures),
                    o = n(t.images);
                r.length > 0 && (i.textures = r), o.length > 0 && (i.images = o)
            }
            return i
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            this.name = t.name, this.fog = t.fog, this.lights = t.lights, this.blending = t.blending, this.side = t.side, this.flatShading = t.flatShading, this.vertexColors = t.vertexColors, this.opacity = t.opacity, this.transparent = t.transparent, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendEquation = t.blendEquation, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.blendEquationAlpha = t.blendEquationAlpha, this.depthFunc = t.depthFunc, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.colorWrite = t.colorWrite, this.precision = t.precision, this.polygonOffset = t.polygonOffset, this.polygonOffsetFactor = t.polygonOffsetFactor, this.polygonOffsetUnits = t.polygonOffsetUnits, this.dithering = t.dithering, this.alphaTest = t.alphaTest, this.premultipliedAlpha = t.premultipliedAlpha, this.overdraw = t.overdraw, this.visible = t.visible, this.userData = JSON.parse(JSON.stringify(t.userData)), this.clipShadows = t.clipShadows, this.clipIntersection = t.clipIntersection;
            var e = t.clippingPlanes,
                i = null;
            if (null !== e) {
                var n = e.length;
                i = new Array(n);
                for (var r = 0; r !== n; ++r) i[r] = e[r].clone()
            }
            return this.clippingPlanes = i, this.shadowSide = t.shadowSide, this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }), rn.prototype = Object.create(nn.prototype), rn.prototype.constructor = rn, rn.prototype.isMeshBasicMaterial = !0, rn.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this
    }, on.prototype = Object.create(nn.prototype), on.prototype.constructor = on, on.prototype.isShaderMaterial = !0, on.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.fragmentShader = t.fragmentShader, this.vertexShader = t.vertexShader, this.uniforms = ii.clone(t.uniforms), this.defines = Object.assign({}, t.defines), this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.lights = t.lights, this.clipping = t.clipping, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this.extensions = t.extensions, this
    }, on.prototype.toJSON = function(t) {
        var e = nn.prototype.toJSON.call(this, t);
        for (var i in e.uniforms = {}, this.uniforms) {
            var n = this.uniforms[i].value;
            n.isTexture ? e.uniforms[i] = {
                type: "t",
                value: n.toJSON(t).uuid
            } : n.isColor ? e.uniforms[i] = {
                type: "c",
                value: n.getHex()
            } : n.isVector2 ? e.uniforms[i] = {
                type: "v2",
                value: n.toArray()
            } : n.isVector3 ? e.uniforms[i] = {
                type: "v3",
                value: n.toArray()
            } : n.isVector4 ? e.uniforms[i] = {
                type: "v4",
                value: n.toArray()
            } : n.isMatrix4 ? e.uniforms[i] = {
                type: "m4",
                value: n.toArray()
            } : e.uniforms[i] = {
                value: n
            }
        }
        return Object.keys(this.defines).length > 0 && (e.defines = this.defines), e.vertexShader = this.vertexShader, e.fragmentShader = this.fragmentShader, e
    }, Object.assign(sn.prototype, {
        set: function(t, e) {
            return this.origin.copy(t), this.direction.copy(e), this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.origin.copy(t.origin), this.direction.copy(t.direction), this
        },
        at: function(t, e) {
            return void 0 === e && (e = new Re), e.copy(this.direction).multiplyScalar(t).add(this.origin)
        },
        lookAt: function(t) {
            return this.direction.copy(t).sub(this.origin).normalize(), this
        },
        recast: function() {
            var t = new Re;
            return function(e) {
                return this.origin.copy(this.at(e, t)), this
            }
        }(),
        closestPointToPoint: function(t, e) {
            void 0 === e && (e = new Re), e.subVectors(t, this.origin);
            var i = e.dot(this.direction);
            return i < 0 ? e.copy(this.origin) : e.copy(this.direction).multiplyScalar(i).add(this.origin)
        },
        distanceToPoint: function(t) {
            return Math.sqrt(this.distanceSqToPoint(t))
        },
        distanceSqToPoint: function() {
            var t = new Re;
            return function(e) {
                var i = t.subVectors(e, this.origin).dot(this.direction);
                return i < 0 ? this.origin.distanceToSquared(e) : (t.copy(this.direction).multiplyScalar(i).add(this.origin), t.distanceToSquared(e))
            }
        }(),
        distanceSqToSegment: (Wi = new Re, Hi = new Re, $i = new Re, function(t, e, i, n) {
            Wi.copy(t).add(e).multiplyScalar(.5), Hi.copy(e).sub(t).normalize(), $i.copy(this.origin).sub(Wi);
            var r, o, s, a, c = .5 * t.distanceTo(e),
                l = -this.direction.dot(Hi),
                u = $i.dot(this.direction),
                h = -$i.dot(Hi),
                p = $i.lengthSq(),
                d = Math.abs(1 - l * l);
            if (d > 0)
                if (o = l * u - h, a = c * d, (r = l * h - u) >= 0)
                    if (o >= -a)
                        if (o <= a) {
                            var f = 1 / d;
                            s = (r *= f) * (r + l * (o *= f) + 2 * u) + o * (l * r + o + 2 * h) + p
                        } else o = c, s = -(r = Math.max(0, -(l * o + u))) * r + o * (o + 2 * h) + p;
            else o = -c, s = -(r = Math.max(0, -(l * o + u))) * r + o * (o + 2 * h) + p;
            else o <= -a ? s = -(r = Math.max(0, -(-l * c + u))) * r + (o = r > 0 ? -c : Math.min(Math.max(-c, -h), c)) * (o + 2 * h) + p : o <= a ? (r = 0, s = (o = Math.min(Math.max(-c, -h), c)) * (o + 2 * h) + p) : s = -(r = Math.max(0, -(l * c + u))) * r + (o = r > 0 ? c : Math.min(Math.max(-c, -h), c)) * (o + 2 * h) + p;
            else o = l > 0 ? -c : c, s = -(r = Math.max(0, -(l * o + u))) * r + o * (o + 2 * h) + p;
            return i && i.copy(this.direction).multiplyScalar(r).add(this.origin), n && n.copy(Hi).multiplyScalar(o).add(Wi), s
        }),
        intersectSphere: function() {
            var t = new Re;
            return function(e, i) {
                t.subVectors(e.center, this.origin);
                var n = t.dot(this.direction),
                    r = t.dot(t) - n * n,
                    o = e.radius * e.radius;
                if (r > o) return null;
                var s = Math.sqrt(o - r),
                    a = n - s,
                    c = n + s;
                return a < 0 && c < 0 ? null : a < 0 ? this.at(c, i) : this.at(a, i)
            }
        }(),
        intersectsSphere: function(t) {
            return this.distanceSqToPoint(t.center) <= t.radius * t.radius
        },
        distanceToPlane: function(t) {
            var e = t.normal.dot(this.direction);
            if (0 === e) return 0 === t.distanceToPoint(this.origin) ? 0 : null;
            var i = -(this.origin.dot(t.normal) + t.constant) / e;
            return i >= 0 ? i : null
        },
        intersectPlane: function(t, e) {
            var i = this.distanceToPlane(t);
            return null === i ? null : this.at(i, e)
        },
        intersectsPlane: function(t) {
            var e = t.distanceToPoint(this.origin);
            return 0 === e || t.normal.dot(this.direction) * e < 0
        },
        intersectBox: function(t, e) {
            var i, n, r, o, s, a, c = 1 / this.direction.x,
                l = 1 / this.direction.y,
                u = 1 / this.direction.z,
                h = this.origin;
            return c >= 0 ? (i = (t.min.x - h.x) * c, n = (t.max.x - h.x) * c) : (i = (t.max.x - h.x) * c, n = (t.min.x - h.x) * c), l >= 0 ? (r = (t.min.y - h.y) * l, o = (t.max.y - h.y) * l) : (r = (t.max.y - h.y) * l, o = (t.min.y - h.y) * l), i > o || r > n ? null : ((r > i || i != i) && (i = r), (o < n || n != n) && (n = o), u >= 0 ? (s = (t.min.z - h.z) * u, a = (t.max.z - h.z) * u) : (s = (t.max.z - h.z) * u, a = (t.min.z - h.z) * u), i > a || s > n ? null : ((s > i || i != i) && (i = s), (a < n || n != n) && (n = a), n < 0 ? null : this.at(i >= 0 ? i : n, e)))
        },
        intersectsBox: (Gi = new Re, function(t) {
            return null !== this.intersectBox(t, Gi)
        }),
        intersectTriangle: function() {
            var t = new Re,
                e = new Re,
                i = new Re,
                n = new Re;
            return function(r, o, s, a, c) {
                e.subVectors(o, r), i.subVectors(s, r), n.crossVectors(e, i);
                var l, u = this.direction.dot(n);
                if (u > 0) {
                    if (a) return null;
                    l = 1
                } else {
                    if (!(u < 0)) return null;
                    l = -1, u = -u
                }
                t.subVectors(this.origin, r);
                var h = l * this.direction.dot(i.crossVectors(t, i));
                if (h < 0) return null;
                var p = l * this.direction.dot(e.cross(t));
                if (p < 0) return null;
                if (h + p > u) return null;
                var d = -l * t.dot(n);
                return d < 0 ? null : this.at(d / u, c)
            }
        }(),
        applyMatrix4: function(t) {
            return this.origin.applyMatrix4(t), this.direction.transformDirection(t), this
        },
        equals: function(t) {
            return t.origin.equals(this.origin) && t.direction.equals(this.direction)
        }
    }), Object.assign(an, {
        getNormal: (qi = new Re, function(t, e, i, n) {
            void 0 === n && (n = new Re), n.subVectors(i, e), qi.subVectors(t, e), n.cross(qi);
            var r = n.lengthSq();
            return r > 0 ? n.multiplyScalar(1 / Math.sqrt(r)) : n.set(0, 0, 0)
        }),
        getBarycoord: function() {
            var t = new Re,
                e = new Re,
                i = new Re;
            return function(n, r, o, s, a) {
                t.subVectors(s, r), e.subVectors(o, r), i.subVectors(n, r);
                var c = t.dot(t),
                    l = t.dot(e),
                    u = t.dot(i),
                    h = e.dot(e),
                    p = e.dot(i),
                    d = c * h - l * l;
                if (void 0 === a && (a = new Re), 0 === d) return a.set(-2, -1, -1);
                var f = 1 / d,
                    m = (h * u - l * p) * f,
                    v = (c * p - l * u) * f;
                return a.set(1 - m - v, v, m)
            }
        }(),
        containsPoint: function() {
            var t = new Re;
            return function(e, i, n, r) {
                return an.getBarycoord(e, i, n, r, t), t.x >= 0 && t.y >= 0 && t.x + t.y <= 1
            }
        }(),
        getUV: (Xi = new Re, function(t, e, i, n, r, o, s, a) {
            return this.getBarycoord(t, e, i, n, Xi), a.set(0, 0), a.addScaledVector(r, Xi.x), a.addScaledVector(o, Xi.y), a.addScaledVector(s, Xi.z), a
        })
    }), Object.assign(an.prototype, {
        set: function(t, e, i) {
            return this.a.copy(t), this.b.copy(e), this.c.copy(i), this
        },
        setFromPointsAndIndices: function(t, e, i, n) {
            return this.a.copy(t[e]), this.b.copy(t[i]), this.c.copy(t[n]), this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this
        },
        getArea: function() {
            var t = new Re,
                e = new Re;
            return function() {
                return t.subVectors(this.c, this.b), e.subVectors(this.a, this.b), .5 * t.cross(e).length()
            }
        }(),
        getMidpoint: function(t) {
            return void 0 === t && (t = new Re), t.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
        },
        getNormal: function(t) {
            return an.getNormal(this.a, this.b, this.c, t)
        },
        getPlane: function(t) {
            return void 0 === t && (t = new Re), t.setFromCoplanarPoints(this.a, this.b, this.c)
        },
        getBarycoord: function(t, e) {
            return an.getBarycoord(t, this.a, this.b, this.c, e)
        },
        containsPoint: function(t) {
            return an.containsPoint(t, this.a, this.b, this.c)
        },
        getUV: function(t, e, i, n, r) {
            return an.getUV(t, this.a, this.b, this.c, e, i, n, r)
        },
        intersectsBox: function(t) {
            return t.intersectsTriangle(this)
        },
        closestPointToPoint: (Yi = new Re, Zi = new Re, Ji = new Re, Qi = new Re, Ki = new Re, tn = new Re, function(t, e) {
            void 0 === e && (e = new Re);
            var i, n, r = this.a,
                o = this.b,
                s = this.c;
            Yi.subVectors(o, r), Zi.subVectors(s, r), Qi.subVectors(t, r);
            var a = Yi.dot(Qi),
                c = Zi.dot(Qi);
            if (a <= 0 && c <= 0) return e.copy(r);
            Ki.subVectors(t, o);
            var l = Yi.dot(Ki),
                u = Zi.dot(Ki);
            if (l >= 0 && u <= l) return e.copy(o);
            var h = a * u - l * c;
            if (h <= 0 && a >= 0 && l <= 0) return i = a / (a - l), e.copy(r).addScaledVector(Yi, i);
            tn.subVectors(t, s);
            var p = Yi.dot(tn),
                d = Zi.dot(tn);
            if (d >= 0 && p <= d) return e.copy(s);
            var f = p * c - a * d;
            if (f <= 0 && c >= 0 && d <= 0) return n = c / (c - d), e.copy(r).addScaledVector(Zi, n);
            var m = l * d - p * u;
            if (m <= 0 && u - l >= 0 && p - d >= 0) return Ji.subVectors(s, o), n = (u - l) / (u - l + (p - d)), e.copy(o).addScaledVector(Ji, n);
            var v = 1 / (m + f + h);
            return i = f * v, n = h * v, e.copy(r).addScaledVector(Yi, i).addScaledVector(Zi, n)
        }),
        equals: function(t) {
            return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c)
        }
    }), cn.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: cn,
        isMesh: !0,
        setDrawMode: function(t) {
            this.drawMode = t
        },
        copy: function(t) {
            return gi.prototype.copy.call(this, t), this.drawMode = t.drawMode, void 0 !== t.morphTargetInfluences && (this.morphTargetInfluences = t.morphTargetInfluences.slice()), void 0 !== t.morphTargetDictionary && (this.morphTargetDictionary = Object.assign({}, t.morphTargetDictionary)), this
        },
        updateMorphTargets: function() {
            var t, e, i, n = this.geometry;
            if (n.isBufferGeometry) {
                var r = n.morphAttributes,
                    o = Object.keys(r);
                if (o.length > 0) {
                    var s = r[o[0]];
                    if (void 0 !== s)
                        for (this.morphTargetInfluences = [], this.morphTargetDictionary = {}, t = 0, e = s.length; t < e; t++) i = s[t].name || String(t), this.morphTargetInfluences.push(0), this.morphTargetDictionary[i] = t
                }
            } else {
                var a = n.morphTargets;
                if (void 0 !== a && a.length > 0)
                    for (this.morphTargetInfluences = [], this.morphTargetDictionary = {}, t = 0, e = a.length; t < e; t++) i = a[t].name || String(t), this.morphTargetInfluences.push(0), this.morphTargetDictionary[i] = t
            }
        },
        raycast: function() {
            var t = new Le,
                e = new sn,
                i = new Ye,
                n = new Re,
                r = new Re,
                o = new Re,
                s = new Re,
                a = new Re,
                c = new Re,
                l = new ke,
                u = new ke,
                h = new ke,
                p = new Re,
                d = new Re;

            function f(t, e, i, n, r, o, s, a) {
                if (null === (e.side === x ? n.intersectTriangle(s, o, r, !0, a) : n.intersectTriangle(r, o, s, e.side !== w, a))) return null;
                d.copy(a), d.applyMatrix4(t.matrixWorld);
                var c = i.ray.origin.distanceTo(d);
                return c < i.near || c > i.far ? null : {
                    distance: c,
                    point: d.clone(),
                    object: t
                }
            }

            function m(t, e, i, s, a, c, d, m, v) {
                n.fromBufferAttribute(a, d), r.fromBufferAttribute(a, m), o.fromBufferAttribute(a, v);
                var g = f(t, e, i, s, n, r, o, p);
                if (g) {
                    c && (l.fromBufferAttribute(c, d), u.fromBufferAttribute(c, m), h.fromBufferAttribute(c, v), g.uv = an.getUV(p, n, r, o, l, u, h, new ke));
                    var y = new bi(d, m, v);
                    an.getNormal(n, r, o, y.normal), g.face = y
                }
                return g
            }
            return function(d, v) {
                var g, y = this.geometry,
                    _ = this.material,
                    b = this.matrixWorld;
                if (void 0 !== _ && (null === y.boundingSphere && y.computeBoundingSphere(), i.copy(y.boundingSphere), i.applyMatrix4(b), !1 !== d.ray.intersectsSphere(i) && (t.getInverse(b), e.copy(d.ray).applyMatrix4(t), null === y.boundingBox || !1 !== e.intersectsBox(y.boundingBox))))
                    if (y.isBufferGeometry) {
                        var x, w, S, M, T, A, C, E, O, P = y.index,
                            k = y.attributes.position,
                            L = y.attributes.uv,
                            I = y.groups,
                            R = y.drawRange;
                        if (null !== P)
                            if (Array.isArray(_))
                                for (M = 0, A = I.length; M < A; M++)
                                    for (O = _[(E = I[M]).materialIndex], T = Math.max(E.start, R.start), C = Math.min(E.start + E.count, R.start + R.count); T < C; T += 3) x = P.getX(T), w = P.getX(T + 1), S = P.getX(T + 2), (g = m(this, O, d, e, k, L, x, w, S)) && (g.faceIndex = Math.floor(T / 3), v.push(g));
                            else
                                for (M = Math.max(0, R.start), A = Math.min(P.count, R.start + R.count); M < A; M += 3) x = P.getX(M), w = P.getX(M + 1), S = P.getX(M + 2), (g = m(this, _, d, e, k, L, x, w, S)) && (g.faceIndex = Math.floor(M / 3), v.push(g));
                        else if (void 0 !== k)
                            if (Array.isArray(_))
                                for (M = 0, A = I.length; M < A; M++)
                                    for (O = _[(E = I[M]).materialIndex], T = Math.max(E.start, R.start), C = Math.min(E.start + E.count, R.start + R.count); T < C; T += 3)(g = m(this, O, d, e, k, L, x = T, w = T + 1, S = T + 2)) && (g.faceIndex = Math.floor(T / 3), v.push(g));
                            else
                                for (M = Math.max(0, R.start), A = Math.min(k.count, R.start + R.count); M < A; M += 3)(g = m(this, _, d, e, k, L, x = M, w = M + 1, S = M + 2)) && (g.faceIndex = Math.floor(M / 3), v.push(g))
                    } else if (y.isGeometry) {
                    var D, N, z, F, B = Array.isArray(_),
                        j = y.vertices,
                        U = y.faces,
                        V = y.faceVertexUvs[0];
                    V.length > 0 && (F = V);
                    for (var G = 0, W = U.length; G < W; G++) {
                        var H = U[G],
                            $ = B ? _[H.materialIndex] : _;
                        if (void 0 !== $) {
                            if (D = j[H.a], N = j[H.b], z = j[H.c], !0 === $.morphTargets) {
                                var X = y.morphTargets,
                                    q = this.morphTargetInfluences;
                                n.set(0, 0, 0), r.set(0, 0, 0), o.set(0, 0, 0);
                                for (var Y = 0, Z = X.length; Y < Z; Y++) {
                                    var J = q[Y];
                                    if (0 !== J) {
                                        var Q = X[Y].vertices;
                                        n.addScaledVector(s.subVectors(Q[H.a], D), J), r.addScaledVector(a.subVectors(Q[H.b], N), J), o.addScaledVector(c.subVectors(Q[H.c], z), J)
                                    }
                                }
                                n.add(D), r.add(N), o.add(z), D = n, N = r, z = o
                            }
                            if (g = f(this, $, d, e, D, N, z, p)) {
                                if (F && F[G]) {
                                    var K = F[G];
                                    l.copy(K[0]), u.copy(K[1]), h.copy(K[2]), g.uv = an.getUV(p, D, N, z, l, u, h, new ke)
                                }
                                g.face = H, g.faceIndex = G, v.push(g)
                            }
                        }
                    }
                }
            }
        }(),
        clone: function() {
            return new this.constructor(this.geometry, this.material).copy(this)
        }
    }), un.prototype = Object.create(Ge.prototype), un.prototype.constructor = un, un.prototype.isCubeTexture = !0, Object.defineProperty(un.prototype, "images", {
        get: function() {
            return this.image
        },
        set: function(t) {
            this.image = t
        }
    });
    var hn = new Ge,
        pn = new un;

    function dn() {
        this.seq = [], this.map = {}
    }
    var fn = [],
        mn = [],
        vn = new Float32Array(16),
        gn = new Float32Array(9),
        yn = new Float32Array(4);

    function _n(t, e, i) {
        var n = t[0];
        if (n <= 0 || n > 0) return t;
        var r = e * i,
            o = fn[r];
        if (void 0 === o && (o = new Float32Array(r), fn[r] = o), 0 !== e) {
            n.toArray(o, 0);
            for (var s = 1, a = 0; s !== e; ++s) a += i, t[s].toArray(o, a)
        }
        return o
    }

    function bn(t, e) {
        if (t.length !== e.length) return !1;
        for (var i = 0, n = t.length; i < n; i++)
            if (t[i] !== e[i]) return !1;
        return !0
    }

    function xn(t, e) {
        for (var i = 0, n = e.length; i < n; i++) t[i] = e[i]
    }

    function wn(t, e) {
        var i = mn[e];
        void 0 === i && (i = new Int32Array(e), mn[e] = i);
        for (var n = 0; n !== e; ++n) i[n] = t.allocTextureUnit();
        return i
    }

    function Sn(t, e) {
        var i = this.cache;
        i[0] !== e && (t.uniform1f(this.addr, e), i[0] = e)
    }

    function Mn(t, e) {
        var i = this.cache;
        i[0] !== e && (t.uniform1i(this.addr, e), i[0] = e)
    }

    function Tn(t, e) {
        var i = this.cache;
        if (void 0 !== e.x) i[0] === e.x && i[1] === e.y || (t.uniform2f(this.addr, e.x, e.y), i[0] = e.x, i[1] = e.y);
        else {
            if (bn(i, e)) return;
            t.uniform2fv(this.addr, e), xn(i, e)
        }
    }

    function An(t, e) {
        var i = this.cache;
        if (void 0 !== e.x) i[0] === e.x && i[1] === e.y && i[2] === e.z || (t.uniform3f(this.addr, e.x, e.y, e.z), i[0] = e.x, i[1] = e.y, i[2] = e.z);
        else if (void 0 !== e.r) i[0] === e.r && i[1] === e.g && i[2] === e.b || (t.uniform3f(this.addr, e.r, e.g, e.b), i[0] = e.r, i[1] = e.g, i[2] = e.b);
        else {
            if (bn(i, e)) return;
            t.uniform3fv(this.addr, e), xn(i, e)
        }
    }

    function Cn(t, e) {
        var i = this.cache;
        if (void 0 !== e.x) i[0] === e.x && i[1] === e.y && i[2] === e.z && i[3] === e.w || (t.uniform4f(this.addr, e.x, e.y, e.z, e.w), i[0] = e.x, i[1] = e.y, i[2] = e.z, i[3] = e.w);
        else {
            if (bn(i, e)) return;
            t.uniform4fv(this.addr, e), xn(i, e)
        }
    }

    function En(t, e) {
        var i = this.cache,
            n = e.elements;
        if (void 0 === n) {
            if (bn(i, e)) return;
            t.uniformMatrix2fv(this.addr, !1, e), xn(i, e)
        } else {
            if (bn(i, n)) return;
            yn.set(n), t.uniformMatrix2fv(this.addr, !1, yn), xn(i, n)
        }
    }

    function On(t, e) {
        var i = this.cache,
            n = e.elements;
        if (void 0 === n) {
            if (bn(i, e)) return;
            t.uniformMatrix3fv(this.addr, !1, e), xn(i, e)
        } else {
            if (bn(i, n)) return;
            gn.set(n), t.uniformMatrix3fv(this.addr, !1, gn), xn(i, n)
        }
    }

    function Pn(t, e) {
        var i = this.cache,
            n = e.elements;
        if (void 0 === n) {
            if (bn(i, e)) return;
            t.uniformMatrix4fv(this.addr, !1, e), xn(i, e)
        } else {
            if (bn(i, n)) return;
            vn.set(n), t.uniformMatrix4fv(this.addr, !1, vn), xn(i, n)
        }
    }

    function kn(t, e, i) {
        var n = this.cache,
            r = i.allocTextureUnit();
        n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.setTexture2D(e || hn, r)
    }

    function Ln(t, e, i) {
        var n = this.cache,
            r = i.allocTextureUnit();
        n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.setTextureCube(e || pn, r)
    }

    function In(t, e) {
        var i = this.cache;
        bn(i, e) || (t.uniform2iv(this.addr, e), xn(i, e))
    }

    function Rn(t, e) {
        var i = this.cache;
        bn(i, e) || (t.uniform3iv(this.addr, e), xn(i, e))
    }

    function Dn(t, e) {
        var i = this.cache;
        bn(i, e) || (t.uniform4iv(this.addr, e), xn(i, e))
    }

    function Nn(t, e) {
        var i = this.cache;
        bn(i, e) || (t.uniform1fv(this.addr, e), xn(i, e))
    }

    function zn(t, e) {
        var i = this.cache;
        bn(i, e) || (t.uniform1iv(this.addr, e), xn(i, e))
    }

    function Fn(t, e) {
        var i = this.cache,
            n = _n(e, this.size, 2);
        bn(i, n) || (t.uniform2fv(this.addr, n), this.updateCache(n))
    }

    function Bn(t, e) {
        var i = this.cache,
            n = _n(e, this.size, 3);
        bn(i, n) || (t.uniform3fv(this.addr, n), this.updateCache(n))
    }

    function jn(t, e) {
        var i = this.cache,
            n = _n(e, this.size, 4);
        bn(i, n) || (t.uniform4fv(this.addr, n), this.updateCache(n))
    }

    function Un(t, e) {
        var i = this.cache,
            n = _n(e, this.size, 4);
        bn(i, n) || (t.uniformMatrix2fv(this.addr, !1, n), this.updateCache(n))
    }

    function Vn(t, e) {
        var i = this.cache,
            n = _n(e, this.size, 9);
        bn(i, n) || (t.uniformMatrix3fv(this.addr, !1, n), this.updateCache(n))
    }

    function Gn(t, e) {
        var i = this.cache,
            n = _n(e, this.size, 16);
        bn(i, n) || (t.uniformMatrix4fv(this.addr, !1, n), this.updateCache(n))
    }

    function Wn(t, e, i) {
        var n = this.cache,
            r = e.length,
            o = wn(i, r);
        !1 === bn(n, o) && (t.uniform1iv(this.addr, o), xn(n, o));
        for (var s = 0; s !== r; ++s) i.setTexture2D(e[s] || hn, o[s])
    }

    function Hn(t, e, i) {
        var n = this.cache,
            r = e.length,
            o = wn(i, r);
        !1 === bn(n, o) && (t.uniform1iv(this.addr, o), xn(n, o));
        for (var s = 0; s !== r; ++s) i.setTextureCube(e[s] || pn, o[s])
    }

    function $n(t, e, i) {
        this.id = t, this.addr = i, this.cache = [], this.setValue = function(t) {
            switch (t) {
                case 5126:
                    return Sn;
                case 35664:
                    return Tn;
                case 35665:
                    return An;
                case 35666:
                    return Cn;
                case 35674:
                    return En;
                case 35675:
                    return On;
                case 35676:
                    return Pn;
                case 35678:
                case 36198:
                    return kn;
                case 35680:
                    return Ln;
                case 5124:
                case 35670:
                    return Mn;
                case 35667:
                case 35671:
                    return In;
                case 35668:
                case 35672:
                    return Rn;
                case 35669:
                case 35673:
                    return Dn
            }
        }(e.type)
    }

    function Xn(t, e, i) {
        this.id = t, this.addr = i, this.cache = [], this.size = e.size, this.setValue = function(t) {
            switch (t) {
                case 5126:
                    return Nn;
                case 35664:
                    return Fn;
                case 35665:
                    return Bn;
                case 35666:
                    return jn;
                case 35674:
                    return Un;
                case 35675:
                    return Vn;
                case 35676:
                    return Gn;
                case 35678:
                    return Wn;
                case 35680:
                    return Hn;
                case 5124:
                case 35670:
                    return zn;
                case 35667:
                case 35671:
                    return In;
                case 35668:
                case 35672:
                    return Rn;
                case 35669:
                case 35673:
                    return Dn
            }
        }(e.type)
    }

    function qn(t) {
        this.id = t, dn.call(this)
    }
    Xn.prototype.updateCache = function(t) {
        var e = this.cache;
        t instanceof Float32Array && e.length !== t.length && (this.cache = new Float32Array(t.length)), xn(e, t)
    }, qn.prototype.setValue = function(t, e, i) {
        for (var n = this.seq, r = 0, o = n.length; r !== o; ++r) {
            var s = n[r];
            s.setValue(t, e[s.id], i)
        }
    };
    var Yn = /([\w\d_]+)(\])?(\[|\.)?/g;

    function Zn(t, e) {
        t.seq.push(e), t.map[e.id] = e
    }

    function Jn(t, e, i) {
        var n = t.name,
            r = n.length;
        for (Yn.lastIndex = 0;;) {
            var o = Yn.exec(n),
                s = Yn.lastIndex,
                a = o[1],
                c = "]" === o[2],
                l = o[3];
            if (c && (a |= 0), void 0 === l || "[" === l && s + 2 === r) {
                Zn(i, void 0 === l ? new $n(a, t, e) : new Xn(a, t, e));
                break
            }
            var u = i.map[a];
            void 0 === u && Zn(i, u = new qn(a)), i = u
        }
    }

    function Qn(t, e, i) {
        dn.call(this), this.renderer = i;
        for (var n = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), r = 0; r < n; ++r) {
            var o = t.getActiveUniform(e, r);
            Jn(o, t.getUniformLocation(e, o.name), this)
        }
    }

    function Kn(t, e, i) {
        var n = t.createShader(e);
        return t.shaderSource(n, i), t.compileShader(n), t.getShaderParameter(n, t.COMPILE_STATUS), t.getShaderInfoLog(n), n
    }
    Qn.prototype.setValue = function(t, e, i) {
        var n = this.map[e];
        void 0 !== n && n.setValue(t, i, this.renderer)
    }, Qn.prototype.setOptional = function(t, e, i) {
        var n = e[i];
        void 0 !== n && this.setValue(t, i, n)
    }, Qn.upload = function(t, e, i, n) {
        for (var r = 0, o = e.length; r !== o; ++r) {
            var s = e[r],
                a = i[s.id];
            !1 !== a.needsUpdate && s.setValue(t, a.value, n)
        }
    }, Qn.seqWithValue = function(t, e) {
        for (var i = [], n = 0, r = t.length; n !== r; ++n) {
            var o = t[n];
            o.id in e && i.push(o)
        }
        return i
    };
    var tr = 0;

    function er(t) {
        switch (t) {
            case _e:
                return ["Linear", "( value )"];
            case be:
                return ["sRGB", "( value )"];
            case we:
                return ["RGBE", "( value )"];
            case Se:
                return ["RGBM", "( value, 7.0 )"];
            case Me:
                return ["RGBM", "( value, 16.0 )"];
            case Te:
                return ["RGBD", "( value, 256.0 )"];
            case xe:
                return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
            default:
                throw new Error("unsupported encoding: " + t)
        }
    }

    function ir(t, e) {
        var i = er(e);
        return "vec4 " + t + "( vec4 value ) { return " + i[0] + "ToLinear" + i[1] + "; }"
    }

    function nr(t) {
        return "" !== t
    }

    function rr(t, e) {
        return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights)
    }

    function or(t, e) {
        return t.replace(/NUM_CLIPPING_PLANES/g, e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, e.numClippingPlanes - e.numClipIntersection)
    }

    function sr(t) {
        return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm, function(t, e) {
            var i = ei[e];
            if (void 0 === i) throw new Error("Can not resolve #include <" + e + ">");
            return sr(i)
        })
    }

    function ar(t) {
        return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g, function(t, e, i, n) {
            for (var r = "", o = parseInt(e); o < parseInt(i); o++) r += n.replace(/\[ i \]/g, "[ " + o + " ]");
            return r
        })
    }

    function cr(t, e, i, n, r, o, s) {
        var a = t.context,
            c = n.defines,
            l = r.vertexShader,
            u = r.fragmentShader,
            h = "SHADOWMAP_TYPE_BASIC";
        o.shadowMapType === y ? h = "SHADOWMAP_TYPE_PCF" : o.shadowMapType === _ && (h = "SHADOWMAP_TYPE_PCF_SOFT");
        var p = "ENVMAP_TYPE_CUBE",
            d = "ENVMAP_MODE_REFLECTION",
            f = "ENVMAP_BLENDING_MULTIPLY";
        if (o.envMap) {
            switch (n.envMap.mapping) {
                case ut:
                case ht:
                    p = "ENVMAP_TYPE_CUBE";
                    break;
                case mt:
                case vt:
                    p = "ENVMAP_TYPE_CUBE_UV";
                    break;
                case pt:
                case dt:
                    p = "ENVMAP_TYPE_EQUIREC";
                    break;
                case ft:
                    p = "ENVMAP_TYPE_SPHERE"
            }
            switch (n.envMap.mapping) {
                case ht:
                case dt:
                    d = "ENVMAP_MODE_REFRACTION"
            }
            switch (n.combine) {
                case it:
                    f = "ENVMAP_BLENDING_MULTIPLY";
                    break;
                case nt:
                    f = "ENVMAP_BLENDING_MIX";
                    break;
                case rt:
                    f = "ENVMAP_BLENDING_ADD"
            }
        }
        var m, v, g, b, x, w = t.gammaFactor > 0 ? t.gammaFactor : 1,
            S = s.isWebGL2 ? "" : function(t, e, i) {
                return [(t = t || {}).derivatives || e.envMapCubeUV || e.bumpMap || e.normalMap && !e.objectSpaceNormalMap || e.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (t.fragDepth || e.logarithmicDepthBuffer) && i.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", t.drawBuffers && i.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (t.shaderTextureLOD || e.envMap) && i.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(nr).join("\n")
            }(n.extensions, o, e),
            M = function(t) {
                var e = [];
                for (var i in t) {
                    var n = t[i];
                    !1 !== n && e.push("#define " + i + " " + n)
                }
                return e.join("\n")
            }(c),
            T = a.createProgram();
        if (n.isRawShaderMaterial ? ((m = [M].filter(nr).join("\n")).length > 0 && (m += "\n"), (v = [S, M].filter(nr).join("\n")).length > 0 && (v += "\n")) : (m = ["precision " + o.precision + " float;", "precision " + o.precision + " int;", "#define SHADER_NAME " + r.name, M, o.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + w, "#define MAX_BONES " + o.maxBones, o.useFog && o.fog ? "#define USE_FOG" : "", o.useFog && o.fogExp ? "#define FOG_EXP2" : "", o.map ? "#define USE_MAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.envMap ? "#define " + d : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.aoMap ? "#define USE_AOMAP" : "", o.emissiveMap ? "#define USE_EMISSIVEMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.normalMap && o.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", o.displacementMap && o.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", o.metalnessMap ? "#define USE_METALNESSMAP" : "", o.alphaMap ? "#define USE_ALPHAMAP" : "", o.vertexColors ? "#define USE_COLOR" : "", o.flatShading ? "#define FLAT_SHADED" : "", o.skinning ? "#define USE_SKINNING" : "", o.useVertexTexture ? "#define BONE_TEXTURE" : "", o.morphTargets ? "#define USE_MORPHTARGETS" : "", o.morphNormals && !1 === o.flatShading ? "#define USE_MORPHNORMALS" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + h : "", o.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", o.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", o.logarithmicDepthBuffer && (s.isWebGL2 || e.get("EXT_frag_depth")) ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(nr).join("\n"), v = [S, "precision " + o.precision + " float;", "precision " + o.precision + " int;", "#define SHADER_NAME " + r.name, M, o.alphaTest ? "#define ALPHATEST " + o.alphaTest + (o.alphaTest % 1 ? "" : ".0") : "", "#define GAMMA_FACTOR " + w, o.useFog && o.fog ? "#define USE_FOG" : "", o.useFog && o.fogExp ? "#define FOG_EXP2" : "", o.map ? "#define USE_MAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.envMap ? "#define " + p : "", o.envMap ? "#define " + d : "", o.envMap ? "#define " + f : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.aoMap ? "#define USE_AOMAP" : "", o.emissiveMap ? "#define USE_EMISSIVEMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.normalMap && o.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", o.metalnessMap ? "#define USE_METALNESSMAP" : "", o.alphaMap ? "#define USE_ALPHAMAP" : "", o.vertexColors ? "#define USE_COLOR" : "", o.gradientMap ? "#define USE_GRADIENTMAP" : "", o.flatShading ? "#define FLAT_SHADED" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + h : "", o.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", o.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", o.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", o.logarithmicDepthBuffer && (s.isWebGL2 || e.get("EXT_frag_depth")) ? "#define USE_LOGDEPTHBUF_EXT" : "", o.envMap && (s.isWebGL2 || e.get("EXT_shader_texture_lod")) ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", o.toneMapping !== ot ? "#define TONE_MAPPING" : "", o.toneMapping !== ot ? ei.tonemapping_pars_fragment : "", o.toneMapping !== ot ? function(t, e) {
                var i;
                switch (e) {
                    case st:
                        i = "Linear";
                        break;
                    case at:
                        i = "Reinhard";
                        break;
                    case ct:
                        i = "Uncharted2";
                        break;
                    case lt:
                        i = "OptimizedCineon";
                        break;
                    default:
                        throw new Error("unsupported toneMapping: " + e)
                }
                return "vec3 " + t + "( vec3 color ) { return " + i + "ToneMapping( color ); }"
            }("toneMapping", o.toneMapping) : "", o.dithering ? "#define DITHERING" : "", o.outputEncoding || o.mapEncoding || o.envMapEncoding || o.emissiveMapEncoding ? ei.encodings_pars_fragment : "", o.mapEncoding ? ir("mapTexelToLinear", o.mapEncoding) : "", o.envMapEncoding ? ir("envMapTexelToLinear", o.envMapEncoding) : "", o.emissiveMapEncoding ? ir("emissiveMapTexelToLinear", o.emissiveMapEncoding) : "", o.outputEncoding ? (g = "linearToOutputTexel", b = o.outputEncoding, x = er(b), "vec4 " + g + "( vec4 value ) { return LinearTo" + x[0] + x[1] + "; }") : "", o.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "", "\n"].filter(nr).join("\n")), l = or(l = rr(l = sr(l), o), o), u = or(u = rr(u = sr(u), o), o), l = ar(l), u = ar(u), s.isWebGL2 && !n.isRawShaderMaterial) {
            var A = !1,
                C = /^\s*#version\s+300\s+es\s*\n/;
            n.isShaderMaterial && null !== l.match(C) && null !== u.match(C) && (A = !0, l = l.replace(C, ""), u = u.replace(C, "")), m = ["#version 300 es\n", "#define attribute in", "#define varying out", "#define texture2D texture"].join("\n") + "\n" + m, v = ["#version 300 es\n", "#define varying in", A ? "" : "out highp vec4 pc_fragColor;", A ? "" : "#define gl_FragColor pc_fragColor", "#define gl_FragDepthEXT gl_FragDepth", "#define texture2D texture", "#define textureCube texture", "#define texture2DProj textureProj", "#define texture2DLodEXT textureLod", "#define texture2DProjLodEXT textureProjLod", "#define textureCubeLodEXT textureLod", "#define texture2DGradEXT textureGrad", "#define texture2DProjGradEXT textureProjGrad", "#define textureCubeGradEXT textureGrad"].join("\n") + "\n" + v
        }
        var E = m + l,
            O = v + u,
            P = Kn(a, a.VERTEX_SHADER, E),
            k = Kn(a, a.FRAGMENT_SHADER, O);
        a.attachShader(T, P), a.attachShader(T, k), void 0 !== n.index0AttributeName ? a.bindAttribLocation(T, 0, n.index0AttributeName) : !0 === o.morphTargets && a.bindAttribLocation(T, 0, "position"), a.linkProgram(T);
        var L, I, R = a.getProgramInfoLog(T).trim(),
            D = a.getShaderInfoLog(P).trim(),
            N = a.getShaderInfoLog(k).trim(),
            z = !0,
            F = !0;
        return !1 === a.getProgramParameter(T, a.LINK_STATUS) ? z = !1 : "" !== R || "" !== D && "" !== N || (F = !1), F && (this.diagnostics = {
            runnable: z,
            material: n,
            programLog: R,
            vertexShader: {
                log: D,
                prefix: m
            },
            fragmentShader: {
                log: N,
                prefix: v
            }
        }), a.deleteShader(P), a.deleteShader(k), this.getUniforms = function() {
            return void 0 === L && (L = new Qn(a, T, t)), L
        }, this.getAttributes = function() {
            return void 0 === I && (I = function(t, e) {
                for (var i = {}, n = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), r = 0; r < n; r++) {
                    var o = t.getActiveAttrib(e, r).name;
                    i[o] = t.getAttribLocation(e, o)
                }
                return i
            }(a, T)), I
        }, this.destroy = function() {
            a.deleteProgram(T), this.program = void 0
        }, Object.defineProperties(this, {
            uniforms: {
                get: function() {
                    return this.getUniforms()
                }
            },
            attributes: {
                get: function() {
                    return this.getAttributes()
                }
            }
        }), this.name = r.name, this.id = tr++, this.code = i, this.usedTimes = 1, this.program = T, this.vertexShader = P, this.fragmentShader = k, this
    }

    function lr(t, e, i) {
        var n = [],
            r = {
                MeshDepthMaterial: "depth",
                MeshDistanceMaterial: "distanceRGBA",
                MeshNormalMaterial: "normal",
                MeshBasicMaterial: "basic",
                MeshLambertMaterial: "lambert",
                MeshPhongMaterial: "phong",
                MeshToonMaterial: "phong",
                MeshStandardMaterial: "physical",
                MeshPhysicalMaterial: "physical",
                LineBasicMaterial: "basic",
                LineDashedMaterial: "dashed",
                PointsMaterial: "points",
                ShadowMaterial: "shadow",
                SpriteMaterial: "sprite"
            },
            o = ["precision", "supportsVertexTextures", "map", "mapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "objectSpaceNormalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering"];

        function s(t, e) {
            var i;
            return t ? t.isTexture ? i = t.encoding : t.isWebGLRenderTarget && (i = t.texture.encoding) : i = _e, i === _e && e && (i = xe), i
        }
        this.getParameters = function(e, n, o, a, c, l, u) {
            var h = r[e.type],
                p = u.isSkinnedMesh ? function(t) {
                    var e = t.skeleton.bones;
                    if (i.floatVertexTextures) return 1024;
                    var n = i.maxVertexUniforms,
                        r = Math.floor((n - 20) / 4),
                        o = Math.min(r, e.length);
                    return o < e.length ? 0 : o
                }(u) : 0,
                d = i.precision;
            null !== e.precision && (d = i.getMaxPrecision(e.precision), e.precision);
            var f = t.getRenderTarget();
            return {
                shaderID: h,
                precision: d,
                supportsVertexTextures: i.vertexTextures,
                outputEncoding: s(f ? f.texture : null, t.gammaOutput),
                map: !!e.map,
                mapEncoding: s(e.map, t.gammaInput),
                envMap: !!e.envMap,
                envMapMode: e.envMap && e.envMap.mapping,
                envMapEncoding: s(e.envMap, t.gammaInput),
                envMapCubeUV: !!e.envMap && (e.envMap.mapping === mt || e.envMap.mapping === vt),
                lightMap: !!e.lightMap,
                aoMap: !!e.aoMap,
                emissiveMap: !!e.emissiveMap,
                emissiveMapEncoding: s(e.emissiveMap, t.gammaInput),
                bumpMap: !!e.bumpMap,
                normalMap: !!e.normalMap,
                objectSpaceNormalMap: e.normalMapType === Oe,
                displacementMap: !!e.displacementMap,
                roughnessMap: !!e.roughnessMap,
                metalnessMap: !!e.metalnessMap,
                specularMap: !!e.specularMap,
                alphaMap: !!e.alphaMap,
                gradientMap: !!e.gradientMap,
                combine: e.combine,
                vertexColors: e.vertexColors,
                fog: !!a,
                useFog: e.fog,
                fogExp: a && a.isFogExp2,
                flatShading: e.flatShading,
                sizeAttenuation: e.sizeAttenuation,
                logarithmicDepthBuffer: i.logarithmicDepthBuffer,
                skinning: e.skinning && p > 0,
                maxBones: p,
                useVertexTexture: i.floatVertexTextures,
                morphTargets: e.morphTargets,
                morphNormals: e.morphNormals,
                maxMorphTargets: t.maxMorphTargets,
                maxMorphNormals: t.maxMorphNormals,
                numDirLights: n.directional.length,
                numPointLights: n.point.length,
                numSpotLights: n.spot.length,
                numRectAreaLights: n.rectArea.length,
                numHemiLights: n.hemi.length,
                numClippingPlanes: c,
                numClipIntersection: l,
                dithering: e.dithering,
                shadowMapEnabled: t.shadowMap.enabled && u.receiveShadow && o.length > 0,
                shadowMapType: t.shadowMap.type,
                toneMapping: t.toneMapping,
                physicallyCorrectLights: t.physicallyCorrectLights,
                premultipliedAlpha: e.premultipliedAlpha,
                alphaTest: e.alphaTest,
                doubleSided: e.side === w,
                flipSided: e.side === x,
                depthPacking: void 0 !== e.depthPacking && e.depthPacking
            }
        }, this.getProgramCode = function(e, i) {
            var n = [];
            if (i.shaderID ? n.push(i.shaderID) : (n.push(e.fragmentShader), n.push(e.vertexShader)), void 0 !== e.defines)
                for (var r in e.defines) n.push(r), n.push(e.defines[r]);
            for (var s = 0; s < o.length; s++) n.push(i[o[s]]);
            return n.push(e.onBeforeCompile.toString()), n.push(t.gammaOutput), n.join()
        }, this.acquireProgram = function(r, o, s, a) {
            for (var c, l = 0, u = n.length; l < u; l++) {
                var h = n[l];
                if (h.code === a) {
                    ++(c = h).usedTimes;
                    break
                }
            }
            return void 0 === c && (c = new cr(t, e, a, r, o, s, i), n.push(c)), c
        }, this.releaseProgram = function(t) {
            if (0 == --t.usedTimes) {
                var e = n.indexOf(t);
                n[e] = n[n.length - 1], n.pop(), t.destroy()
            }
        }, this.programs = n
    }

    function ur(t, e) {
        return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.program && e.program && t.program !== e.program ? t.program.id - e.program.id : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id
    }

    function hr(t, e) {
        return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id
    }

    function pr() {
        var t = {};
        return {
            get: function(e, i) {
                var n = e.id + "," + i.id,
                    r = t[n];
                return void 0 === r && (r = new function() {
                    var t = [],
                        e = 0,
                        i = [],
                        n = [];
                    return {
                        opaque: i,
                        transparent: n,
                        init: function() {
                            e = 0, i.length = 0, n.length = 0
                        },
                        push: function(r, o, s, a, c) {
                            var l = t[e];
                            void 0 === l ? (l = {
                                id: r.id,
                                object: r,
                                geometry: o,
                                material: s,
                                program: s.program,
                                renderOrder: r.renderOrder,
                                z: a,
                                group: c
                            }, t[e] = l) : (l.id = r.id, l.object = r, l.geometry = o, l.material = s, l.program = s.program, l.renderOrder = r.renderOrder, l.z = a, l.group = c), (!0 === s.transparent ? n : i).push(l), e++
                        },
                        sort: function() {
                            i.length > 1 && i.sort(ur), n.length > 1 && n.sort(hr)
                        }
                    }
                }, t[n] = r), r
            },
            dispose: function() {
                t = {}
            }
        }
    }
    var dr, fr, mr, vr, gr, yr, _r = 0;

    function br() {
        var t = new function() {
                var t = {};
                return {
                    get: function(e) {
                        if (void 0 !== t[e.id]) return t[e.id];
                        var i;
                        switch (e.type) {
                            case "DirectionalLight":
                                i = {
                                    direction: new Re,
                                    color: new ri,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new ke
                                };
                                break;
                            case "SpotLight":
                                i = {
                                    position: new Re,
                                    direction: new Re,
                                    color: new ri,
                                    distance: 0,
                                    coneCos: 0,
                                    penumbraCos: 0,
                                    decay: 0,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new ke
                                };
                                break;
                            case "PointLight":
                                i = {
                                    position: new Re,
                                    color: new ri,
                                    distance: 0,
                                    decay: 0,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new ke,
                                    shadowCameraNear: 1,
                                    shadowCameraFar: 1e3
                                };
                                break;
                            case "HemisphereLight":
                                i = {
                                    direction: new Re,
                                    skyColor: new ri,
                                    groundColor: new ri
                                };
                                break;
                            case "RectAreaLight":
                                i = {
                                    color: new ri,
                                    position: new Re,
                                    halfWidth: new Re,
                                    halfHeight: new Re
                                }
                        }
                        return t[e.id] = i, i
                    }
                }
            },
            e = {
                id: _r++,
                hash: {
                    stateID: -1,
                    directionalLength: -1,
                    pointLength: -1,
                    spotLength: -1,
                    rectAreaLength: -1,
                    hemiLength: -1,
                    shadowsLength: -1
                },
                ambient: [0, 0, 0],
                directional: [],
                directionalShadowMap: [],
                directionalShadowMatrix: [],
                spot: [],
                spotShadowMap: [],
                spotShadowMatrix: [],
                rectArea: [],
                point: [],
                pointShadowMap: [],
                pointShadowMatrix: [],
                hemi: []
            },
            i = new Re,
            n = new Le,
            r = new Le;
        return {
            setup: function(o, s, a) {
                for (var c = 0, l = 0, u = 0, h = 0, p = 0, d = 0, f = 0, m = 0, v = a.matrixWorldInverse, g = 0, y = o.length; g < y; g++) {
                    var _ = o[g],
                        b = _.color,
                        x = _.intensity,
                        w = _.distance,
                        S = _.shadow && _.shadow.map ? _.shadow.map.texture : null;
                    if (_.isAmbientLight) c += b.r * x, l += b.g * x, u += b.b * x;
                    else if (_.isDirectionalLight) {
                        if ((T = t.get(_)).color.copy(_.color).multiplyScalar(_.intensity), T.direction.setFromMatrixPosition(_.matrixWorld), i.setFromMatrixPosition(_.target.matrixWorld), T.direction.sub(i), T.direction.transformDirection(v), T.shadow = _.castShadow, _.castShadow) {
                            var M = _.shadow;
                            T.shadowBias = M.bias, T.shadowRadius = M.radius, T.shadowMapSize = M.mapSize
                        }
                        e.directionalShadowMap[h] = S, e.directionalShadowMatrix[h] = _.shadow.matrix, e.directional[h] = T, h++
                    } else if (_.isSpotLight)(T = t.get(_)).position.setFromMatrixPosition(_.matrixWorld), T.position.applyMatrix4(v), T.color.copy(b).multiplyScalar(x), T.distance = w, T.direction.setFromMatrixPosition(_.matrixWorld), i.setFromMatrixPosition(_.target.matrixWorld), T.direction.sub(i), T.direction.transformDirection(v), T.coneCos = Math.cos(_.angle), T.penumbraCos = Math.cos(_.angle * (1 - _.penumbra)), T.decay = 0 === _.distance ? 0 : _.decay, T.shadow = _.castShadow, _.castShadow && (M = _.shadow, T.shadowBias = M.bias, T.shadowRadius = M.radius, T.shadowMapSize = M.mapSize), e.spotShadowMap[d] = S, e.spotShadowMatrix[d] = _.shadow.matrix, e.spot[d] = T, d++;
                    else if (_.isRectAreaLight)(T = t.get(_)).color.copy(b).multiplyScalar(x), T.position.setFromMatrixPosition(_.matrixWorld), T.position.applyMatrix4(v), r.identity(), n.copy(_.matrixWorld), n.premultiply(v), r.extractRotation(n), T.halfWidth.set(.5 * _.width, 0, 0), T.halfHeight.set(0, .5 * _.height, 0), T.halfWidth.applyMatrix4(r), T.halfHeight.applyMatrix4(r), e.rectArea[f] = T, f++;
                    else if (_.isPointLight)(T = t.get(_)).position.setFromMatrixPosition(_.matrixWorld), T.position.applyMatrix4(v), T.color.copy(_.color).multiplyScalar(_.intensity), T.distance = _.distance, T.decay = 0 === _.distance ? 0 : _.decay, T.shadow = _.castShadow, _.castShadow && (M = _.shadow, T.shadowBias = M.bias, T.shadowRadius = M.radius, T.shadowMapSize = M.mapSize, T.shadowCameraNear = M.camera.near, T.shadowCameraFar = M.camera.far), e.pointShadowMap[p] = S, e.pointShadowMatrix[p] = _.shadow.matrix, e.point[p] = T, p++;
                    else if (_.isHemisphereLight) {
                        var T;
                        (T = t.get(_)).direction.setFromMatrixPosition(_.matrixWorld), T.direction.transformDirection(v), T.direction.normalize(), T.skyColor.copy(_.color).multiplyScalar(x), T.groundColor.copy(_.groundColor).multiplyScalar(x), e.hemi[m] = T, m++
                    }
                }
                e.ambient[0] = c, e.ambient[1] = l, e.ambient[2] = u, e.directional.length = h, e.spot.length = d, e.rectArea.length = f, e.point.length = p, e.hemi.length = m, e.hash.stateID = e.id, e.hash.directionalLength = h, e.hash.pointLength = p, e.hash.spotLength = d, e.hash.rectAreaLength = f, e.hash.hemiLength = m, e.hash.shadowsLength = s.length
            },
            state: e
        }
    }

    function xr() {
        var t = new br,
            e = [],
            i = [];
        return {
            init: function() {
                e.length = 0, i.length = 0
            },
            state: {
                lightsArray: e,
                shadowsArray: i,
                lights: t
            },
            setupLights: function(n) {
                t.setup(e, i, n)
            },
            pushLight: function(t) {
                e.push(t)
            },
            pushShadow: function(t) {
                i.push(t)
            }
        }
    }

    function wr(t) {
        nn.call(this), this.type = "MeshDepthMaterial", this.depthPacking = Ae, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.setValues(t)
    }

    function Sr(t) {
        nn.call(this), this.type = "MeshDistanceMaterial", this.referencePosition = new Re, this.nearDistance = 1, this.farDistance = 1e3, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.fog = !1, this.lights = !1, this.setValues(t)
    }

    function Mr(t, e, i) {
        for (var n = new Je, r = new Le, o = new ke, s = new ke(i, i), a = new Re, c = new Re, l = 1, u = 2, h = 1 + (l | u), p = new Array(h), d = new Array(h), f = {}, m = {
                0: x,
                1: b,
                2: w
            }, v = [new Re(1, 0, 0), new Re(-1, 0, 0), new Re(0, 0, 1), new Re(0, 0, -1), new Re(0, 1, 0), new Re(0, -1, 0)], g = [new Re(0, 1, 0), new Re(0, 1, 0), new Re(0, 1, 0), new Re(0, 1, 0), new Re(0, 0, 1), new Re(0, 0, -1)], _ = [new We, new We, new We, new We, new We, new We], S = 0; S !== h; ++S) {
            var M = 0 != (S & l),
                T = 0 != (S & u),
                A = new wr({
                    depthPacking: Ce,
                    morphTargets: M,
                    skinning: T
                });
            p[S] = A;
            var C = new Sr({
                morphTargets: M,
                skinning: T
            });
            d[S] = C
        }
        var E = this;

        function O(e, i, n, r, o, s) {
            var a = e.geometry,
                c = null,
                h = p,
                v = e.customDepthMaterial;
            if (n && (h = d, v = e.customDistanceMaterial), v) c = v;
            else {
                var g = !1;
                i.morphTargets && (a && a.isBufferGeometry ? g = a.morphAttributes && a.morphAttributes.position && a.morphAttributes.position.length > 0 : a && a.isGeometry && (g = a.morphTargets && a.morphTargets.length > 0)), e.isSkinnedMesh && i.skinning;
                var y = e.isSkinnedMesh && i.skinning,
                    _ = 0;
                g && (_ |= l), y && (_ |= u), c = h[_]
            }
            if (t.localClippingEnabled && !0 === i.clipShadows && 0 !== i.clippingPlanes.length) {
                var b = c.uuid,
                    x = i.uuid,
                    w = f[b];
                void 0 === w && (w = {}, f[b] = w);
                var S = w[x];
                void 0 === S && (S = c.clone(), w[x] = S), c = S
            }
            return c.visible = i.visible, c.wireframe = i.wireframe, c.side = null != i.shadowSide ? i.shadowSide : m[i.side], c.clipShadows = i.clipShadows, c.clippingPlanes = i.clippingPlanes, c.clipIntersection = i.clipIntersection, c.wireframeLinewidth = i.wireframeLinewidth, c.linewidth = i.linewidth, n && c.isMeshDistanceMaterial && (c.referencePosition.copy(r), c.nearDistance = o, c.farDistance = s), c
        }

        function P(i, r, o, s) {
            if (!1 !== i.visible) {
                if (i.layers.test(r.layers) && (i.isMesh || i.isLine || i.isPoints) && i.castShadow && (!i.frustumCulled || n.intersectsObject(i))) {
                    i.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse, i.matrixWorld);
                    var a = e.update(i),
                        l = i.material;
                    if (Array.isArray(l))
                        for (var u = a.groups, h = 0, p = u.length; h < p; h++) {
                            var d = u[h],
                                f = l[d.materialIndex];
                            if (f && f.visible) {
                                var m = O(i, f, s, c, o.near, o.far);
                                t.renderBufferDirect(o, null, a, m, i, d)
                            }
                        } else if (l.visible) {
                            m = O(i, l, s, c, o.near, o.far);
                            t.renderBufferDirect(o, null, a, m, i, null)
                        }
                }
                for (var v = i.children, g = 0, y = v.length; g < y; g++) P(v[g], r, o, s)
            }
        }
        this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = y, this.render = function(e, i, l) {
            if (!1 !== E.enabled && (!1 !== E.autoUpdate || !1 !== E.needsUpdate) && 0 !== e.length) {
                var u, h = t.context,
                    p = t.state;
                p.disable(h.BLEND), p.buffers.color.setClear(1, 1, 1, 1), p.buffers.depth.setTest(!0), p.setScissorTest(!1);
                for (var d = 0, f = e.length; d < f; d++) {
                    var m = e[d],
                        y = m.shadow,
                        b = m && m.isPointLight;
                    if (void 0 !== y) {
                        var x = y.camera;
                        if (o.copy(y.mapSize), o.min(s), b) {
                            var w = o.x,
                                S = o.y;
                            _[0].set(2 * w, S, w, S), _[1].set(0, S, w, S), _[2].set(3 * w, S, w, S), _[3].set(w, S, w, S), _[4].set(3 * w, 0, w, S), _[5].set(w, 0, w, S), o.x *= 4, o.y *= 2
                        }
                        if (null === y.map) {
                            var M = {
                                minFilter: bt,
                                magFilter: bt,
                                format: jt
                            };
                            y.map = new He(o.x, o.y, M), y.map.texture.name = m.name + ".shadowMap", x.updateProjectionMatrix()
                        }
                        y.isSpotLightShadow && y.update(m);
                        var T = y.map,
                            A = y.matrix;
                        c.setFromMatrixPosition(m.matrixWorld), x.position.copy(c), b ? (u = 6, A.makeTranslation(-c.x, -c.y, -c.z)) : (u = 1, a.setFromMatrixPosition(m.target.matrixWorld), x.lookAt(a), x.updateMatrixWorld(), A.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), A.multiply(x.projectionMatrix), A.multiply(x.matrixWorldInverse)), t.setRenderTarget(T), t.clear();
                        for (var C = 0; C < u; C++) {
                            if (b) {
                                a.copy(x.position), a.add(v[C]), x.up.copy(g[C]), x.lookAt(a), x.updateMatrixWorld();
                                var O = _[C];
                                p.viewport(O)
                            }
                            r.multiplyMatrices(x.projectionMatrix, x.matrixWorldInverse), n.setFromMatrix(r), P(i, l, x, b)
                        }
                    }
                }
                E.needsUpdate = !1
            }
        }
    }

    function Tr(t, e, i, n, r, o, s) {
        var a, c = {};

        function l(t, e) {
            if (t.width > e || t.height > e) {
                if ("data" in t) return;
                var i = e / Math.max(t.width, t.height),
                    n = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                return n.width = Math.floor(t.width * i), n.height = Math.floor(t.height * i), n.getContext("2d").drawImage(t, 0, 0, t.width, t.height, 0, 0, n.width, n.height), n
            }
            return t
        }

        function u(t) {
            return Pe.isPowerOfTwo(t.width) && Pe.isPowerOfTwo(t.height)
        }

        function h(t, e) {
            return t.generateMipmaps && e && t.minFilter !== bt && t.minFilter !== St
        }

        function p(e, i, r, o) {
            t.generateMipmap(e), n.get(i).__maxMipLevel = Math.log(Math.max(r, o)) * Math.LOG2E
        }

        function d(e, i) {
            if (!r.isWebGL2) return e;
            if (e === t.RGB) {
                if (i === t.FLOAT) return t.RGB32F;
                if (i === t.HALF_FLOAT) return t.RGB16F;
                if (i === t.UNSIGNED_BYTE) return t.RGB8
            }
            if (e === t.RGBA) {
                if (i === t.FLOAT) return t.RGBA32F;
                if (i === t.HALF_FLOAT) return t.RGBA16F;
                if (i === t.UNSIGNED_BYTE) return t.RGBA8
            }
            return e
        }

        function f(e) {
            return e === bt || e === xt || e === wt ? t.NEAREST : t.LINEAR
        }

        function m(e) {
            var i = e.target;
            i.removeEventListener("dispose", m),
                function(e) {
                    var i = n.get(e);
                    if (e.image && i.__image__webglTextureCube) t.deleteTexture(i.__image__webglTextureCube);
                    else {
                        if (void 0 === i.__webglInit) return;
                        t.deleteTexture(i.__webglTexture)
                    }
                    n.remove(e)
                }(i), i.isVideoTexture && delete c[i.id], s.memory.textures--
        }

        function v(e) {
            var i = e.target;
            i.removeEventListener("dispose", v),
                function(e) {
                    var i = n.get(e),
                        r = n.get(e.texture);
                    if (!e) return;
                    void 0 !== r.__webglTexture && t.deleteTexture(r.__webglTexture);
                    e.depthTexture && e.depthTexture.dispose();
                    if (e.isWebGLRenderTargetCube)
                        for (var o = 0; o < 6; o++) t.deleteFramebuffer(i.__webglFramebuffer[o]), i.__webglDepthbuffer && t.deleteRenderbuffer(i.__webglDepthbuffer[o]);
                    else t.deleteFramebuffer(i.__webglFramebuffer), i.__webglDepthbuffer && t.deleteRenderbuffer(i.__webglDepthbuffer);
                    n.remove(e.texture), n.remove(e)
                }(i), s.memory.textures--
        }

        function g(e, f) {
            var v = n.get(e);
            if (e.isVideoTexture && function(t) {
                    var e = t.id,
                        i = s.render.frame;
                    c[e] !== i && (c[e] = i, t.update())
                }(e), e.version > 0 && v.__version !== e.version) {
                var g = e.image;
                if (void 0 === g);
                else if (!1 !== g.complete) return void
                function(e, n, c) {
                    void 0 === e.__webglInit && (e.__webglInit = !0, n.addEventListener("dispose", m), e.__webglTexture = t.createTexture(), s.memory.textures++);
                    i.activeTexture(t.TEXTURE0 + c), i.bindTexture(t.TEXTURE_2D, e.__webglTexture), t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, n.flipY), t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, n.premultiplyAlpha), t.pixelStorei(t.UNPACK_ALIGNMENT, n.unpackAlignment);
                    var f = l(n.image, r.maxTextureSize);
                    (function(t) {
                        return !r.isWebGL2 && (t.wrapS !== yt || t.wrapT !== yt || t.minFilter !== bt && t.minFilter !== St)
                    })(n) && !1 === u(f) && (f = function(t) {
                        return t instanceof HTMLImageElement || t instanceof HTMLCanvasElement || t instanceof ImageBitmap ? (void 0 === a && (a = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")), a.width = Pe.floorPowerOfTwo(t.width), a.height = Pe.floorPowerOfTwo(t.height), a.getContext("2d").drawImage(t, 0, 0, a.width, a.height), a) : t
                    }(f));
                    var v = u(f),
                        g = o.convert(n.format),
                        _ = o.convert(n.type),
                        b = d(g, _);
                    y(t.TEXTURE_2D, n, v);
                    var x, w = n.mipmaps;
                    if (n.isDepthTexture) {
                        if (b = t.DEPTH_COMPONENT, n.type === Lt) {
                            if (!r.isWebGL2) throw new Error("Float Depth Texture only supported in WebGL2.0");
                            b = t.DEPTH_COMPONENT32F
                        } else r.isWebGL2 && (b = t.DEPTH_COMPONENT16);
                        n.format === Gt && b === t.DEPTH_COMPONENT && n.type !== Ot && n.type !== kt && (n.type = Ot, _ = o.convert(n.type)), n.format === Wt && (b = t.DEPTH_STENCIL, n.type !== zt && (n.type = zt, _ = o.convert(n.type))), i.texImage2D(t.TEXTURE_2D, 0, b, f.width, f.height, 0, g, _, null)
                    } else if (n.isDataTexture)
                        if (w.length > 0 && v) {
                            for (var S = 0, M = w.length; S < M; S++) x = w[S], i.texImage2D(t.TEXTURE_2D, S, b, x.width, x.height, 0, g, _, x.data);
                            n.generateMipmaps = !1, e.__maxMipLevel = w.length - 1
                        } else i.texImage2D(t.TEXTURE_2D, 0, b, f.width, f.height, 0, g, _, f.data), e.__maxMipLevel = 0;
                    else if (n.isCompressedTexture) {
                        for (var S = 0, M = w.length; S < M; S++) x = w[S], n.format !== jt && n.format !== Bt ? i.getCompressedTextureFormats().indexOf(g) > -1 && i.compressedTexImage2D(t.TEXTURE_2D, S, b, x.width, x.height, 0, x.data) : i.texImage2D(t.TEXTURE_2D, S, b, x.width, x.height, 0, g, _, x.data);
                        e.__maxMipLevel = w.length - 1
                    } else if (w.length > 0 && v) {
                        for (var S = 0, M = w.length; S < M; S++) x = w[S], i.texImage2D(t.TEXTURE_2D, S, b, g, _, x);
                        n.generateMipmaps = !1, e.__maxMipLevel = w.length - 1
                    } else i.texImage2D(t.TEXTURE_2D, 0, b, g, _, f), e.__maxMipLevel = 0;
                    h(n, v) && p(t.TEXTURE_2D, n, f.width, f.height);
                    e.__version = n.version, n.onUpdate && n.onUpdate(n)
                }(v, e, f)
            }
            i.activeTexture(t.TEXTURE0 + f), i.bindTexture(t.TEXTURE_2D, v.__webglTexture)
        }

        function y(i, s, a) {
            var c;
            if (a ? (t.texParameteri(i, t.TEXTURE_WRAP_S, o.convert(s.wrapS)), t.texParameteri(i, t.TEXTURE_WRAP_T, o.convert(s.wrapT)), t.texParameteri(i, t.TEXTURE_MAG_FILTER, o.convert(s.magFilter)), t.texParameteri(i, t.TEXTURE_MIN_FILTER, o.convert(s.minFilter))) : (t.texParameteri(i, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(i, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), s.wrapS !== yt || s.wrapT, t.texParameteri(i, t.TEXTURE_MAG_FILTER, f(s.magFilter)), t.texParameteri(i, t.TEXTURE_MIN_FILTER, f(s.minFilter)), s.minFilter !== bt && s.minFilter), c = e.get("EXT_texture_filter_anisotropic")) {
                if (s.type === Lt && null === e.get("OES_texture_float_linear")) return;
                if (s.type === It && null === (r.isWebGL2 || e.get("OES_texture_half_float_linear"))) return;
                (s.anisotropy > 1 || n.get(s).__currentAnisotropy) && (t.texParameterf(i, c.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(s.anisotropy, r.getMaxAnisotropy())), n.get(s).__currentAnisotropy = s.anisotropy)
            }
        }

        function _(e, r, s, a) {
            var c = o.convert(r.texture.format),
                l = o.convert(r.texture.type),
                u = d(c, l);
            i.texImage2D(a, 0, u, r.width, r.height, 0, c, l, null), t.bindFramebuffer(t.FRAMEBUFFER, e), t.framebufferTexture2D(t.FRAMEBUFFER, s, a, n.get(r.texture).__webglTexture, 0), t.bindFramebuffer(t.FRAMEBUFFER, null)
        }

        function b(e, i) {
            t.bindRenderbuffer(t.RENDERBUFFER, e), i.depthBuffer && !i.stencilBuffer ? (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_COMPONENT16, i.width, i.height), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.RENDERBUFFER, e)) : i.depthBuffer && i.stencilBuffer ? (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, i.width, i.height), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, e)) : t.renderbufferStorage(t.RENDERBUFFER, t.RGBA4, i.width, i.height), t.bindRenderbuffer(t.RENDERBUFFER, null)
        }

        function x(e) {
            var i = n.get(e),
                r = !0 === e.isWebGLRenderTargetCube;
            if (e.depthTexture) {
                if (r) throw new Error("target.depthTexture not supported in Cube render targets");
                ! function(e, i) {
                    if (i && i.isWebGLRenderTargetCube) throw new Error("Depth Texture with cube render targets is not supported");
                    if (t.bindFramebuffer(t.FRAMEBUFFER, e), !i.depthTexture || !i.depthTexture.isDepthTexture) throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                    n.get(i.depthTexture).__webglTexture && i.depthTexture.image.width === i.width && i.depthTexture.image.height === i.height || (i.depthTexture.image.width = i.width, i.depthTexture.image.height = i.height, i.depthTexture.needsUpdate = !0), g(i.depthTexture, 0);
                    var r = n.get(i.depthTexture).__webglTexture;
                    if (i.depthTexture.format === Gt) t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.TEXTURE_2D, r, 0);
                    else {
                        if (i.depthTexture.format !== Wt) throw new Error("Unknown depthTexture format");
                        t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.TEXTURE_2D, r, 0)
                    }
                }(i.__webglFramebuffer, e)
            } else if (r) {
                i.__webglDepthbuffer = [];
                for (var o = 0; o < 6; o++) t.bindFramebuffer(t.FRAMEBUFFER, i.__webglFramebuffer[o]), i.__webglDepthbuffer[o] = t.createRenderbuffer(), b(i.__webglDepthbuffer[o], e)
            } else t.bindFramebuffer(t.FRAMEBUFFER, i.__webglFramebuffer), i.__webglDepthbuffer = t.createRenderbuffer(), b(i.__webglDepthbuffer, e);
            t.bindFramebuffer(t.FRAMEBUFFER, null)
        }
        this.setTexture2D = g, this.setTextureCube = function(e, a) {
            var c = n.get(e);
            if (6 === e.image.length)
                if (e.version > 0 && c.__version !== e.version) {
                    c.__image__webglTextureCube || (e.addEventListener("dispose", m), c.__image__webglTextureCube = t.createTexture(), s.memory.textures++), i.activeTexture(t.TEXTURE0 + a), i.bindTexture(t.TEXTURE_CUBE_MAP, c.__image__webglTextureCube), t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, e.flipY);
                    for (var f = e && e.isCompressedTexture, v = e.image[0] && e.image[0].isDataTexture, g = [], _ = 0; _ < 6; _++) g[_] = f || v ? v ? e.image[_].image : e.image[_] : l(e.image[_], r.maxCubemapSize);
                    var b = g[0],
                        x = u(b),
                        w = o.convert(e.format),
                        S = o.convert(e.type),
                        M = d(w, S);
                    for (y(t.TEXTURE_CUBE_MAP, e, x), _ = 0; _ < 6; _++)
                        if (f)
                            for (var T, A = g[_].mipmaps, C = 0, E = A.length; C < E; C++) T = A[C], e.format !== jt && e.format !== Bt ? i.getCompressedTextureFormats().indexOf(w) > -1 && i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + _, C, M, T.width, T.height, 0, T.data) : i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + _, C, M, T.width, T.height, 0, w, S, T.data);
                        else v ? i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + _, 0, M, g[_].width, g[_].height, 0, w, S, g[_].data) : i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + _, 0, M, w, S, g[_]);
                    c.__maxMipLevel = f ? A.length - 1 : 0, h(e, x) && p(t.TEXTURE_CUBE_MAP, e, b.width, b.height), c.__version = e.version, e.onUpdate && e.onUpdate(e)
                } else i.activeTexture(t.TEXTURE0 + a), i.bindTexture(t.TEXTURE_CUBE_MAP, c.__image__webglTextureCube)
        }, this.setTextureCubeDynamic = function(e, r) {
            i.activeTexture(t.TEXTURE0 + r), i.bindTexture(t.TEXTURE_CUBE_MAP, n.get(e).__webglTexture)
        }, this.setupRenderTarget = function(e) {
            var r = n.get(e),
                o = n.get(e.texture);
            e.addEventListener("dispose", v), o.__webglTexture = t.createTexture(), s.memory.textures++;
            var a = !0 === e.isWebGLRenderTargetCube,
                c = u(e);
            if (a) {
                r.__webglFramebuffer = [];
                for (var l = 0; l < 6; l++) r.__webglFramebuffer[l] = t.createFramebuffer()
            } else r.__webglFramebuffer = t.createFramebuffer();
            if (a) {
                for (i.bindTexture(t.TEXTURE_CUBE_MAP, o.__webglTexture), y(t.TEXTURE_CUBE_MAP, e.texture, c), l = 0; l < 6; l++) _(r.__webglFramebuffer[l], e, t.COLOR_ATTACHMENT0, t.TEXTURE_CUBE_MAP_POSITIVE_X + l);
                h(e.texture, c) && p(t.TEXTURE_CUBE_MAP, e.texture, e.width, e.height), i.bindTexture(t.TEXTURE_CUBE_MAP, null)
            } else i.bindTexture(t.TEXTURE_2D, o.__webglTexture), y(t.TEXTURE_2D, e.texture, c), _(r.__webglFramebuffer, e, t.COLOR_ATTACHMENT0, t.TEXTURE_2D), h(e.texture, c) && p(t.TEXTURE_2D, e.texture, e.width, e.height), i.bindTexture(t.TEXTURE_2D, null);
            e.depthBuffer && x(e)
        }, this.updateRenderTargetMipmap = function(e) {
            var r = e.texture;
            if (h(r, u(e))) {
                var o = e.isWebGLRenderTargetCube ? t.TEXTURE_CUBE_MAP : t.TEXTURE_2D,
                    s = n.get(r).__webglTexture;
                i.bindTexture(o, s), p(o, r, e.width, e.height), i.bindTexture(o, null)
            }
        }
    }

    function Ar() {
        gi.call(this), this.type = "Group"
    }

    function Cr(t, e, i, n) {
        yi.call(this), this.type = "PerspectiveCamera", this.fov = void 0 !== t ? t : 50, this.zoom = 1, this.near = void 0 !== i ? i : .1, this.far = void 0 !== n ? n : 2e3, this.focus = 10, this.aspect = void 0 !== e ? e : 1, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix()
    }

    function Er(t) {
        Cr.call(this), this.cameras = t || []
    }

    function Or(t) {
        var e = this,
            i = null,
            n = null,
            r = null,
            o = [],
            s = new Le,
            a = new Le,
            c = "stage";
        "undefined" != typeof window && "VRFrameData" in window && (n = new window.VRFrameData, window.addEventListener("vrdisplaypresentchange", y, !1));
        var l = new Le,
            u = new Ie,
            h = new Re,
            p = new Cr;
        p.bounds = new We(0, 0, .5, 1), p.layers.enable(1);
        var d = new Cr;
        d.bounds = new We(.5, 0, .5, 1), d.layers.enable(2);
        var f, m, v = new Er([p, d]);

        function g() {
            return null !== i && !0 === i.isPresenting
        }

        function y() {
            if (g()) {
                var n = i.getEyeParameters("left"),
                    r = n.renderWidth,
                    o = n.renderHeight;
                m = t.getPixelRatio(), f = t.getSize(), t.setDrawingBufferSize(2 * r, o, 1), x.start()
            } else e.enabled && t.setDrawingBufferSize(f.width, f.height, m), x.stop()
        }
        v.layers.enable(1), v.layers.enable(2);
        var _ = [];

        function b(t) {
            for (var e = navigator.getGamepads && navigator.getGamepads(), i = 0, n = 0, r = e.length; i < r; i++) {
                var o = e[i];
                if (o && ("Daydream Controller" === o.id || "Gear VR Controller" === o.id || "Oculus Go Controller" === o.id || "OpenVR Gamepad" === o.id || o.id.startsWith("Oculus Touch") || o.id.startsWith("Spatial Controller"))) {
                    if (n === t) return o;
                    n++
                }
            }
        }
        this.enabled = !1, this.getController = function(t) {
            var e = o[t];
            return void 0 === e && ((e = new Ar).matrixAutoUpdate = !1, e.visible = !1, o[t] = e), e
        }, this.getDevice = function() {
            return i
        }, this.setDevice = function(t) {
            void 0 !== t && (i = t), x.setContext(t)
        }, this.setFrameOfReferenceType = function(t) {
            c = t
        }, this.setPoseTarget = function(t) {
            void 0 !== t && (r = t)
        }, this.getCamera = function(t) {
            var e = "stage" === c ? 1.6 : 0;
            if (null === i) return t.position.set(0, e, 0), t;
            if (i.depthNear = t.near, i.depthFar = t.far, i.getFrameData(n), "stage" === c) {
                var f = i.stageParameters;
                f ? s.fromArray(f.sittingToStandingTransform) : s.makeTranslation(0, e, 0)
            }
            var m = n.pose,
                g = null !== r ? r : t;
            if (g.matrix.copy(s), g.matrix.decompose(g.position, g.quaternion, g.scale), null !== m.orientation && (u.fromArray(m.orientation), g.quaternion.multiply(u)), null !== m.position && (u.setFromRotationMatrix(s), h.fromArray(m.position), h.applyQuaternion(u), g.position.add(h)), g.updateMatrixWorld(), !1 === i.isPresenting) return t;
            p.near = t.near, d.near = t.near, p.far = t.far, d.far = t.far, v.matrixWorld.copy(t.matrixWorld), v.matrixWorldInverse.copy(t.matrixWorldInverse), p.matrixWorldInverse.fromArray(n.leftViewMatrix), d.matrixWorldInverse.fromArray(n.rightViewMatrix), a.getInverse(s), "stage" === c && (p.matrixWorldInverse.multiply(a), d.matrixWorldInverse.multiply(a));
            var y = g.parent;
            null !== y && (l.getInverse(y.matrixWorld), p.matrixWorldInverse.multiply(l), d.matrixWorldInverse.multiply(l)), p.matrixWorld.getInverse(p.matrixWorldInverse), d.matrixWorld.getInverse(d.matrixWorldInverse), p.projectionMatrix.fromArray(n.leftProjectionMatrix), d.projectionMatrix.fromArray(n.rightProjectionMatrix), v.projectionMatrix.copy(p.projectionMatrix);
            var x = i.getLayers();
            if (x.length) {
                var w = x[0];
                null !== w.leftBounds && 4 === w.leftBounds.length && p.bounds.fromArray(w.leftBounds), null !== w.rightBounds && 4 === w.rightBounds.length && d.bounds.fromArray(w.rightBounds)
            }
            return function() {
                for (var t = 0; t < o.length; t++) {
                    var e = o[t],
                        i = b(t);
                    if (void 0 !== i && void 0 !== i.pose) {
                        if (null === i.pose) return;
                        var n = i.pose;
                        !1 === n.hasPosition && e.position.set(.2, -.6, -.05), null !== n.position && e.position.fromArray(n.position), null !== n.orientation && e.quaternion.fromArray(n.orientation), e.matrix.compose(e.position, e.quaternion, e.scale), e.matrix.premultiply(s), e.matrix.decompose(e.position, e.quaternion, e.scale), e.matrixWorldNeedsUpdate = !0, e.visible = !0;
                        var r = "Daydream Controller" === i.id ? 0 : 1;
                        _[t] !== i.buttons[r].pressed && (_[t] = i.buttons[r].pressed, !0 === _[t] ? e.dispatchEvent({
                            type: "selectstart"
                        }) : (e.dispatchEvent({
                            type: "selectend"
                        }), e.dispatchEvent({
                            type: "select"
                        })))
                    } else e.visible = !1
                }
            }(), v
        }, this.getStandingMatrix = function() {
            return s
        }, this.isPresenting = g;
        var x = new ci;
        this.setAnimationLoop = function(t) {
            x.setAnimationLoop(t)
        }, this.submitFrame = function() {
            g() && i.submitFrame()
        }, this.dispose = function() {
            "undefined" != typeof window && window.removeEventListener("vrdisplaypresentchange", y)
        }
    }

    function Pr(t) {
        var e = void 0 !== (t = t || {}).canvas ? t.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
            i = void 0 !== t.context ? t.context : null,
            n = void 0 !== t.alpha && t.alpha,
            r = void 0 === t.depth || t.depth,
            o = void 0 === t.stencil || t.stencil,
            s = void 0 !== t.antialias && t.antialias,
            a = void 0 === t.premultipliedAlpha || t.premultipliedAlpha,
            c = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer,
            l = void 0 !== t.powerPreference ? t.powerPreference : "default",
            u = null,
            h = null;
        this.domElement = e, this.context = null, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this.gammaFactor = 2, this.gammaInput = !1, this.gammaOutput = !1, this.physicallyCorrectLights = !1, this.toneMapping = st, this.toneMappingExposure = 1, this.toneMappingWhitePoint = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4;
        var p, d, f, y, _, b, S, M, T, it, nt, rt, ot, at, ct, lt, ut, ht, pt = this,
            dt = !1,
            ft = null,
            mt = null,
            vt = null,
            fe = -1,
            me = {
                geometry: null,
                program: null,
                wireframe: !1
            },
            _e = null,
            be = null,
            xe = new We,
            we = new We,
            Se = null,
            Me = 0,
            Te = e.width,
            Ae = e.height,
            Ce = 1,
            Ee = new We(0, 0, Te, Ae),
            Oe = new We(0, 0, Te, Ae),
            ke = !1,
            Ie = new Je,
            Ne = new function() {
                var t = this,
                    e = null,
                    i = 0,
                    n = !1,
                    r = !1,
                    o = new Ze,
                    s = new De,
                    a = {
                        value: null,
                        needsUpdate: !1
                    };

                function c() {
                    a.value !== e && (a.value = e, a.needsUpdate = i > 0), t.numPlanes = i, t.numIntersection = 0
                }

                function l(e, i, n, r) {
                    var c = null !== e ? e.length : 0,
                        l = null;
                    if (0 !== c) {
                        if (l = a.value, !0 !== r || null === l) {
                            var u = n + 4 * c,
                                h = i.matrixWorldInverse;
                            s.getNormalMatrix(h), (null === l || l.length < u) && (l = new Float32Array(u));
                            for (var p = 0, d = n; p !== c; ++p, d += 4) o.copy(e[p]).applyMatrix4(h, s), o.normal.toArray(l, d), l[d + 3] = o.constant
                        }
                        a.value = l, a.needsUpdate = !0
                    }
                    return t.numPlanes = c, l
                }
                this.uniform = a, this.numPlanes = 0, this.numIntersection = 0, this.init = function(t, r, o) {
                    var s = 0 !== t.length || r || 0 !== i || n;
                    return n = r, e = l(t, o, 0), i = t.length, s
                }, this.beginShadows = function() {
                    r = !0, l(null)
                }, this.endShadows = function() {
                    r = !1, c()
                }, this.setState = function(t, o, s, u, h, p) {
                    if (!n || null === t || 0 === t.length || r && !s) r ? l(null) : c();
                    else {
                        var d = r ? 0 : i,
                            f = 4 * d,
                            m = h.clippingState || null;
                        a.value = m, m = l(t, u, f, p);
                        for (var v = 0; v !== f; ++v) m[v] = e[v];
                        h.clippingState = m, this.numIntersection = o ? this.numPlanes : 0, this.numPlanes += d
                    }
                }
            },
            ze = !1,
            Fe = !1,
            Be = new Le,
            je = new Re;

        function Ue() {
            return null === mt ? Ce : 1
        }
        try {
            var Ve = {
                alpha: n,
                depth: r,
                stencil: o,
                antialias: s,
                premultipliedAlpha: a,
                preserveDrawingBuffer: c,
                powerPreference: l
            };
            if (e.addEventListener("webglcontextlost", qe, !1), e.addEventListener("webglcontextrestored", Ye, !1), null === (p = i || e.getContext("webgl", Ve) || e.getContext("experimental-webgl", Ve))) throw null !== e.getContext("webgl") ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
            void 0 === p.getShaderPrecisionFormat && (p.getShaderPrecisionFormat = function() {
                return {
                    rangeMin: 1,
                    rangeMax: 1,
                    precision: 1
                }
            })
        } catch (t) {}

        function Ge() {
            d = new function(t) {
                var e = {};
                return {
                    get: function(i) {
                        if (void 0 !== e[i]) return e[i];
                        var n;
                        switch (i) {
                            case "WEBGL_depth_texture":
                                n = t.getExtension("WEBGL_depth_texture") || t.getExtension("MOZ_WEBGL_depth_texture") || t.getExtension("WEBKIT_WEBGL_depth_texture");
                                break;
                            case "EXT_texture_filter_anisotropic":
                                n = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                                break;
                            case "WEBGL_compressed_texture_s3tc":
                                n = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                                break;
                            case "WEBGL_compressed_texture_pvrtc":
                                n = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                                break;
                            default:
                                n = t.getExtension(i)
                        }
                        return e[i] = n, n
                    }
                }
            }(p), (f = new function(t, e, i) {
                var n;

                function r(e) {
                    if ("highp" === e) {
                        if (t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT).precision > 0) return "highp";
                        e = "mediump"
                    }
                    return "mediump" === e && t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.MEDIUM_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp"
                }
                var o = "undefined" != typeof WebGL2RenderingContext && t instanceof WebGL2RenderingContext,
                    s = void 0 !== i.precision ? i.precision : "highp",
                    a = r(s);
                a !== s && (s = a);
                var c = !0 === i.logarithmicDepthBuffer,
                    l = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),
                    u = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
                    h = t.getParameter(t.MAX_TEXTURE_SIZE),
                    p = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),
                    d = t.getParameter(t.MAX_VERTEX_ATTRIBS),
                    f = t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),
                    m = t.getParameter(t.MAX_VARYING_VECTORS),
                    v = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),
                    g = u > 0,
                    y = o || !!e.get("OES_texture_float");
                return {
                    isWebGL2: o,
                    getMaxAnisotropy: function() {
                        if (void 0 !== n) return n;
                        var i = e.get("EXT_texture_filter_anisotropic");
                        return n = null !== i ? t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
                    },
                    getMaxPrecision: r,
                    precision: s,
                    logarithmicDepthBuffer: c,
                    maxTextures: l,
                    maxVertexTextures: u,
                    maxTextureSize: h,
                    maxCubemapSize: p,
                    maxAttributes: d,
                    maxVertexUniforms: f,
                    maxVaryings: m,
                    maxFragmentUniforms: v,
                    vertexTextures: g,
                    floatFragmentTextures: y,
                    floatVertexTextures: g && y
                }
            }(p, d, t)).isWebGL2 || (d.get("WEBGL_depth_texture"), d.get("OES_texture_float"), d.get("OES_texture_half_float"), d.get("OES_texture_half_float_linear"), d.get("OES_standard_derivatives"), d.get("OES_element_index_uint"), d.get("ANGLE_instanced_arrays")), d.get("OES_texture_float_linear"), ht = new function(t, e, i) {
                return {
                    convert: function(n) {
                        var r;
                        if (n === gt) return t.REPEAT;
                        if (n === yt) return t.CLAMP_TO_EDGE;
                        if (n === _t) return t.MIRRORED_REPEAT;
                        if (n === bt) return t.NEAREST;
                        if (n === xt) return t.NEAREST_MIPMAP_NEAREST;
                        if (n === wt) return t.NEAREST_MIPMAP_LINEAR;
                        if (n === St) return t.LINEAR;
                        if (n === Mt) return t.LINEAR_MIPMAP_NEAREST;
                        if (n === Tt) return t.LINEAR_MIPMAP_LINEAR;
                        if (n === At) return t.UNSIGNED_BYTE;
                        if (n === Rt) return t.UNSIGNED_SHORT_4_4_4_4;
                        if (n === Dt) return t.UNSIGNED_SHORT_5_5_5_1;
                        if (n === Nt) return t.UNSIGNED_SHORT_5_6_5;
                        if (n === Ct) return t.BYTE;
                        if (n === Et) return t.SHORT;
                        if (n === Ot) return t.UNSIGNED_SHORT;
                        if (n === Pt) return t.INT;
                        if (n === kt) return t.UNSIGNED_INT;
                        if (n === Lt) return t.FLOAT;
                        if (n === It) {
                            if (i.isWebGL2) return t.HALF_FLOAT;
                            if (null !== (r = e.get("OES_texture_half_float"))) return r.HALF_FLOAT_OES
                        }
                        if (n === Ft) return t.ALPHA;
                        if (n === Bt) return t.RGB;
                        if (n === jt) return t.RGBA;
                        if (n === Ut) return t.LUMINANCE;
                        if (n === Vt) return t.LUMINANCE_ALPHA;
                        if (n === Gt) return t.DEPTH_COMPONENT;
                        if (n === Wt) return t.DEPTH_STENCIL;
                        if (n === L) return t.FUNC_ADD;
                        if (n === I) return t.FUNC_SUBTRACT;
                        if (n === R) return t.FUNC_REVERSE_SUBTRACT;
                        if (n === z) return t.ZERO;
                        if (n === F) return t.ONE;
                        if (n === B) return t.SRC_COLOR;
                        if (n === j) return t.ONE_MINUS_SRC_COLOR;
                        if (n === U) return t.SRC_ALPHA;
                        if (n === V) return t.ONE_MINUS_SRC_ALPHA;
                        if (n === G) return t.DST_ALPHA;
                        if (n === W) return t.ONE_MINUS_DST_ALPHA;
                        if (n === H) return t.DST_COLOR;
                        if (n === $) return t.ONE_MINUS_DST_COLOR;
                        if (n === X) return t.SRC_ALPHA_SATURATE;
                        if ((n === Ht || n === $t || n === Xt || n === qt) && null !== (r = e.get("WEBGL_compressed_texture_s3tc"))) {
                            if (n === Ht) return r.COMPRESSED_RGB_S3TC_DXT1_EXT;
                            if (n === $t) return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                            if (n === Xt) return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                            if (n === qt) return r.COMPRESSED_RGBA_S3TC_DXT5_EXT
                        }
                        if ((n === Yt || n === Zt || n === Jt || n === Qt) && null !== (r = e.get("WEBGL_compressed_texture_pvrtc"))) {
                            if (n === Yt) return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                            if (n === Zt) return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                            if (n === Jt) return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                            if (n === Qt) return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                        }
                        if (n === Kt && null !== (r = e.get("WEBGL_compressed_texture_etc1"))) return r.COMPRESSED_RGB_ETC1_WEBGL;
                        if ((n === te || n === ee || n === ie || n === ne || n === re || n === oe || n === se || n === ae || n === ce || n === le || n === ue || n === he || n === pe || n === de) && null !== (r = e.get("WEBGL_compressed_texture_astc"))) return n;
                        if (n === D || n === N) {
                            if (i.isWebGL2) {
                                if (n === D) return t.MIN;
                                if (n === N) return t.MAX
                            }
                            if (null !== (r = e.get("EXT_blend_minmax"))) {
                                if (n === D) return r.MIN_EXT;
                                if (n === N) return r.MAX_EXT
                            }
                        }
                        if (n === zt) {
                            if (i.isWebGL2) return t.UNSIGNED_INT_24_8;
                            if (null !== (r = e.get("WEBGL_depth_texture"))) return r.UNSIGNED_INT_24_8_WEBGL
                        }
                        return 0
                    }
                }
            }(p, d, f), (y = new function(t, e, i, n) {
                var r = new function() {
                        var e = !1,
                            i = new We,
                            n = null,
                            r = new We(0, 0, 0, 0);
                        return {
                            setMask: function(i) {
                                n === i || e || (t.colorMask(i, i, i, i), n = i)
                            },
                            setLocked: function(t) {
                                e = t
                            },
                            setClear: function(e, n, o, s, a) {
                                !0 === a && (e *= s, n *= s, o *= s), i.set(e, n, o, s), !1 === r.equals(i) && (t.clearColor(e, n, o, s), r.copy(i))
                            },
                            reset: function() {
                                e = !1, n = null, r.set(-1, 0, 0, 0)
                            }
                        }
                    },
                    o = new function() {
                        var e = !1,
                            i = null,
                            n = null,
                            r = null;
                        return {
                            setTest: function(e) {
                                e ? ot(t.DEPTH_TEST) : st(t.DEPTH_TEST)
                            },
                            setMask: function(n) {
                                i === n || e || (t.depthMask(n), i = n)
                            },
                            setFunc: function(e) {
                                if (n !== e) {
                                    if (e) switch (e) {
                                        case q:
                                            t.depthFunc(t.NEVER);
                                            break;
                                        case Y:
                                            t.depthFunc(t.ALWAYS);
                                            break;
                                        case Z:
                                            t.depthFunc(t.LESS);
                                            break;
                                        case J:
                                            t.depthFunc(t.LEQUAL);
                                            break;
                                        case Q:
                                            t.depthFunc(t.EQUAL);
                                            break;
                                        case K:
                                            t.depthFunc(t.GEQUAL);
                                            break;
                                        case tt:
                                            t.depthFunc(t.GREATER);
                                            break;
                                        case et:
                                            t.depthFunc(t.NOTEQUAL);
                                            break;
                                        default:
                                            t.depthFunc(t.LEQUAL)
                                    } else t.depthFunc(t.LEQUAL);
                                    n = e
                                }
                            },
                            setLocked: function(t) {
                                e = t
                            },
                            setClear: function(e) {
                                r !== e && (t.clearDepth(e), r = e)
                            },
                            reset: function() {
                                e = !1, i = null, n = null, r = null
                            }
                        }
                    },
                    s = new function() {
                        var e = !1,
                            i = null,
                            n = null,
                            r = null,
                            o = null,
                            s = null,
                            a = null,
                            c = null,
                            l = null;
                        return {
                            setTest: function(e) {
                                e ? ot(t.STENCIL_TEST) : st(t.STENCIL_TEST)
                            },
                            setMask: function(n) {
                                i === n || e || (t.stencilMask(n), i = n)
                            },
                            setFunc: function(e, i, s) {
                                n === e && r === i && o === s || (t.stencilFunc(e, i, s), n = e, r = i, o = s)
                            },
                            setOp: function(e, i, n) {
                                s === e && a === i && c === n || (t.stencilOp(e, i, n), s = e, a = i, c = n)
                            },
                            setLocked: function(t) {
                                e = t
                            },
                            setClear: function(e) {
                                l !== e && (t.clearStencil(e), l = e)
                            },
                            reset: function() {
                                e = !1, i = null, n = null, r = null, o = null, s = null, a = null, c = null, l = null
                            }
                        }
                    },
                    a = t.getParameter(t.MAX_VERTEX_ATTRIBS),
                    c = new Uint8Array(a),
                    l = new Uint8Array(a),
                    u = new Uint8Array(a),
                    h = {},
                    p = null,
                    d = null,
                    f = null,
                    y = null,
                    _ = null,
                    b = null,
                    S = null,
                    M = null,
                    T = null,
                    I = null,
                    R = !1,
                    D = null,
                    N = null,
                    z = null,
                    F = null,
                    B = null,
                    j = t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),
                    U = !1,
                    V = 0,
                    G = t.getParameter(t.VERSION); - 1 !== G.indexOf("WebGL") ? (V = parseFloat(/^WebGL\ ([0-9])/.exec(G)[1]), U = V >= 1) : -1 !== G.indexOf("OpenGL ES") && (V = parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(G)[1]), U = V >= 2);
                var W = null,
                    H = {},
                    $ = new We,
                    X = new We;

                function it(e, i, n) {
                    var r = new Uint8Array(4),
                        o = t.createTexture();
                    t.bindTexture(e, o), t.texParameteri(e, t.TEXTURE_MIN_FILTER, t.NEAREST), t.texParameteri(e, t.TEXTURE_MAG_FILTER, t.NEAREST);
                    for (var s = 0; s < n; s++) t.texImage2D(i + s, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, r);
                    return o
                }
                var nt = {};

                function rt(i, r) {
                    c[i] = 1, 0 === l[i] && (t.enableVertexAttribArray(i), l[i] = 1), u[i] !== r && ((n.isWebGL2 ? t : e.get("ANGLE_instanced_arrays"))[n.isWebGL2 ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"](i, r), u[i] = r)
                }

                function ot(e) {
                    !0 !== h[e] && (t.enable(e), h[e] = !0)
                }

                function st(e) {
                    !1 !== h[e] && (t.disable(e), h[e] = !1)
                }

                function at(e, n, r, o, s, a, c, l) {
                    if (e !== A) {
                        if (f || (ot(t.BLEND), f = !0), e === k) s = s || n, a = a || r, c = c || o, n === _ && s === M || (t.blendEquationSeparate(i.convert(n), i.convert(s)), _ = n, M = s), r === b && o === S && a === T && c === I || (t.blendFuncSeparate(i.convert(r), i.convert(o), i.convert(a), i.convert(c)), b = r, S = o, T = a, I = c), y = e, R = null;
                        else if (e !== y || l !== R) {
                            if (_ === L && M === L || (t.blendEquation(t.FUNC_ADD), _ = L, M = L), l) switch (e) {
                                case C:
                                    t.blendFuncSeparate(t.ONE, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA);
                                    break;
                                case E:
                                    t.blendFunc(t.ONE, t.ONE);
                                    break;
                                case O:
                                    t.blendFuncSeparate(t.ZERO, t.ZERO, t.ONE_MINUS_SRC_COLOR, t.ONE_MINUS_SRC_ALPHA);
                                    break;
                                case P:
                                    t.blendFuncSeparate(t.ZERO, t.SRC_COLOR, t.ZERO, t.SRC_ALPHA)
                            } else switch (e) {
                                case C:
                                    t.blendFuncSeparate(t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA);
                                    break;
                                case E:
                                    t.blendFunc(t.SRC_ALPHA, t.ONE);
                                    break;
                                case O:
                                    t.blendFunc(t.ZERO, t.ONE_MINUS_SRC_COLOR);
                                    break;
                                case P:
                                    t.blendFunc(t.ZERO, t.SRC_COLOR)
                            }
                            b = null, S = null, T = null, I = null, y = e, R = l
                        }
                    } else f && (st(t.BLEND), f = !1)
                }

                function ct(e) {
                    D !== e && (e ? t.frontFace(t.CW) : t.frontFace(t.CCW), D = e)
                }

                function lt(e) {
                    e !== m ? (ot(t.CULL_FACE), e !== N && (e === v ? t.cullFace(t.BACK) : e === g ? t.cullFace(t.FRONT) : t.cullFace(t.FRONT_AND_BACK))) : st(t.CULL_FACE), N = e
                }

                function ut(e, i, n) {
                    e ? (ot(t.POLYGON_OFFSET_FILL), F === i && B === n || (t.polygonOffset(i, n), F = i, B = n)) : st(t.POLYGON_OFFSET_FILL)
                }

                function ht(e) {
                    void 0 === e && (e = t.TEXTURE0 + j - 1), W !== e && (t.activeTexture(e), W = e)
                }
                return nt[t.TEXTURE_2D] = it(t.TEXTURE_2D, t.TEXTURE_2D, 1), nt[t.TEXTURE_CUBE_MAP] = it(t.TEXTURE_CUBE_MAP, t.TEXTURE_CUBE_MAP_POSITIVE_X, 6), r.setClear(0, 0, 0, 1), o.setClear(1), s.setClear(0), ot(t.DEPTH_TEST), o.setFunc(J), ct(!1), lt(v), ot(t.CULL_FACE), at(A), {
                    buffers: {
                        color: r,
                        depth: o,
                        stencil: s
                    },
                    initAttributes: function() {
                        for (var t = 0, e = c.length; t < e; t++) c[t] = 0
                    },
                    enableAttribute: function(t) {
                        rt(t, 0)
                    },
                    enableAttributeAndDivisor: rt,
                    disableUnusedAttributes: function() {
                        for (var e = 0, i = l.length; e !== i; ++e) l[e] !== c[e] && (t.disableVertexAttribArray(e), l[e] = 0)
                    },
                    enable: ot,
                    disable: st,
                    getCompressedTextureFormats: function() {
                        if (null === p && (p = [], e.get("WEBGL_compressed_texture_pvrtc") || e.get("WEBGL_compressed_texture_s3tc") || e.get("WEBGL_compressed_texture_etc1") || e.get("WEBGL_compressed_texture_astc")))
                            for (var i = t.getParameter(t.COMPRESSED_TEXTURE_FORMATS), n = 0; n < i.length; n++) p.push(i[n]);
                        return p
                    },
                    useProgram: function(e) {
                        return d !== e && (t.useProgram(e), d = e, !0)
                    },
                    setBlending: at,
                    setMaterial: function(e, i) {
                        e.side === w ? st(t.CULL_FACE) : ot(t.CULL_FACE);
                        var n = e.side === x;
                        i && (n = !n), ct(n), e.blending === C && !1 === e.transparent ? at(A) : at(e.blending, e.blendEquation, e.blendSrc, e.blendDst, e.blendEquationAlpha, e.blendSrcAlpha, e.blendDstAlpha, e.premultipliedAlpha), o.setFunc(e.depthFunc), o.setTest(e.depthTest), o.setMask(e.depthWrite), r.setMask(e.colorWrite), ut(e.polygonOffset, e.polygonOffsetFactor, e.polygonOffsetUnits)
                    },
                    setFlipSided: ct,
                    setCullFace: lt,
                    setLineWidth: function(e) {
                        e !== z && (U && t.lineWidth(e), z = e)
                    },
                    setPolygonOffset: ut,
                    setScissorTest: function(e) {
                        e ? ot(t.SCISSOR_TEST) : st(t.SCISSOR_TEST)
                    },
                    activeTexture: ht,
                    bindTexture: function(e, i) {
                        null === W && ht();
                        var n = H[W];
                        void 0 === n && (n = {
                            type: void 0,
                            texture: void 0
                        }, H[W] = n), n.type === e && n.texture === i || (t.bindTexture(e, i || nt[e]), n.type = e, n.texture = i)
                    },
                    compressedTexImage2D: function() {
                        try {
                            t.compressedTexImage2D.apply(t, arguments)
                        } catch (t) {}
                    },
                    texImage2D: function() {
                        try {
                            t.texImage2D.apply(t, arguments)
                        } catch (t) {}
                    },
                    scissor: function(e) {
                        !1 === $.equals(e) && (t.scissor(e.x, e.y, e.z, e.w), $.copy(e))
                    },
                    viewport: function(e) {
                        !1 === X.equals(e) && (t.viewport(e.x, e.y, e.z, e.w), X.copy(e))
                    },
                    reset: function() {
                        for (var e = 0; e < l.length; e++) 1 === l[e] && (t.disableVertexAttribArray(e), l[e] = 0);
                        h = {}, p = null, W = null, H = {}, d = null, y = null, D = null, N = null, r.reset(), o.reset(), s.reset()
                    }
                }
            }(p, d, ht, f)).scissor(we.copy(Oe).multiplyScalar(Ce)), y.viewport(xe.copy(Ee).multiplyScalar(Ce)), _ = new function(t) {
                var e = {
                    frame: 0,
                    calls: 0,
                    triangles: 0,
                    points: 0,
                    lines: 0
                };
                return {
                    memory: {
                        geometries: 0,
                        textures: 0
                    },
                    render: e,
                    programs: null,
                    autoReset: !0,
                    reset: function() {
                        e.frame++, e.calls = 0, e.triangles = 0, e.points = 0, e.lines = 0
                    },
                    update: function(i, n, r) {
                        switch (r = r || 1, e.calls++, n) {
                            case t.TRIANGLES:
                                e.triangles += r * (i / 3);
                                break;
                            case t.TRIANGLE_STRIP:
                            case t.TRIANGLE_FAN:
                                e.triangles += r * (i - 2);
                                break;
                            case t.LINES:
                                e.lines += r * (i / 2);
                                break;
                            case t.LINE_STRIP:
                                e.lines += r * (i - 1);
                                break;
                            case t.LINE_LOOP:
                                e.lines += r * i;
                                break;
                            case t.POINTS:
                                e.points += r * i
                        }
                    }
                }
            }(p), b = new function() {
                var t = new WeakMap;
                return {
                    get: function(e) {
                        var i = t.get(e);
                        return void 0 === i && (i = {}, t.set(e, i)), i
                    },
                    remove: function(e) {
                        t.delete(e)
                    },
                    update: function(e, i, n) {
                        t.get(e)[i] = n
                    },
                    dispose: function() {
                        t = new WeakMap
                    }
                }
            }, S = new Tr(p, d, y, b, f, ht, _), M = new li(p), T = new function(t, e, i) {
                var n = {},
                    r = {};

                function o(t) {
                    var s = t.target,
                        a = n[s.id];
                    for (var c in null !== a.index && e.remove(a.index), a.attributes) e.remove(a.attributes[c]);
                    s.removeEventListener("dispose", o), delete n[s.id];
                    var l = r[a.id];
                    l && (e.remove(l), delete r[a.id]), i.memory.geometries--
                }
                return {
                    get: function(t, e) {
                        var r = n[e.id];
                        return r || (e.addEventListener("dispose", o), e.isBufferGeometry ? r = e : e.isGeometry && (void 0 === e._bufferGeometry && (e._bufferGeometry = (new Fi).setFromObject(t)), r = e._bufferGeometry), n[e.id] = r, i.memory.geometries++, r)
                    },
                    update: function(i) {
                        var n = i.index,
                            r = i.attributes;
                        for (var o in null !== n && e.update(n, t.ELEMENT_ARRAY_BUFFER), r) e.update(r[o], t.ARRAY_BUFFER);
                        var s = i.morphAttributes;
                        for (var o in s)
                            for (var a = s[o], c = 0, l = a.length; c < l; c++) e.update(a[c], t.ARRAY_BUFFER)
                    },
                    getWireframeAttribute: function(i) {
                        var n = r[i.id];
                        if (n) return n;
                        var o, s = [],
                            a = i.index,
                            c = i.attributes;
                        if (null !== a)
                            for (var l = 0, u = (o = a.array).length; l < u; l += 3) {
                                var h = o[l + 0],
                                    p = o[l + 1],
                                    d = o[l + 2];
                                s.push(h, p, p, d, d, h)
                            } else
                                for (l = 0, u = (o = c.position.array).length / 3 - 1; l < u; l += 3) h = l + 0, p = l + 1, d = l + 2, s.push(h, p, p, d, d, h);
                        return n = new(Ni(s) > 65535 ? Li : Pi)(s, 1), e.update(n, t.ELEMENT_ARRAY_BUFFER), r[i.id] = n, n
                    }
                }
            }(p, M, _), it = new function(t, e) {
                var i = {};
                return {
                    update: function(n) {
                        var r = e.render.frame,
                            o = n.geometry,
                            s = t.get(n, o);
                        return i[s.id] !== r && (o.isGeometry && s.updateFromObject(n), t.update(s), i[s.id] = r), s
                    },
                    dispose: function() {
                        i = {}
                    }
                }
            }(T, _), ct = new function(t) {
                var e = {},
                    i = new Float32Array(8);
                return {
                    update: function(n, r, o, s) {
                        var a = n.morphTargetInfluences,
                            c = a.length,
                            l = e[r.id];
                        if (void 0 === l) {
                            l = [];
                            for (var u = 0; u < c; u++) l[u] = [u, 0];
                            e[r.id] = l
                        }
                        var h = o.morphTargets && r.morphAttributes.position,
                            p = o.morphNormals && r.morphAttributes.normal;
                        for (u = 0; u < c; u++) 0 !== (d = l[u])[1] && (h && r.removeAttribute("morphTarget" + u), p && r.removeAttribute("morphNormal" + u));
                        for (u = 0; u < c; u++)(d = l[u])[0] = u, d[1] = a[u];
                        for (l.sort(ln), u = 0; u < 8; u++) {
                            var d;
                            if (d = l[u]) {
                                var f = d[0],
                                    m = d[1];
                                if (m) {
                                    h && r.addAttribute("morphTarget" + u, h[f]), p && r.addAttribute("morphNormal" + u, p[f]), i[u] = m;
                                    continue
                                }
                            }
                            i[u] = 0
                        }
                        s.getUniforms().setValue(t, "morphTargetInfluences", i)
                    }
                }
            }(p), nt = new lr(pt, d, f), rt = new pr, ot = new function() {
                var t = {};
                return {
                    get: function(e, i) {
                        var n;
                        return void 0 === t[e.id] ? (n = new xr, t[e.id] = {}, t[e.id][i.id] = n) : void 0 === t[e.id][i.id] ? (n = new xr, t[e.id][i.id] = n) : n = t[e.id][i.id], n
                    },
                    dispose: function() {
                        t = {}
                    }
                }
            }, at = new function(t, e, i, n) {
                var r, o, s, a = new ri(0),
                    c = 0;

                function l(t, i) {
                    e.buffers.color.setClear(t.r, t.g, t.b, i, n)
                }
                return {
                    getClearColor: function() {
                        return a
                    },
                    setClearColor: function(t, e) {
                        a.set(t), l(a, c = void 0 !== e ? e : 1)
                    },
                    getClearAlpha: function() {
                        return c
                    },
                    setClearAlpha: function(t) {
                        l(a, c = t)
                    },
                    render: function(e, n, u, h) {
                        var p = n.background;
                        null === p ? l(a, c) : p && p.isColor && (l(p, 1), h = !0), (t.autoClear || h) && t.clear(t.autoClearColor, t.autoClearDepth, t.autoClearStencil), p && p.isCubeTexture ? (void 0 === s && ((s = new cn(new ji(1, 1, 1), new on({
                            uniforms: ai.cube.uniforms,
                            vertexShader: ai.cube.vertexShader,
                            fragmentShader: ai.cube.fragmentShader,
                            side: x,
                            depthTest: !0,
                            depthWrite: !1,
                            fog: !1
                        }))).geometry.removeAttribute("normal"), s.geometry.removeAttribute("uv"), s.onBeforeRender = function(t, e, i) {
                            this.matrixWorld.copyPosition(i.matrixWorld)
                        }, i.update(s)), s.material.uniforms.tCube.value = p, e.push(s, s.geometry, s.material, 0, null)) : p && p.isTexture && (void 0 === r && (r = new _i(-1, 1, 1, -1, 0, 1), o = new cn(new Vi(2, 2), new rn({
                            depthTest: !1,
                            depthWrite: !1,
                            fog: !1
                        })), i.update(o)), o.material.map = p, t.renderBufferDirect(r, null, o.geometry, o.material, o, null))
                    }
                }
            }(pt, y, it, a), lt = new function(t, e, i, n) {
                var r;
                this.setMode = function(t) {
                    r = t
                }, this.render = function(e, n) {
                    t.drawArrays(r, e, n), i.update(n, r)
                }, this.renderInstances = function(o, s, a) {
                    var c;
                    if (n.isWebGL2) c = t;
                    else if (null === (c = e.get("ANGLE_instanced_arrays"))) return;
                    c[n.isWebGL2 ? "drawArraysInstanced" : "drawArraysInstancedANGLE"](r, s, a, o.maxInstancedCount), i.update(a, r, o.maxInstancedCount)
                }
            }(p, d, _, f), ut = new function(t, e, i, n) {
                var r, o, s;
                this.setMode = function(t) {
                    r = t
                }, this.setIndex = function(t) {
                    o = t.type, s = t.bytesPerElement
                }, this.render = function(e, n) {
                    t.drawElements(r, n, o, e * s), i.update(n, r)
                }, this.renderInstances = function(a, c, l) {
                    var u;
                    if (n.isWebGL2) u = t;
                    else if (null === (u = e.get("ANGLE_instanced_arrays"))) return;
                    u[n.isWebGL2 ? "drawElementsInstanced" : "drawElementsInstancedANGLE"](r, l, o, c * s, a.maxInstancedCount), i.update(l, r, a.maxInstancedCount)
                }
            }(p, d, _, f), _.programs = nt.programs, pt.context = p, pt.capabilities = f, pt.extensions = d, pt.properties = b, pt.renderLists = rt, pt.state = y, pt.info = _
        }
        Ge();
        var He = "xr" in navigator ? new function(t) {
            var e = t.context,
                i = null,
                n = null,
                r = null,
                o = "stage",
                s = null,
                a = [],
                c = [];

            function l() {
                return null !== n && null !== r
            }
            var u = new Cr;
            u.layers.enable(1), u.viewport = new We;
            var h = new Cr;
            h.layers.enable(2), h.viewport = new We;
            var p = new Er([u, h]);

            function d(t) {
                var e = a[c.indexOf(t.inputSource)];
                e && e.dispatchEvent({
                    type: t.type
                })
            }

            function f() {
                t.setFramebuffer(null), g.stop()
            }

            function m(t, e) {
                null === e ? t.matrixWorld.copy(t.matrix) : t.matrixWorld.multiplyMatrices(e.matrixWorld, t.matrix), t.matrixWorldInverse.getInverse(t.matrixWorld)
            }
            p.layers.enable(1), p.layers.enable(2), this.enabled = !1, this.getController = function(t) {
                var e = a[t];
                return void 0 === e && ((e = new Ar).matrixAutoUpdate = !1, e.visible = !1, a[t] = e), e
            }, this.getDevice = function() {
                return i
            }, this.setDevice = function(t) {
                void 0 !== t && (i = t), t instanceof XRDevice && e.setCompatibleXRDevice(t)
            }, this.setFrameOfReferenceType = function(t) {
                o = t
            }, this.setSession = function(i) {
                null !== (n = i) && (n.addEventListener("select", d), n.addEventListener("selectstart", d), n.addEventListener("selectend", d), n.addEventListener("end", f), n.baseLayer = new XRWebGLLayer(n, e), n.requestFrameOfReference(o).then(function(e) {
                    r = e, t.setFramebuffer(n.baseLayer.framebuffer), g.setContext(n), g.start()
                }), c = n.getInputSources(), n.addEventListener("inputsourceschange", function() {
                    c = n.getInputSources()
                }))
            }, this.getCamera = function(t) {
                if (l()) {
                    var e = t.parent,
                        i = p.cameras;
                    m(p, e);
                    for (var n = 0; n < i.length; n++) m(i[n], e);
                    t.matrixWorld.copy(p.matrixWorld);
                    for (var r = t.children, o = (n = 0, r.length); n < o; n++) r[n].updateMatrixWorld(!0);
                    return p
                }
                return t
            }, this.isPresenting = l;
            var v = null,
                g = new ci;
            g.setAnimationLoop(function(t, e) {
                if (null !== (s = e.getDevicePose(r)))
                    for (var i = n.baseLayer, o = e.views, l = 0; l < o.length; l++) {
                        var u = o[l],
                            h = i.getViewport(u),
                            d = s.getViewMatrix(u),
                            f = p.cameras[l];
                        f.matrix.fromArray(d).getInverse(f.matrix), f.projectionMatrix.fromArray(u.projectionMatrix), f.viewport.set(h.x, h.y, h.width, h.height), 0 === l && (p.matrix.copy(f.matrix), p.projectionMatrix.copy(f.projectionMatrix))
                    }
                for (l = 0; l < a.length; l++) {
                    var m = a[l],
                        g = c[l];
                    if (g) {
                        var y = e.getInputPose(g, r);
                        if (null !== y) {
                            "targetRay" in y ? m.matrix.elements = y.targetRay.transformMatrix : "pointerMatrix" in y && (m.matrix.elements = y.pointerMatrix), m.matrix.decompose(m.position, m.rotation, m.scale), m.visible = !0;
                            continue
                        }
                    }
                    m.visible = !1
                }
                v && v(t)
            }), this.setAnimationLoop = function(t) {
                v = t
            }, this.dispose = function() {}, this.getStandingMatrix = function() {
                return new THREE.Matrix4
            }, this.submitFrame = function() {}
        }(pt) : new Or(pt);
        this.vr = He;
        var $e = new Mr(pt, it, f.maxTextureSize);

        function qe(t) {
            t.preventDefault(), dt = !0
        }

        function Ye() {
            dt = !1, Ge()
        }

        function Qe(t) {
            var e = t.target;
            e.removeEventListener("dispose", Qe),
                function(t) {
                    Ke(t), b.remove(t)
                }(e)
        }

        function Ke(t) {
            var e = b.get(t).program;
            t.program = void 0, void 0 !== e && nt.releaseProgram(e)
        }
        this.shadowMap = $e, this.getContext = function() {
            return p
        }, this.getContextAttributes = function() {
            return p.getContextAttributes()
        }, this.forceContextLoss = function() {
            var t = d.get("WEBGL_lose_context");
            t && t.loseContext()
        }, this.forceContextRestore = function() {
            var t = d.get("WEBGL_lose_context");
            t && t.restoreContext()
        }, this.getPixelRatio = function() {
            return Ce
        }, this.setPixelRatio = function(t) {
            void 0 !== t && (Ce = t, this.setSize(Te, Ae, !1))
        }, this.getSize = function() {
            return {
                width: Te,
                height: Ae
            }
        }, this.setSize = function(t, i, n) {
            He.isPresenting() || (Te = t, Ae = i, e.width = t * Ce, e.height = i * Ce, !1 !== n && (e.style.width = t + "px", e.style.height = i + "px"), this.setViewport(0, 0, t, i))
        }, this.getDrawingBufferSize = function() {
            return {
                width: Te * Ce,
                height: Ae * Ce
            }
        }, this.setDrawingBufferSize = function(t, i, n) {
            Te = t, Ae = i, Ce = n, e.width = t * n, e.height = i * n, this.setViewport(0, 0, t, i)
        }, this.getCurrentViewport = function() {
            return xe
        }, this.setViewport = function(t, e, i, n) {
            Ee.set(t, Ae - e - n, i, n), y.viewport(xe.copy(Ee).multiplyScalar(Ce))
        }, this.setScissor = function(t, e, i, n) {
            Oe.set(t, Ae - e - n, i, n), y.scissor(we.copy(Oe).multiplyScalar(Ce))
        }, this.setScissorTest = function(t) {
            y.setScissorTest(ke = t)
        }, this.getClearColor = function() {
            return at.getClearColor()
        }, this.setClearColor = function() {
            at.setClearColor.apply(at, arguments)
        }, this.getClearAlpha = function() {
            return at.getClearAlpha()
        }, this.setClearAlpha = function() {
            at.setClearAlpha.apply(at, arguments)
        }, this.clear = function(t, e, i) {
            var n = 0;
            (void 0 === t || t) && (n |= p.COLOR_BUFFER_BIT), (void 0 === e || e) && (n |= p.DEPTH_BUFFER_BIT), (void 0 === i || i) && (n |= p.STENCIL_BUFFER_BIT), p.clear(n)
        }, this.clearColor = function() {
            this.clear(!0, !1, !1)
        }, this.clearDepth = function() {
            this.clear(!1, !0, !1)
        }, this.clearStencil = function() {
            this.clear(!1, !1, !0)
        }, this.clearTarget = function(t, e, i, n) {
            this.setRenderTarget(t), this.clear(e, i, n)
        }, this.dispose = function() {
            e.removeEventListener("webglcontextlost", qe, !1), e.removeEventListener("webglcontextrestored", Ye, !1), rt.dispose(), ot.dispose(), b.dispose(), it.dispose(), He.dispose(), ni.stop()
        }, this.renderBufferImmediate = function(t, e) {
            y.initAttributes();
            var i = b.get(t);
            t.hasPositions && !i.position && (i.position = p.createBuffer()), t.hasNormals && !i.normal && (i.normal = p.createBuffer()), t.hasUvs && !i.uv && (i.uv = p.createBuffer()), t.hasColors && !i.color && (i.color = p.createBuffer());
            var n = e.getAttributes();
            t.hasPositions && (p.bindBuffer(p.ARRAY_BUFFER, i.position), p.bufferData(p.ARRAY_BUFFER, t.positionArray, p.DYNAMIC_DRAW), y.enableAttribute(n.position), p.vertexAttribPointer(n.position, 3, p.FLOAT, !1, 0, 0)), t.hasNormals && (p.bindBuffer(p.ARRAY_BUFFER, i.normal), p.bufferData(p.ARRAY_BUFFER, t.normalArray, p.DYNAMIC_DRAW), y.enableAttribute(n.normal), p.vertexAttribPointer(n.normal, 3, p.FLOAT, !1, 0, 0)), t.hasUvs && (p.bindBuffer(p.ARRAY_BUFFER, i.uv), p.bufferData(p.ARRAY_BUFFER, t.uvArray, p.DYNAMIC_DRAW), y.enableAttribute(n.uv), p.vertexAttribPointer(n.uv, 2, p.FLOAT, !1, 0, 0)), t.hasColors && (p.bindBuffer(p.ARRAY_BUFFER, i.color), p.bufferData(p.ARRAY_BUFFER, t.colorArray, p.DYNAMIC_DRAW), y.enableAttribute(n.color), p.vertexAttribPointer(n.color, 3, p.FLOAT, !1, 0, 0)), y.disableUnusedAttributes(), p.drawArrays(p.TRIANGLES, 0, t.count), t.count = 0
        }, this.renderBufferDirect = function(t, e, i, n, r, o) {
            var s = r.isMesh && r.normalMatrix.determinant() < 0;
            y.setMaterial(n, s);
            var a = pi(t, e, n, r),
                c = !1;
            me.geometry === i.id && me.program === a.id && me.wireframe === (!0 === n.wireframe) || (me.geometry = i.id, me.program = a.id, me.wireframe = !0 === n.wireframe, c = !0), r.morphTargetInfluences && (ct.update(r, i, n, a), c = !0);
            var l, u = i.index,
                h = i.attributes.position,
                m = 1;
            !0 === n.wireframe && (u = T.getWireframeAttribute(i), m = 2);
            var v = lt;
            null !== u && (l = M.get(u), (v = ut).setIndex(l)), c && (! function(t, e, i) {
                if (i && i.isInstancedBufferGeometry & !f.isWebGL2 && null === d.get("ANGLE_instanced_arrays")) return;
                y.initAttributes();
                var n = i.attributes,
                    r = e.getAttributes(),
                    o = t.defaultAttributeValues;
                for (var s in r) {
                    var a = r[s];
                    if (a >= 0) {
                        var c = n[s];
                        if (void 0 !== c) {
                            var l = c.normalized,
                                u = c.itemSize,
                                h = M.get(c);
                            if (void 0 === h) continue;
                            var m = h.buffer,
                                v = h.type,
                                g = h.bytesPerElement;
                            if (c.isInterleavedBufferAttribute) {
                                var _ = c.data,
                                    b = _.stride,
                                    x = c.offset;
                                _ && _.isInstancedInterleavedBuffer ? (y.enableAttributeAndDivisor(a, _.meshPerAttribute), void 0 === i.maxInstancedCount && (i.maxInstancedCount = _.meshPerAttribute * _.count)) : y.enableAttribute(a), p.bindBuffer(p.ARRAY_BUFFER, m), p.vertexAttribPointer(a, u, v, l, b * g, x * g)
                            } else c.isInstancedBufferAttribute ? (y.enableAttributeAndDivisor(a, c.meshPerAttribute), void 0 === i.maxInstancedCount && (i.maxInstancedCount = c.meshPerAttribute * c.count)) : y.enableAttribute(a), p.bindBuffer(p.ARRAY_BUFFER, m), p.vertexAttribPointer(a, u, v, l, 0, 0)
                        } else if (void 0 !== o) {
                            var w = o[s];
                            if (void 0 !== w) switch (w.length) {
                                case 2:
                                    p.vertexAttrib2fv(a, w);
                                    break;
                                case 3:
                                    p.vertexAttrib3fv(a, w);
                                    break;
                                case 4:
                                    p.vertexAttrib4fv(a, w);
                                    break;
                                default:
                                    p.vertexAttrib1fv(a, w)
                            }
                        }
                    }
                }
                y.disableUnusedAttributes()
            }(n, a, i), null !== u && p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, l.buffer));
            var g = 1 / 0;
            null !== u ? g = u.count : void 0 !== h && (g = h.count);
            var _ = i.drawRange.start * m,
                b = i.drawRange.count * m,
                x = null !== o ? o.start * m : 0,
                w = null !== o ? o.count * m : 1 / 0,
                S = Math.max(_, x),
                A = Math.min(g, _ + b, x + w) - 1,
                C = Math.max(0, A - S + 1);
            if (0 !== C) {
                if (r.isMesh)
                    if (!0 === n.wireframe) y.setLineWidth(n.wireframeLinewidth * Ue()), v.setMode(p.LINES);
                    else switch (r.drawMode) {
                        case ve:
                            v.setMode(p.TRIANGLES);
                            break;
                        case ge:
                            v.setMode(p.TRIANGLE_STRIP);
                            break;
                        case ye:
                            v.setMode(p.TRIANGLE_FAN)
                    } else if (r.isLine) {
                        var E = n.linewidth;
                        void 0 === E && (E = 1), y.setLineWidth(E * Ue()), r.isLineSegments ? v.setMode(p.LINES) : r.isLineLoop ? v.setMode(p.LINE_LOOP) : v.setMode(p.LINE_STRIP)
                    } else r.isPoints ? v.setMode(p.POINTS) : r.isSprite && v.setMode(p.TRIANGLES);
                i && i.isInstancedBufferGeometry ? i.maxInstancedCount > 0 && v.renderInstances(i, S, C) : v.render(S, C)
            }
        }, this.compile = function(t, e) {
            (h = ot.get(t, e)).init(), t.traverse(function(t) {
                t.isLight && (h.pushLight(t), t.castShadow && h.pushShadow(t))
            }), h.setupLights(e), t.traverse(function(e) {
                if (e.material)
                    if (Array.isArray(e.material))
                        for (var i = 0; i < e.material.length; i++) hi(e.material[i], t.fog, e);
                    else hi(e.material, t.fog, e)
            })
        };
        var ti = null;
        var ei, ni = new ci;

        function oi(t, e, i, n) {
            for (var r = 0, o = t.length; r < o; r++) {
                var s = t[r],
                    a = s.object,
                    c = s.geometry,
                    l = void 0 === n ? s.material : n,
                    u = s.group;
                if (i.isArrayCamera) {
                    be = i;
                    for (var p = i.cameras, d = 0, f = p.length; d < f; d++) {
                        var m = p[d];
                        if (a.layers.test(m.layers)) {
                            if ("viewport" in m) y.viewport(xe.copy(m.viewport));
                            else {
                                var v = m.bounds,
                                    g = v.x * Te,
                                    _ = v.y * Ae,
                                    b = v.z * Te,
                                    x = v.w * Ae;
                                y.viewport(xe.set(g, _, b, x).multiplyScalar(Ce))
                            }
                            h.setupLights(m), ui(a, e, m, c, l, u)
                        }
                    }
                } else be = null, ui(a, e, i, c, l, u)
            }
        }

        function ui(t, e, i, n, r, o) {
            if (t.onBeforeRender(pt, e, i, n, r, o), h = ot.get(e, be || i), t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse, t.matrixWorld), t.normalMatrix.getNormalMatrix(t.modelViewMatrix), t.isImmediateRenderObject) {
                y.setMaterial(r);
                var s = pi(i, e.fog, r, t);
                me.geometry = null, me.program = null, me.wireframe = !1,
                    function(t, e) {
                        t.render(function(t) {
                            pt.renderBufferImmediate(t, e)
                        })
                    }(t, s)
            } else pt.renderBufferDirect(i, e.fog, n, r, t, o);
            t.onAfterRender(pt, e, i, n, r, o), h = ot.get(e, be || i)
        }

        function hi(t, e, i) {
            var n = b.get(t),
                r = h.state.lights,
                o = h.state.shadowsArray,
                s = n.lightsHash,
                a = r.state.hash,
                c = nt.getParameters(t, r.state, o, e, Ne.numPlanes, Ne.numIntersection, i),
                l = nt.getProgramCode(t, c),
                u = n.program,
                p = !0;
            if (void 0 === u) t.addEventListener("dispose", Qe);
            else if (u.code !== l) Ke(t);
            else if (s.stateID !== a.stateID || s.directionalLength !== a.directionalLength || s.pointLength !== a.pointLength || s.spotLength !== a.spotLength || s.rectAreaLength !== a.rectAreaLength || s.hemiLength !== a.hemiLength || s.shadowsLength !== a.shadowsLength) s.stateID = a.stateID, s.directionalLength = a.directionalLength, s.pointLength = a.pointLength, s.spotLength = a.spotLength, s.rectAreaLength = a.rectAreaLength, s.hemiLength = a.hemiLength, s.shadowsLength = a.shadowsLength, p = !1;
            else {
                if (void 0 !== c.shaderID) return;
                p = !1
            }
            if (p) {
                if (c.shaderID) {
                    var d = ai[c.shaderID];
                    n.shader = {
                        name: t.type,
                        uniforms: ii.clone(d.uniforms),
                        vertexShader: d.vertexShader,
                        fragmentShader: d.fragmentShader
                    }
                } else n.shader = {
                    name: t.type,
                    uniforms: t.uniforms,
                    vertexShader: t.vertexShader,
                    fragmentShader: t.fragmentShader
                };
                t.onBeforeCompile(n.shader, pt), l = nt.getProgramCode(t, c), u = nt.acquireProgram(t, n.shader, c, l), n.program = u, t.program = u
            }
            var f = u.getAttributes();
            if (t.morphTargets) {
                t.numSupportedMorphTargets = 0;
                for (var m = 0; m < pt.maxMorphTargets; m++) f["morphTarget" + m] >= 0 && t.numSupportedMorphTargets++
            }
            if (t.morphNormals) {
                t.numSupportedMorphNormals = 0;
                for (m = 0; m < pt.maxMorphNormals; m++) f["morphNormal" + m] >= 0 && t.numSupportedMorphNormals++
            }
            var v = n.shader.uniforms;
            (t.isShaderMaterial || t.isRawShaderMaterial) && !0 !== t.clipping || (n.numClippingPlanes = Ne.numPlanes, n.numIntersection = Ne.numIntersection, v.clippingPlanes = Ne.uniform), n.fog = e, void 0 === s && (n.lightsHash = s = {}), s.stateID = a.stateID, s.directionalLength = a.directionalLength, s.pointLength = a.pointLength, s.spotLength = a.spotLength, s.rectAreaLength = a.rectAreaLength, s.hemiLength = a.hemiLength, s.shadowsLength = a.shadowsLength, t.lights && (v.ambientLightColor.value = r.state.ambient, v.directionalLights.value = r.state.directional, v.spotLights.value = r.state.spot, v.rectAreaLights.value = r.state.rectArea, v.pointLights.value = r.state.point, v.hemisphereLights.value = r.state.hemi, v.directionalShadowMap.value = r.state.directionalShadowMap, v.directionalShadowMatrix.value = r.state.directionalShadowMatrix, v.spotShadowMap.value = r.state.spotShadowMap, v.spotShadowMatrix.value = r.state.spotShadowMatrix, v.pointShadowMap.value = r.state.pointShadowMap, v.pointShadowMatrix.value = r.state.pointShadowMatrix);
            var g = n.program.getUniforms(),
                y = Qn.seqWithValue(g.seq, v);
            n.uniformsList = y
        }

        function pi(t, e, i, n) {
            Me = 0;
            var r = b.get(i),
                o = h.state.lights,
                s = r.lightsHash,
                a = o.state.hash;
            if (ze && (Fe || t !== _e)) {
                var c = t === _e && i.id === fe;
                Ne.setState(i.clippingPlanes, i.clipIntersection, i.clipShadows, t, r, c)
            }!1 === i.needsUpdate && (void 0 === r.program ? i.needsUpdate = !0 : i.fog && r.fog !== e ? i.needsUpdate = !0 : (!i.lights || s.stateID === a.stateID && s.directionalLength === a.directionalLength && s.pointLength === a.pointLength && s.spotLength === a.spotLength && s.rectAreaLength === a.rectAreaLength && s.hemiLength === a.hemiLength && s.shadowsLength === a.shadowsLength) && (void 0 === r.numClippingPlanes || r.numClippingPlanes === Ne.numPlanes && r.numIntersection === Ne.numIntersection) || (i.needsUpdate = !0)), i.needsUpdate && (hi(i, e, n), i.needsUpdate = !1);
            var l, u, d = !1,
                m = !1,
                v = !1,
                g = r.program,
                _ = g.getUniforms(),
                w = r.shader.uniforms;
            if (y.useProgram(g.program) && (d = !0, m = !0, v = !0), i.id !== fe && (fe = i.id, m = !0), d || _e !== t) {
                if (_.setValue(p, "projectionMatrix", t.projectionMatrix), f.logarithmicDepthBuffer && _.setValue(p, "logDepthBufFC", 2 / (Math.log(t.far + 1) / Math.LN2)), _e !== t && (_e = t, m = !0, v = !0), i.isShaderMaterial || i.isMeshPhongMaterial || i.isMeshStandardMaterial || i.envMap) {
                    var S = _.map.cameraPosition;
                    void 0 !== S && S.setValue(p, je.setFromMatrixPosition(t.matrixWorld))
                }(i.isMeshPhongMaterial || i.isMeshLambertMaterial || i.isMeshBasicMaterial || i.isMeshStandardMaterial || i.isShaderMaterial || i.skinning) && _.setValue(p, "viewMatrix", t.matrixWorldInverse)
            }
            if (i.skinning) {
                _.setOptional(p, n, "bindMatrix"), _.setOptional(p, n, "bindMatrixInverse");
                var M = n.skeleton;
                if (M) {
                    var T = M.bones;
                    if (f.floatVertexTextures) {
                        if (void 0 === M.boneTexture) {
                            var A = Math.sqrt(4 * T.length);
                            A = Pe.ceilPowerOfTwo(A), A = Math.max(A, 4);
                            var C = new Float32Array(A * A * 4);
                            C.set(M.boneMatrices);
                            var E = new Xe(C, A, A, jt, Lt);
                            E.needsUpdate = !0, M.boneMatrices = C, M.boneTexture = E, M.boneTextureSize = A
                        }
                        _.setValue(p, "boneTexture", M.boneTexture), _.setValue(p, "boneTextureSize", M.boneTextureSize)
                    } else _.setOptional(p, M, "boneMatrices")
                }
            }
            return m && (_.setValue(p, "toneMappingExposure", pt.toneMappingExposure), _.setValue(p, "toneMappingWhitePoint", pt.toneMappingWhitePoint), i.lights && (u = v, (l = w).ambientLightColor.needsUpdate = u, l.directionalLights.needsUpdate = u, l.pointLights.needsUpdate = u, l.spotLights.needsUpdate = u, l.rectAreaLights.needsUpdate = u, l.hemisphereLights.needsUpdate = u), e && i.fog && function(t, e) {
                t.fogColor.value = e.color, e.isFog ? (t.fogNear.value = e.near, t.fogFar.value = e.far) : e.isFogExp2 && (t.fogDensity.value = e.density)
            }(w, e), i.isMeshBasicMaterial ? di(w, i) : i.isMeshLambertMaterial ? (di(w, i), function(t, e) {
                e.emissiveMap && (t.emissiveMap.value = e.emissiveMap)
            }(w, i)) : i.isMeshPhongMaterial ? (di(w, i), i.isMeshToonMaterial ? function(t, e) {
                fi(t, e), e.gradientMap && (t.gradientMap.value = e.gradientMap)
            }(w, i) : fi(w, i)) : i.isMeshStandardMaterial ? (di(w, i), i.isMeshPhysicalMaterial ? function(t, e) {
                mi(t, e), t.reflectivity.value = e.reflectivity, t.clearCoat.value = e.clearCoat, t.clearCoatRoughness.value = e.clearCoatRoughness
            }(w, i) : mi(w, i)) : i.isMeshDepthMaterial ? (di(w, i), function(t, e) {
                e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
            }(w, i)) : i.isMeshDistanceMaterial ? (di(w, i), function(t, e) {
                e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias);
                t.referencePosition.value.copy(e.referencePosition), t.nearDistance.value = e.nearDistance, t.farDistance.value = e.farDistance
            }(w, i)) : i.isMeshNormalMaterial ? (di(w, i), function(t, e) {
                e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === x && (t.bumpScale.value *= -1));
                e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === x && t.normalScale.value.negate());
                e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
            }(w, i)) : i.isLineBasicMaterial ? (function(t, e) {
                t.diffuse.value = e.color, t.opacity.value = e.opacity
            }(w, i), i.isLineDashedMaterial && function(t, e) {
                t.dashSize.value = e.dashSize, t.totalSize.value = e.dashSize + e.gapSize, t.scale.value = e.scale
            }(w, i)) : i.isPointsMaterial ? function(t, e) {
                t.diffuse.value = e.color, t.opacity.value = e.opacity, t.size.value = e.size * Ce, t.scale.value = .5 * Ae, t.map.value = e.map, null !== e.map && (!0 === e.map.matrixAutoUpdate && e.map.updateMatrix(), t.uvTransform.value.copy(e.map.matrix))
            }(w, i) : i.isSpriteMaterial ? function(t, e) {
                t.diffuse.value = e.color, t.opacity.value = e.opacity, t.rotation.value = e.rotation, t.map.value = e.map, null !== e.map && (!0 === e.map.matrixAutoUpdate && e.map.updateMatrix(), t.uvTransform.value.copy(e.map.matrix))
            }(w, i) : i.isShadowMaterial && (w.color.value = i.color, w.opacity.value = i.opacity), void 0 !== w.ltc_1 && (w.ltc_1.value = si.LTC_1), void 0 !== w.ltc_2 && (w.ltc_2.value = si.LTC_2), Qn.upload(p, r.uniformsList, w, pt)), i.isShaderMaterial && !0 === i.uniformsNeedUpdate && (Qn.upload(p, r.uniformsList, w, pt), i.uniformsNeedUpdate = !1), i.isSpriteMaterial && _.setValue(p, "center", n.center), _.setValue(p, "modelViewMatrix", n.modelViewMatrix), _.setValue(p, "normalMatrix", n.normalMatrix), _.setValue(p, "modelMatrix", n.matrixWorld), g
        }

        function di(t, e) {
            var i;
            t.opacity.value = e.opacity, e.color && (t.diffuse.value = e.color), e.emissive && t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity), e.map && (t.map.value = e.map), e.alphaMap && (t.alphaMap.value = e.alphaMap), e.specularMap && (t.specularMap.value = e.specularMap), e.envMap && (t.envMap.value = e.envMap, t.flipEnvMap.value = e.envMap && e.envMap.isCubeTexture ? -1 : 1, t.reflectivity.value = e.reflectivity, t.refractionRatio.value = e.refractionRatio, t.maxMipLevel.value = b.get(e.envMap).__maxMipLevel), e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.aoMap && (t.aoMap.value = e.aoMap, t.aoMapIntensity.value = e.aoMapIntensity), e.map ? i = e.map : e.specularMap ? i = e.specularMap : e.displacementMap ? i = e.displacementMap : e.normalMap ? i = e.normalMap : e.bumpMap ? i = e.bumpMap : e.roughnessMap ? i = e.roughnessMap : e.metalnessMap ? i = e.metalnessMap : e.alphaMap ? i = e.alphaMap : e.emissiveMap && (i = e.emissiveMap), void 0 !== i && (i.isWebGLRenderTarget && (i = i.texture), !0 === i.matrixAutoUpdate && i.updateMatrix(), t.uvTransform.value.copy(i.matrix))
        }

        function fi(t, e) {
            t.specular.value = e.specular, t.shininess.value = Math.max(e.shininess, 1e-4), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === x && (t.bumpScale.value *= -1)), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === x && t.normalScale.value.negate()), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
        }

        function mi(t, e) {
            t.roughness.value = e.roughness, t.metalness.value = e.metalness, e.roughnessMap && (t.roughnessMap.value = e.roughnessMap), e.metalnessMap && (t.metalnessMap.value = e.metalnessMap), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === x && (t.bumpScale.value *= -1)), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === x && t.normalScale.value.negate()), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias), e.envMap && (t.envMapIntensity.value = e.envMapIntensity)
        }
        ni.setAnimationLoop(function(t) {
            He.isPresenting() || ti && ti(t)
        }), "undefined" != typeof window && ni.setContext(window), this.setAnimationLoop = function(t) {
            ti = t, He.setAnimationLoop(t), ni.start()
        }, this.render = function(t, e, i, n) {
            if (e && e.isCamera && !dt) {
                me.geometry = null, me.program = null, me.wireframe = !1, fe = -1, _e = null, !0 === t.autoUpdate && t.updateMatrixWorld(), null === e.parent && e.updateMatrixWorld(), He.enabled && (e = He.getCamera(e)), (h = ot.get(t, e)).init(), t.onBeforeRender(pt, t, e, i), Be.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), Ie.setFromMatrix(Be), Fe = this.localClippingEnabled, ze = Ne.init(this.clippingPlanes, Fe, e), (u = rt.get(t, e)).init(),
                    function t(e, i, n) {
                        if (!1 === e.visible) return;
                        var r = e.layers.test(i.layers);
                        if (r)
                            if (e.isLight) h.pushLight(e), e.castShadow && h.pushShadow(e);
                            else if (e.isSprite) {
                            if (!e.frustumCulled || Ie.intersectsSprite(e)) {
                                n && je.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Be);
                                var o = it.update(e),
                                    s = e.material;
                                u.push(e, o, s, je.z, null)
                            }
                        } else if (e.isImmediateRenderObject) n && je.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Be), u.push(e, null, e.material, je.z, null);
                        else if ((e.isMesh || e.isLine || e.isPoints) && (e.isSkinnedMesh && e.skeleton.update(), !e.frustumCulled || Ie.intersectsObject(e))) {
                            n && je.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Be);
                            var o = it.update(e),
                                s = e.material;
                            if (Array.isArray(s))
                                for (var a = o.groups, c = 0, l = a.length; c < l; c++) {
                                    var p = a[c],
                                        d = s[p.materialIndex];
                                    d && d.visible && u.push(e, o, d, je.z, p)
                                } else s.visible && u.push(e, o, s, je.z, null)
                        }
                        var f = e.children;
                        for (var c = 0, l = f.length; c < l; c++) t(f[c], i, n)
                    }(t, e, pt.sortObjects), !0 === pt.sortObjects && u.sort(), ze && Ne.beginShadows();
                var r = h.state.shadowsArray;
                $e.render(r, t, e), h.setupLights(e), ze && Ne.endShadows(), this.info.autoReset && this.info.reset(), void 0 === i && (i = null), this.setRenderTarget(i), at.render(u, t, e, n);
                var o = u.opaque,
                    s = u.transparent;
                if (t.overrideMaterial) {
                    var a = t.overrideMaterial;
                    o.length && oi(o, t, e, a), s.length && oi(s, t, e, a)
                } else o.length && oi(o, t, e), s.length && oi(s, t, e);
                i && S.updateRenderTargetMipmap(i), y.buffers.depth.setTest(!0), y.buffers.depth.setMask(!0), y.buffers.color.setMask(!0), y.setPolygonOffset(!1), t.onAfterRender(pt, t, e), He.enabled && He.submitFrame(), u = null, h = null
            }
        }, this.allocTextureUnit = function() {
            var t = Me;
            return f.maxTextures, Me += 1, t
        }, this.setTexture2D = (ei = !1, function(t, e) {
            t && t.isWebGLRenderTarget && (ei || (ei = !0), t = t.texture), S.setTexture2D(t, e)
        }), this.setTexture = function() {
            var t = !1;
            return function(e, i) {
                t || (t = !0), S.setTexture2D(e, i)
            }
        }(), this.setTextureCube = function() {
            var t = !1;
            return function(e, i) {
                e && e.isWebGLRenderTargetCube && (t || (t = !0), e = e.texture), e && e.isCubeTexture || Array.isArray(e.image) && 6 === e.image.length ? S.setTextureCube(e, i) : S.setTextureCubeDynamic(e, i)
            }
        }(), this.setFramebuffer = function(t) {
            ft = t
        }, this.getRenderTarget = function() {
            return mt
        }, this.setRenderTarget = function(t) {
            mt = t, t && void 0 === b.get(t).__webglFramebuffer && S.setupRenderTarget(t);
            var e = ft,
                i = !1;
            if (t) {
                var n = b.get(t).__webglFramebuffer;
                t.isWebGLRenderTargetCube ? (e = n[t.activeCubeFace], i = !0) : e = n, xe.copy(t.viewport), we.copy(t.scissor), Se = t.scissorTest
            } else xe.copy(Ee).multiplyScalar(Ce), we.copy(Oe).multiplyScalar(Ce), Se = ke;
            if (vt !== e && (p.bindFramebuffer(p.FRAMEBUFFER, e), vt = e), y.viewport(xe), y.scissor(we), y.setScissorTest(Se), i) {
                var r = b.get(t.texture);
                p.framebufferTexture2D(p.FRAMEBUFFER, p.COLOR_ATTACHMENT0, p.TEXTURE_CUBE_MAP_POSITIVE_X + t.activeCubeFace, r.__webglTexture, t.activeMipMapLevel)
            }
        }, this.readRenderTargetPixels = function(t, e, i, n, r, o) {
            if (t && t.isWebGLRenderTarget) {
                var s = b.get(t).__webglFramebuffer;
                if (s) {
                    var a = !1;
                    s !== vt && (p.bindFramebuffer(p.FRAMEBUFFER, s), a = !0);
                    try {
                        var c = t.texture,
                            l = c.format,
                            u = c.type;
                        if (l !== jt && ht.convert(l) !== p.getParameter(p.IMPLEMENTATION_COLOR_READ_FORMAT)) return;
                        if (!(u === At || ht.convert(u) === p.getParameter(p.IMPLEMENTATION_COLOR_READ_TYPE) || u === Lt && (f.isWebGL2 || d.get("OES_texture_float") || d.get("WEBGL_color_buffer_float")) || u === It && (f.isWebGL2 ? d.get("EXT_color_buffer_float") : d.get("EXT_color_buffer_half_float")))) return;
                        p.checkFramebufferStatus(p.FRAMEBUFFER) === p.FRAMEBUFFER_COMPLETE && e >= 0 && e <= t.width - n && i >= 0 && i <= t.height - r && p.readPixels(e, i, n, r, ht.convert(l), ht.convert(u), o)
                    } finally {
                        a && p.bindFramebuffer(p.FRAMEBUFFER, vt)
                    }
                }
            }
        }, this.copyFramebufferToTexture = function(t, e, i) {
            var n = e.image.width,
                r = e.image.height,
                o = ht.convert(e.format);
            this.setTexture2D(e, 0), p.copyTexImage2D(p.TEXTURE_2D, i || 0, o, t.x, t.y, n, r, 0)
        }, this.copyTextureToTexture = function(t, e, i, n) {
            var r = e.image.width,
                o = e.image.height,
                s = ht.convert(i.format),
                a = ht.convert(i.type);
            this.setTexture2D(i, 0), e.isDataTexture ? p.texSubImage2D(p.TEXTURE_2D, n || 0, t.x, t.y, r, o, s, a, e.image.data) : p.texSubImage2D(p.TEXTURE_2D, n || 0, t.x, t.y, s, a, e.image)
        }
    }

    function kr(t, e) {
        this.name = "", this.color = new ri(t), this.density = void 0 !== e ? e : 25e-5
    }

    function Lr(t, e, i) {
        this.name = "", this.color = new ri(t), this.near = void 0 !== e ? e : 1, this.far = void 0 !== i ? i : 1e3
    }

    function Ir() {
        gi.call(this), this.type = "Scene", this.background = null, this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0
    }

    function Rr(t, e) {
        this.array = t, this.stride = e, this.count = void 0 !== t ? t.length / e : 0, this.dynamic = !1, this.updateRange = {
            offset: 0,
            count: -1
        }, this.version = 0
    }

    function Dr(t, e, i, n) {
        this.data = t, this.itemSize = e, this.offset = i, this.normalized = !0 === n
    }

    function Nr(t) {
        nn.call(this), this.type = "SpriteMaterial", this.color = new ri(16777215), this.map = null, this.rotation = 0, this.sizeAttenuation = !0, this.lights = !1, this.transparent = !0, this.setValues(t)
    }

    function zr(t) {
        if (gi.call(this), this.type = "Sprite", void 0 === dr) {
            dr = new Fi;
            var e = new Rr(new Float32Array([-.5, -.5, 0, 0, 0, .5, -.5, 0, 1, 0, .5, .5, 0, 1, 1, -.5, .5, 0, 0, 1]), 5);
            dr.setIndex([0, 1, 2, 0, 2, 3]), dr.addAttribute("position", new Dr(e, 3, 0, !1)), dr.addAttribute("uv", new Dr(e, 2, 3, !1))
        }
        this.geometry = dr, this.material = void 0 !== t ? t : new Nr, this.center = new ke(.5, .5)
    }

    function Fr() {
        gi.call(this), this.type = "LOD", Object.defineProperties(this, {
            levels: {
                enumerable: !0,
                value: []
            }
        })
    }

    function Br(t, e) {
        if (t = t || [], this.bones = t.slice(0), this.boneMatrices = new Float32Array(16 * this.bones.length), void 0 === e) this.calculateInverses();
        else if (this.bones.length === e.length) this.boneInverses = e.slice(0);
        else {
            this.boneInverses = [];
            for (var i = 0, n = this.bones.length; i < n; i++) this.boneInverses.push(new Le)
        }
    }

    function jr() {
        gi.call(this), this.type = "Bone"
    }

    function Ur(t, e) {
        cn.call(this, t, e), this.type = "SkinnedMesh", this.bindMode = "attached", this.bindMatrix = new Le, this.bindMatrixInverse = new Le;
        var i = new Br(this.initBones());
        this.bind(i, this.matrixWorld), this.normalizeSkinWeights()
    }

    function Vr(t) {
        nn.call(this), this.type = "LineBasicMaterial", this.color = new ri(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.lights = !1, this.setValues(t)
    }

    function Gr(t, e, i) {
        gi.call(this), this.type = "Line", this.geometry = void 0 !== t ? t : new Fi, this.material = void 0 !== e ? e : new Vr({
            color: 16777215 * Math.random()
        })
    }

    function Wr(t, e) {
        Gr.call(this, t, e), this.type = "LineSegments"
    }

    function Hr(t, e) {
        Gr.call(this, t, e), this.type = "LineLoop"
    }

    function $r(t) {
        nn.call(this), this.type = "PointsMaterial", this.color = new ri(16777215), this.map = null, this.size = 1, this.sizeAttenuation = !0, this.morphTargets = !1, this.lights = !1, this.setValues(t)
    }

    function Xr(t, e) {
        gi.call(this), this.type = "Points", this.geometry = void 0 !== t ? t : new Fi, this.material = void 0 !== e ? e : new $r({
            color: 16777215 * Math.random()
        })
    }

    function qr(t, e, i, n, r, o, s, a, c) {
        Ge.call(this, t, e, i, n, r, o, s, a, c), this.generateMipmaps = !1
    }

    function Yr(t, e, i, n, r, o, s, a, c, l, u, h) {
        Ge.call(this, null, o, s, a, c, l, n, r, u, h), this.image = {
            width: e,
            height: i
        }, this.mipmaps = t, this.flipY = !1, this.generateMipmaps = !1
    }

    function Zr(t, e, i, n, r, o, s, a, c) {
        Ge.call(this, t, e, i, n, r, o, s, a, c), this.needsUpdate = !0
    }

    function Jr(t, e, i, n, r, o, s, a, c, l) {
        if ((l = void 0 !== l ? l : Gt) !== Gt && l !== Wt) throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
        void 0 === i && l === Gt && (i = Ot), void 0 === i && l === Wt && (i = zt), Ge.call(this, null, n, r, o, s, a, l, i, c), this.image = {
            width: t,
            height: e
        }, this.magFilter = void 0 !== s ? s : bt, this.minFilter = void 0 !== a ? a : bt, this.flipY = !1, this.generateMipmaps = !1
    }

    function Qr(t) {
        Fi.call(this), this.type = "WireframeGeometry";
        var e, i, n, r, o, s, a, c, l, u, h = [],
            p = [0, 0],
            d = {},
            f = ["a", "b", "c"];
        if (t && t.isGeometry) {
            var m = t.faces;
            for (e = 0, n = m.length; e < n; e++) {
                var v = m[e];
                for (i = 0; i < 3; i++) a = v[f[i]], c = v[f[(i + 1) % 3]], p[0] = Math.min(a, c), p[1] = Math.max(a, c), void 0 === d[l = p[0] + "," + p[1]] && (d[l] = {
                    index1: p[0],
                    index2: p[1]
                })
            }
            for (l in d) s = d[l], u = t.vertices[s.index1], h.push(u.x, u.y, u.z), u = t.vertices[s.index2], h.push(u.x, u.y, u.z)
        } else if (t && t.isBufferGeometry) {
            var g, y, _, b, x, w, S;
            if (u = new Re, null !== t.index) {
                for (g = t.attributes.position, y = t.index, 0 === (_ = t.groups).length && (_ = [{
                        start: 0,
                        count: y.count,
                        materialIndex: 0
                    }]), r = 0, o = _.length; r < o; ++r)
                    for (e = x = (b = _[r]).start, n = x + b.count; e < n; e += 3)
                        for (i = 0; i < 3; i++) a = y.getX(e + i), c = y.getX(e + (i + 1) % 3), p[0] = Math.min(a, c), p[1] = Math.max(a, c), void 0 === d[l = p[0] + "," + p[1]] && (d[l] = {
                            index1: p[0],
                            index2: p[1]
                        });
                for (l in d) s = d[l], u.fromBufferAttribute(g, s.index1), h.push(u.x, u.y, u.z), u.fromBufferAttribute(g, s.index2), h.push(u.x, u.y, u.z)
            } else
                for (e = 0, n = (g = t.attributes.position).count / 3; e < n; e++)
                    for (i = 0; i < 3; i++) w = 3 * e + i, u.fromBufferAttribute(g, w), h.push(u.x, u.y, u.z), S = 3 * e + (i + 1) % 3, u.fromBufferAttribute(g, S), h.push(u.x, u.y, u.z)
        }
        this.addAttribute("position", new Ii(h, 3))
    }

    function Kr(t, e, i) {
        Mi.call(this), this.type = "ParametricGeometry", this.parameters = {
            func: t,
            slices: e,
            stacks: i
        }, this.fromBufferGeometry(new to(t, e, i)), this.mergeVertices()
    }

    function to(t, e, i) {
        Fi.call(this), this.type = "ParametricBufferGeometry", this.parameters = {
            func: t,
            slices: e,
            stacks: i
        };
        var n, r, o = [],
            s = [],
            a = [],
            c = [],
            l = new Re,
            u = new Re,
            h = new Re,
            p = new Re,
            d = new Re;
        t.length;
        var f = e + 1;
        for (n = 0; n <= i; n++) {
            var m = n / i;
            for (r = 0; r <= e; r++) {
                var v = r / e;
                t(v, m, u), s.push(u.x, u.y, u.z), v - 1e-5 >= 0 ? (t(v - 1e-5, m, h), p.subVectors(u, h)) : (t(v + 1e-5, m, h), p.subVectors(h, u)), m - 1e-5 >= 0 ? (t(v, m - 1e-5, h), d.subVectors(u, h)) : (t(v, m + 1e-5, h), d.subVectors(h, u)), l.crossVectors(p, d).normalize(), a.push(l.x, l.y, l.z), c.push(v, m)
            }
        }
        for (n = 0; n < i; n++)
            for (r = 0; r < e; r++) {
                var g = n * f + r,
                    y = n * f + r + 1,
                    _ = (n + 1) * f + r + 1,
                    b = (n + 1) * f + r;
                o.push(g, y, b), o.push(y, _, b)
            }
        this.setIndex(o), this.addAttribute("position", new Ii(s, 3)), this.addAttribute("normal", new Ii(a, 3)), this.addAttribute("uv", new Ii(c, 2))
    }

    function eo(t, e, i, n) {
        Mi.call(this), this.type = "PolyhedronGeometry", this.parameters = {
            vertices: t,
            indices: e,
            radius: i,
            detail: n
        }, this.fromBufferGeometry(new io(t, e, i, n)), this.mergeVertices()
    }

    function io(t, e, i, n) {
        Fi.call(this), this.type = "PolyhedronBufferGeometry", this.parameters = {
            vertices: t,
            indices: e,
            radius: i,
            detail: n
        }, i = i || 1;
        var r = [],
            o = [];

        function s(t, e, i, n) {
            var r, o, s = Math.pow(2, n),
                c = [];
            for (r = 0; r <= s; r++) {
                c[r] = [];
                var l = t.clone().lerp(i, r / s),
                    u = e.clone().lerp(i, r / s),
                    h = s - r;
                for (o = 0; o <= h; o++) c[r][o] = 0 === o && r === s ? l : l.clone().lerp(u, o / h)
            }
            for (r = 0; r < s; r++)
                for (o = 0; o < 2 * (s - r) - 1; o++) {
                    var p = Math.floor(o / 2);
                    o % 2 == 0 ? (a(c[r][p + 1]), a(c[r + 1][p]), a(c[r][p])) : (a(c[r][p + 1]), a(c[r + 1][p + 1]), a(c[r + 1][p]))
                }
        }

        function a(t) {
            r.push(t.x, t.y, t.z)
        }

        function c(e, i) {
            var n = 3 * e;
            i.x = t[n + 0], i.y = t[n + 1], i.z = t[n + 2]
        }

        function l(t, e, i, n) {
            n < 0 && 1 === t.x && (o[e] = t.x - 1), 0 === i.x && 0 === i.z && (o[e] = n / 2 / Math.PI + .5)
        }

        function u(t) {
            return Math.atan2(t.z, -t.x)
        }! function(t) {
            for (var i = new Re, n = new Re, r = new Re, o = 0; o < e.length; o += 3) c(e[o + 0], i), c(e[o + 1], n), c(e[o + 2], r), s(i, n, r, t)
        }(n = n || 0),
        function(t) {
            for (var e = new Re, i = 0; i < r.length; i += 3) e.x = r[i + 0], e.y = r[i + 1], e.z = r[i + 2], e.normalize().multiplyScalar(t), r[i + 0] = e.x, r[i + 1] = e.y, r[i + 2] = e.z
        }(i),
        function() {
            for (var t = new Re, e = 0; e < r.length; e += 3) {
                t.x = r[e + 0], t.y = r[e + 1], t.z = r[e + 2];
                var i = u(t) / 2 / Math.PI + .5,
                    n = (s = t, Math.atan2(-s.y, Math.sqrt(s.x * s.x + s.z * s.z)) / Math.PI + .5);
                o.push(i, 1 - n)
            }
            var s;
            (function() {
                for (var t = new Re, e = new Re, i = new Re, n = new Re, s = new ke, a = new ke, c = new ke, h = 0, p = 0; h < r.length; h += 9, p += 6) {
                    t.set(r[h + 0], r[h + 1], r[h + 2]), e.set(r[h + 3], r[h + 4], r[h + 5]), i.set(r[h + 6], r[h + 7], r[h + 8]), s.set(o[p + 0], o[p + 1]), a.set(o[p + 2], o[p + 3]), c.set(o[p + 4], o[p + 5]), n.copy(t).add(e).add(i).divideScalar(3);
                    var d = u(n);
                    l(s, p + 0, t, d), l(a, p + 2, e, d), l(c, p + 4, i, d)
                }
            })(),
            function() {
                for (var t = 0; t < o.length; t += 6) {
                    var e = o[t + 0],
                        i = o[t + 2],
                        n = o[t + 4],
                        r = Math.max(e, i, n),
                        s = Math.min(e, i, n);
                    r > .9 && s < .1 && (e < .2 && (o[t + 0] += 1), i < .2 && (o[t + 2] += 1), n < .2 && (o[t + 4] += 1))
                }
            }()
        }(), this.addAttribute("position", new Ii(r, 3)), this.addAttribute("normal", new Ii(r.slice(), 3)), this.addAttribute("uv", new Ii(o, 2)), 0 === n ? this.computeVertexNormals() : this.normalizeNormals()
    }

    function no(t, e) {
        Mi.call(this), this.type = "TetrahedronGeometry", this.parameters = {
            radius: t,
            detail: e
        }, this.fromBufferGeometry(new ro(t, e)), this.mergeVertices()
    }

    function ro(t, e) {
        io.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], t, e), this.type = "TetrahedronBufferGeometry", this.parameters = {
            radius: t,
            detail: e
        }
    }

    function oo(t, e) {
        Mi.call(this), this.type = "OctahedronGeometry", this.parameters = {
            radius: t,
            detail: e
        }, this.fromBufferGeometry(new so(t, e)), this.mergeVertices()
    }

    function so(t, e) {
        io.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], t, e), this.type = "OctahedronBufferGeometry", this.parameters = {
            radius: t,
            detail: e
        }
    }

    function ao(t, e) {
        Mi.call(this), this.type = "IcosahedronGeometry", this.parameters = {
            radius: t,
            detail: e
        }, this.fromBufferGeometry(new co(t, e)), this.mergeVertices()
    }

    function co(t, e) {
        var i = (1 + Math.sqrt(5)) / 2,
            n = [-1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, 0, 0, -1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, i, 0, -1, i, 0, 1, -i, 0, -1, -i, 0, 1];
        io.call(this, n, [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], t, e), this.type = "IcosahedronBufferGeometry", this.parameters = {
            radius: t,
            detail: e
        }
    }

    function lo(t, e) {
        Mi.call(this), this.type = "DodecahedronGeometry", this.parameters = {
            radius: t,
            detail: e
        }, this.fromBufferGeometry(new uo(t, e)), this.mergeVertices()
    }

    function uo(t, e) {
        var i = (1 + Math.sqrt(5)) / 2,
            n = 1 / i,
            r = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, 0, -i, 0, -n, i, 0, -n, -i, 0, n, i, 0, n];
        io.call(this, r, [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], t, e), this.type = "DodecahedronBufferGeometry", this.parameters = {
            radius: t,
            detail: e
        }
    }

    function ho(t, e, i, n, r, o) {
        Mi.call(this), this.type = "TubeGeometry", this.parameters = {
            path: t,
            tubularSegments: e,
            radius: i,
            radialSegments: n,
            closed: r
        };
        var s = new po(t, e, i, n, r);
        this.tangents = s.tangents, this.normals = s.normals, this.binormals = s.binormals, this.fromBufferGeometry(s), this.mergeVertices()
    }

    function po(t, e, i, n, r) {
        Fi.call(this), this.type = "TubeBufferGeometry", this.parameters = {
            path: t,
            tubularSegments: e,
            radius: i,
            radialSegments: n,
            closed: r
        }, e = e || 64, i = i || 1, n = n || 8, r = r || !1;
        var o = t.computeFrenetFrames(e, r);
        this.tangents = o.tangents, this.normals = o.normals, this.binormals = o.binormals;
        var s, a, c = new Re,
            l = new Re,
            u = new ke,
            h = new Re,
            p = [],
            d = [],
            f = [],
            m = [];

        function v(r) {
            h = t.getPointAt(r / e, h);
            var s = o.normals[r],
                u = o.binormals[r];
            for (a = 0; a <= n; a++) {
                var f = a / n * Math.PI * 2,
                    m = Math.sin(f),
                    v = -Math.cos(f);
                l.x = v * s.x + m * u.x, l.y = v * s.y + m * u.y, l.z = v * s.z + m * u.z, l.normalize(), d.push(l.x, l.y, l.z), c.x = h.x + i * l.x, c.y = h.y + i * l.y, c.z = h.z + i * l.z, p.push(c.x, c.y, c.z)
            }
        }! function() {
            for (s = 0; s < e; s++) v(s);
            v(!1 === r ? e : 0),
                function() {
                    for (s = 0; s <= e; s++)
                        for (a = 0; a <= n; a++) u.x = s / e, u.y = a / n, f.push(u.x, u.y)
                }(),
                function() {
                    for (a = 1; a <= e; a++)
                        for (s = 1; s <= n; s++) {
                            var t = (n + 1) * (a - 1) + (s - 1),
                                i = (n + 1) * a + (s - 1),
                                r = (n + 1) * a + s,
                                o = (n + 1) * (a - 1) + s;
                            m.push(t, i, o), m.push(i, r, o)
                        }
                }()
        }(), this.setIndex(m), this.addAttribute("position", new Ii(p, 3)), this.addAttribute("normal", new Ii(d, 3)), this.addAttribute("uv", new Ii(f, 2))
    }

    function fo(t, e, i, n, r, o, s) {
        Mi.call(this), this.type = "TorusKnotGeometry", this.parameters = {
            radius: t,
            tube: e,
            tubularSegments: i,
            radialSegments: n,
            p: r,
            q: o
        }, this.fromBufferGeometry(new mo(t, e, i, n, r, o)), this.mergeVertices()
    }

    function mo(t, e, i, n, r, o) {
        Fi.call(this), this.type = "TorusKnotBufferGeometry", this.parameters = {
            radius: t,
            tube: e,
            tubularSegments: i,
            radialSegments: n,
            p: r,
            q: o
        }, t = t || 1, e = e || .4, i = Math.floor(i) || 64, n = Math.floor(n) || 8, r = r || 2, o = o || 3;
        var s, a, c = [],
            l = [],
            u = [],
            h = [],
            p = new Re,
            d = new Re,
            f = new Re,
            m = new Re,
            v = new Re,
            g = new Re,
            y = new Re;
        for (s = 0; s <= i; ++s) {
            var _ = s / i * r * Math.PI * 2;
            for (C(_, r, o, t, f), C(_ + .01, r, o, t, m), g.subVectors(m, f), y.addVectors(m, f), v.crossVectors(g, y), y.crossVectors(v, g), v.normalize(), y.normalize(), a = 0; a <= n; ++a) {
                var b = a / n * Math.PI * 2,
                    x = -e * Math.cos(b),
                    w = e * Math.sin(b);
                p.x = f.x + (x * y.x + w * v.x), p.y = f.y + (x * y.y + w * v.y), p.z = f.z + (x * y.z + w * v.z), l.push(p.x, p.y, p.z), d.subVectors(p, f).normalize(), u.push(d.x, d.y, d.z), h.push(s / i), h.push(a / n)
            }
        }
        for (a = 1; a <= i; a++)
            for (s = 1; s <= n; s++) {
                var S = (n + 1) * (a - 1) + (s - 1),
                    M = (n + 1) * a + (s - 1),
                    T = (n + 1) * a + s,
                    A = (n + 1) * (a - 1) + s;
                c.push(S, M, A), c.push(M, T, A)
            }

        function C(t, e, i, n, r) {
            var o = Math.cos(t),
                s = Math.sin(t),
                a = i / e * t,
                c = Math.cos(a);
            r.x = n * (2 + c) * .5 * o, r.y = n * (2 + c) * s * .5, r.z = n * Math.sin(a) * .5
        }
        this.setIndex(c), this.addAttribute("position", new Ii(l, 3)), this.addAttribute("normal", new Ii(u, 3)), this.addAttribute("uv", new Ii(h, 2))
    }

    function vo(t, e, i, n, r) {
        Mi.call(this), this.type = "TorusGeometry", this.parameters = {
            radius: t,
            tube: e,
            radialSegments: i,
            tubularSegments: n,
            arc: r
        }, this.fromBufferGeometry(new go(t, e, i, n, r)), this.mergeVertices()
    }

    function go(t, e, i, n, r) {
        Fi.call(this), this.type = "TorusBufferGeometry", this.parameters = {
            radius: t,
            tube: e,
            radialSegments: i,
            tubularSegments: n,
            arc: r
        }, t = t || 1, e = e || .4, i = Math.floor(i) || 8, n = Math.floor(n) || 6, r = r || 2 * Math.PI;
        var o, s, a = [],
            c = [],
            l = [],
            u = [],
            h = new Re,
            p = new Re,
            d = new Re;
        for (o = 0; o <= i; o++)
            for (s = 0; s <= n; s++) {
                var f = s / n * r,
                    m = o / i * Math.PI * 2;
                p.x = (t + e * Math.cos(m)) * Math.cos(f), p.y = (t + e * Math.cos(m)) * Math.sin(f), p.z = e * Math.sin(m), c.push(p.x, p.y, p.z), h.x = t * Math.cos(f), h.y = t * Math.sin(f), d.subVectors(p, h).normalize(), l.push(d.x, d.y, d.z), u.push(s / n), u.push(o / i)
            }
        for (o = 1; o <= i; o++)
            for (s = 1; s <= n; s++) {
                var v = (n + 1) * o + s - 1,
                    g = (n + 1) * (o - 1) + s - 1,
                    y = (n + 1) * (o - 1) + s,
                    _ = (n + 1) * o + s;
                a.push(v, g, _), a.push(g, y, _)
            }
        this.setIndex(a), this.addAttribute("position", new Ii(c, 3)), this.addAttribute("normal", new Ii(l, 3)), this.addAttribute("uv", new Ii(u, 2))
    }
    wr.prototype = Object.create(nn.prototype), wr.prototype.constructor = wr, wr.prototype.isMeshDepthMaterial = !0, wr.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.depthPacking = t.depthPacking, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this
    }, Sr.prototype = Object.create(nn.prototype), Sr.prototype.constructor = Sr, Sr.prototype.isMeshDistanceMaterial = !0, Sr.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.referencePosition.copy(t.referencePosition), this.nearDistance = t.nearDistance, this.farDistance = t.farDistance, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this
    }, Ar.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: Ar,
        isGroup: !0
    }), Cr.prototype = Object.assign(Object.create(yi.prototype), {
        constructor: Cr,
        isPerspectiveCamera: !0,
        copy: function(t, e) {
            return yi.prototype.copy.call(this, t, e), this.fov = t.fov, this.zoom = t.zoom, this.near = t.near, this.far = t.far, this.focus = t.focus, this.aspect = t.aspect, this.view = null === t.view ? null : Object.assign({}, t.view), this.filmGauge = t.filmGauge, this.filmOffset = t.filmOffset, this
        },
        setFocalLength: function(t) {
            var e = .5 * this.getFilmHeight() / t;
            this.fov = 2 * Pe.RAD2DEG * Math.atan(e), this.updateProjectionMatrix()
        },
        getFocalLength: function() {
            var t = Math.tan(.5 * Pe.DEG2RAD * this.fov);
            return .5 * this.getFilmHeight() / t
        },
        getEffectiveFOV: function() {
            return 2 * Pe.RAD2DEG * Math.atan(Math.tan(.5 * Pe.DEG2RAD * this.fov) / this.zoom)
        },
        getFilmWidth: function() {
            return this.filmGauge * Math.min(this.aspect, 1)
        },
        getFilmHeight: function() {
            return this.filmGauge / Math.max(this.aspect, 1)
        },
        setViewOffset: function(t, e, i, n, r, o) {
            this.aspect = t / e, null === this.view && (this.view = {
                enabled: !0,
                fullWidth: 1,
                fullHeight: 1,
                offsetX: 0,
                offsetY: 0,
                width: 1,
                height: 1
            }), this.view.enabled = !0, this.view.fullWidth = t, this.view.fullHeight = e, this.view.offsetX = i, this.view.offsetY = n, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
        },
        clearViewOffset: function() {
            null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
        },
        updateProjectionMatrix: function() {
            var t = this.near,
                e = t * Math.tan(.5 * Pe.DEG2RAD * this.fov) / this.zoom,
                i = 2 * e,
                n = this.aspect * i,
                r = -.5 * n,
                o = this.view;
            if (null !== this.view && this.view.enabled) {
                var s = o.fullWidth,
                    a = o.fullHeight;
                r += o.offsetX * n / s, e -= o.offsetY * i / a, n *= o.width / s, i *= o.height / a
            }
            var c = this.filmOffset;
            0 !== c && (r += t * c / this.getFilmWidth()), this.projectionMatrix.makePerspective(r, r + n, e, e - i, t, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
        },
        toJSON: function(t) {
            var e = gi.prototype.toJSON.call(this, t);
            return e.object.fov = this.fov, e.object.zoom = this.zoom, e.object.near = this.near, e.object.far = this.far, e.object.focus = this.focus, e.object.aspect = this.aspect, null !== this.view && (e.object.view = Object.assign({}, this.view)), e.object.filmGauge = this.filmGauge, e.object.filmOffset = this.filmOffset, e
        }
    }), Er.prototype = Object.assign(Object.create(Cr.prototype), {
        constructor: Er,
        isArrayCamera: !0
    }), kr.prototype.isFogExp2 = !0, kr.prototype.clone = function() {
        return new kr(this.color, this.density)
    }, kr.prototype.toJSON = function() {
        return {
            type: "FogExp2",
            color: this.color.getHex(),
            density: this.density
        }
    }, Lr.prototype.isFog = !0, Lr.prototype.clone = function() {
        return new Lr(this.color, this.near, this.far)
    }, Lr.prototype.toJSON = function() {
        return {
            type: "Fog",
            color: this.color.getHex(),
            near: this.near,
            far: this.far
        }
    }, Ir.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: Ir,
        copy: function(t, e) {
            return gi.prototype.copy.call(this, t, e), null !== t.background && (this.background = t.background.clone()), null !== t.fog && (this.fog = t.fog.clone()), null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()), this.autoUpdate = t.autoUpdate, this.matrixAutoUpdate = t.matrixAutoUpdate, this
        },
        toJSON: function(t) {
            var e = gi.prototype.toJSON.call(this, t);
            return null !== this.background && (e.object.background = this.background.toJSON(t)), null !== this.fog && (e.object.fog = this.fog.toJSON()), e
        }
    }), Object.defineProperty(Rr.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }), Object.assign(Rr.prototype, {
        isInterleavedBuffer: !0,
        onUploadCallback: function() {},
        setArray: function(t) {
            if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
            return this.count = void 0 !== t ? t.length / this.stride : 0, this.array = t, this
        },
        setDynamic: function(t) {
            return this.dynamic = t, this
        },
        copy: function(t) {
            return this.array = new t.array.constructor(t.array), this.count = t.count, this.stride = t.stride, this.dynamic = t.dynamic, this
        },
        copyAt: function(t, e, i) {
            t *= this.stride, i *= e.stride;
            for (var n = 0, r = this.stride; n < r; n++) this.array[t + n] = e.array[i + n];
            return this
        },
        set: function(t, e) {
            return void 0 === e && (e = 0), this.array.set(t, e), this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        onUpload: function(t) {
            return this.onUploadCallback = t, this
        }
    }), Object.defineProperties(Dr.prototype, {
        count: {
            get: function() {
                return this.data.count
            }
        },
        array: {
            get: function() {
                return this.data.array
            }
        }
    }), Object.assign(Dr.prototype, {
        isInterleavedBufferAttribute: !0,
        setX: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset] = e, this
        },
        setY: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset + 1] = e, this
        },
        setZ: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset + 2] = e, this
        },
        setW: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset + 3] = e, this
        },
        getX: function(t) {
            return this.data.array[t * this.data.stride + this.offset]
        },
        getY: function(t) {
            return this.data.array[t * this.data.stride + this.offset + 1]
        },
        getZ: function(t) {
            return this.data.array[t * this.data.stride + this.offset + 2]
        },
        getW: function(t) {
            return this.data.array[t * this.data.stride + this.offset + 3]
        },
        setXY: function(t, e, i) {
            return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this
        },
        setXYZ: function(t, e, i, n) {
            return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this
        },
        setXYZW: function(t, e, i, n, r) {
            return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this.data.array[t + 3] = r, this
        }
    }), Nr.prototype = Object.create(nn.prototype), Nr.prototype.constructor = Nr, Nr.prototype.isSpriteMaterial = !0, Nr.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.rotation = t.rotation, this.sizeAttenuation = t.sizeAttenuation, this
    }, zr.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: zr,
        isSprite: !0,
        raycast: function() {
            var t = new Re,
                e = new Re,
                i = new Re,
                n = new ke,
                r = new ke,
                o = new Le,
                s = new Re,
                a = new Re,
                c = new Re,
                l = new ke,
                u = new ke,
                h = new ke;

            function p(t, e, i, s, a, c) {
                n.subVectors(t, i).addScalar(.5).multiply(s), void 0 !== a ? (r.x = c * n.x - a * n.y, r.y = a * n.x + c * n.y) : r.copy(n), t.copy(e), t.x += r.x, t.y += r.y, t.applyMatrix4(o)
            }
            return function(n, r) {
                e.setFromMatrixScale(this.matrixWorld), o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld), i.setFromMatrixPosition(this.modelViewMatrix);
                var d, f, m = this.material.rotation;
                0 !== m && (f = Math.cos(m), d = Math.sin(m));
                var v = this.center;
                p(s.set(-.5, -.5, 0), i, v, e, d, f), p(a.set(.5, -.5, 0), i, v, e, d, f), p(c.set(.5, .5, 0), i, v, e, d, f), l.set(0, 0), u.set(1, 0), h.set(1, 1);
                var g = n.ray.intersectTriangle(s, a, c, !1, t);
                if (null !== g || (p(a.set(-.5, .5, 0), i, v, e, d, f), u.set(0, 1), null !== (g = n.ray.intersectTriangle(s, c, a, !1, t)))) {
                    var y = n.ray.origin.distanceTo(t);
                    y < n.near || y > n.far || r.push({
                        distance: y,
                        point: t.clone(),
                        uv: an.getUV(t, s, a, c, l, u, h, new ke),
                        face: null,
                        object: this
                    })
                }
            }
        }(),
        clone: function() {
            return new this.constructor(this.material).copy(this)
        },
        copy: function(t) {
            return gi.prototype.copy.call(this, t), void 0 !== t.center && this.center.copy(t.center), this
        }
    }), Fr.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: Fr,
        copy: function(t) {
            gi.prototype.copy.call(this, t, !1);
            for (var e = t.levels, i = 0, n = e.length; i < n; i++) {
                var r = e[i];
                this.addLevel(r.object.clone(), r.distance)
            }
            return this
        },
        addLevel: function(t, e) {
            void 0 === e && (e = 0), e = Math.abs(e);
            for (var i = this.levels, n = 0; n < i.length && !(e < i[n].distance); n++);
            i.splice(n, 0, {
                distance: e,
                object: t
            }), this.add(t)
        },
        getObjectForDistance: function(t) {
            for (var e = this.levels, i = 1, n = e.length; i < n && !(t < e[i].distance); i++);
            return e[i - 1].object
        },
        raycast: (fr = new Re, function(t, e) {
            fr.setFromMatrixPosition(this.matrixWorld);
            var i = t.ray.origin.distanceTo(fr);
            this.getObjectForDistance(i).raycast(t, e)
        }),
        update: function() {
            var t = new Re,
                e = new Re;
            return function(i) {
                var n = this.levels;
                if (n.length > 1) {
                    t.setFromMatrixPosition(i.matrixWorld), e.setFromMatrixPosition(this.matrixWorld);
                    var r = t.distanceTo(e);
                    n[0].object.visible = !0;
                    for (var o = 1, s = n.length; o < s && r >= n[o].distance; o++) n[o - 1].object.visible = !1, n[o].object.visible = !0;
                    for (; o < s; o++) n[o].object.visible = !1
                }
            }
        }(),
        toJSON: function(t) {
            var e = gi.prototype.toJSON.call(this, t);
            e.object.levels = [];
            for (var i = this.levels, n = 0, r = i.length; n < r; n++) {
                var o = i[n];
                e.object.levels.push({
                    object: o.object.uuid,
                    distance: o.distance
                })
            }
            return e
        }
    }), Object.assign(Br.prototype, {
        calculateInverses: function() {
            this.boneInverses = [];
            for (var t = 0, e = this.bones.length; t < e; t++) {
                var i = new Le;
                this.bones[t] && i.getInverse(this.bones[t].matrixWorld), this.boneInverses.push(i)
            }
        },
        pose: function() {
            var t, e, i;
            for (e = 0, i = this.bones.length; e < i; e++)(t = this.bones[e]) && t.matrixWorld.getInverse(this.boneInverses[e]);
            for (e = 0, i = this.bones.length; e < i; e++)(t = this.bones[e]) && (t.parent && t.parent.isBone ? (t.matrix.getInverse(t.parent.matrixWorld), t.matrix.multiply(t.matrixWorld)) : t.matrix.copy(t.matrixWorld), t.matrix.decompose(t.position, t.quaternion, t.scale))
        },
        update: (mr = new Le, vr = new Le, function() {
            for (var t = this.bones, e = this.boneInverses, i = this.boneMatrices, n = this.boneTexture, r = 0, o = t.length; r < o; r++) {
                var s = t[r] ? t[r].matrixWorld : vr;
                mr.multiplyMatrices(s, e[r]), mr.toArray(i, 16 * r)
            }
            void 0 !== n && (n.needsUpdate = !0)
        }),
        clone: function() {
            return new Br(this.bones, this.boneInverses)
        },
        getBoneByName: function(t) {
            for (var e = 0, i = this.bones.length; e < i; e++) {
                var n = this.bones[e];
                if (n.name === t) return n
            }
        }
    }), jr.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: jr,
        isBone: !0
    }), Ur.prototype = Object.assign(Object.create(cn.prototype), {
        constructor: Ur,
        isSkinnedMesh: !0,
        initBones: function() {
            var t, e, i, n, r = [];
            if (this.geometry && void 0 !== this.geometry.bones) {
                for (i = 0, n = this.geometry.bones.length; i < n; i++) e = this.geometry.bones[i], t = new jr, r.push(t), t.name = e.name, t.position.fromArray(e.pos), t.quaternion.fromArray(e.rotq), void 0 !== e.scl && t.scale.fromArray(e.scl);
                for (i = 0, n = this.geometry.bones.length; i < n; i++) - 1 !== (e = this.geometry.bones[i]).parent && null !== e.parent && void 0 !== r[e.parent] ? r[e.parent].add(r[i]) : this.add(r[i])
            }
            return this.updateMatrixWorld(!0), r
        },
        bind: function(t, e) {
            this.skeleton = t, void 0 === e && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), e = this.matrixWorld), this.bindMatrix.copy(e), this.bindMatrixInverse.getInverse(e)
        },
        pose: function() {
            this.skeleton.pose()
        },
        normalizeSkinWeights: function() {
            var t, e;
            if (this.geometry && this.geometry.isGeometry)
                for (e = 0; e < this.geometry.skinWeights.length; e++) {
                    var i = this.geometry.skinWeights[e];
                    (t = 1 / i.manhattanLength()) !== 1 / 0 ? i.multiplyScalar(t) : i.set(1, 0, 0, 0)
                } else if (this.geometry && this.geometry.isBufferGeometry) {
                    var n = new We,
                        r = this.geometry.attributes.skinWeight;
                    for (e = 0; e < r.count; e++) n.x = r.getX(e), n.y = r.getY(e), n.z = r.getZ(e), n.w = r.getW(e), (t = 1 / n.manhattanLength()) !== 1 / 0 ? n.multiplyScalar(t) : n.set(1, 0, 0, 0), r.setXYZW(e, n.x, n.y, n.z, n.w)
                }
        },
        updateMatrixWorld: function(t) {
            cn.prototype.updateMatrixWorld.call(this, t), "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode && this.bindMatrixInverse.getInverse(this.bindMatrix)
        },
        clone: function() {
            return new this.constructor(this.geometry, this.material).copy(this)
        }
    }), Vr.prototype = Object.create(nn.prototype), Vr.prototype.constructor = Vr, Vr.prototype.isLineBasicMaterial = !0, Vr.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.linecap = t.linecap, this.linejoin = t.linejoin, this
    }, Gr.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: Gr,
        isLine: !0,
        computeLineDistances: (gr = new Re, yr = new Re, function() {
            var t = this.geometry;
            if (t.isBufferGeometry) {
                if (null === t.index) {
                    for (var e = t.attributes.position, i = [0], n = 1, r = e.count; n < r; n++) gr.fromBufferAttribute(e, n - 1), yr.fromBufferAttribute(e, n), i[n] = i[n - 1], i[n] += gr.distanceTo(yr);
                    t.addAttribute("lineDistance", new Ii(i, 1))
                }
            } else if (t.isGeometry) {
                var o = t.vertices;
                for ((i = t.lineDistances)[0] = 0, n = 1, r = o.length; n < r; n++) i[n] = i[n - 1], i[n] += o[n - 1].distanceTo(o[n])
            }
            return this
        }),
        raycast: function() {
            var t = new Le,
                e = new sn,
                i = new Ye;
            return function(n, r) {
                var o = n.linePrecision,
                    s = this.geometry,
                    a = this.matrixWorld;
                if (null === s.boundingSphere && s.computeBoundingSphere(), i.copy(s.boundingSphere), i.applyMatrix4(a), i.radius += o, !1 !== n.ray.intersectsSphere(i)) {
                    t.getInverse(a), e.copy(n.ray).applyMatrix4(t);
                    var c = o / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                        l = c * c,
                        u = new Re,
                        h = new Re,
                        p = new Re,
                        d = new Re,
                        f = this && this.isLineSegments ? 2 : 1;
                    if (s.isBufferGeometry) {
                        var m = s.index,
                            v = s.attributes.position.array;
                        if (null !== m)
                            for (var g = m.array, y = 0, _ = g.length - 1; y < _; y += f) {
                                var b = g[y],
                                    x = g[y + 1];
                                if (u.fromArray(v, 3 * b), h.fromArray(v, 3 * x), !(e.distanceSqToSegment(u, h, d, p) > l)) d.applyMatrix4(this.matrixWorld), (M = n.ray.origin.distanceTo(d)) < n.near || M > n.far || r.push({
                                    distance: M,
                                    point: p.clone().applyMatrix4(this.matrixWorld),
                                    index: y,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                })
                            } else
                                for (y = 0, _ = v.length / 3 - 1; y < _; y += f) {
                                    if (u.fromArray(v, 3 * y), h.fromArray(v, 3 * y + 3), !(e.distanceSqToSegment(u, h, d, p) > l)) d.applyMatrix4(this.matrixWorld), (M = n.ray.origin.distanceTo(d)) < n.near || M > n.far || r.push({
                                        distance: M,
                                        point: p.clone().applyMatrix4(this.matrixWorld),
                                        index: y,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                                }
                    } else if (s.isGeometry) {
                        var w = s.vertices,
                            S = w.length;
                        for (y = 0; y < S - 1; y += f) {
                            var M;
                            if (!(e.distanceSqToSegment(w[y], w[y + 1], d, p) > l)) d.applyMatrix4(this.matrixWorld), (M = n.ray.origin.distanceTo(d)) < n.near || M > n.far || r.push({
                                distance: M,
                                point: p.clone().applyMatrix4(this.matrixWorld),
                                index: y,
                                face: null,
                                faceIndex: null,
                                object: this
                            })
                        }
                    }
                }
            }
        }(),
        clone: function() {
            return new this.constructor(this.geometry, this.material).copy(this)
        }
    }), Wr.prototype = Object.assign(Object.create(Gr.prototype), {
        constructor: Wr,
        isLineSegments: !0,
        computeLineDistances: function() {
            var t = new Re,
                e = new Re;
            return function() {
                var i = this.geometry;
                if (i.isBufferGeometry) {
                    if (null === i.index) {
                        for (var n = i.attributes.position, r = [], o = 0, s = n.count; o < s; o += 2) t.fromBufferAttribute(n, o), e.fromBufferAttribute(n, o + 1), r[o] = 0 === o ? 0 : r[o - 1], r[o + 1] = r[o] + t.distanceTo(e);
                        i.addAttribute("lineDistance", new Ii(r, 1))
                    }
                } else if (i.isGeometry) {
                    var a = i.vertices;
                    for (r = i.lineDistances, o = 0, s = a.length; o < s; o += 2) t.copy(a[o]), e.copy(a[o + 1]), r[o] = 0 === o ? 0 : r[o - 1], r[o + 1] = r[o] + t.distanceTo(e)
                }
                return this
            }
        }()
    }), Hr.prototype = Object.assign(Object.create(Gr.prototype), {
        constructor: Hr,
        isLineLoop: !0
    }), $r.prototype = Object.create(nn.prototype), $r.prototype.constructor = $r, $r.prototype.isPointsMaterial = !0, $r.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.size = t.size, this.sizeAttenuation = t.sizeAttenuation, this.morphTargets = t.morphTargets, this
    }, Xr.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: Xr,
        isPoints: !0,
        raycast: function() {
            var t = new Le,
                e = new sn,
                i = new Ye;
            return function(n, r) {
                var o = this,
                    s = this.geometry,
                    a = this.matrixWorld,
                    c = n.params.Points.threshold;
                if (null === s.boundingSphere && s.computeBoundingSphere(), i.copy(s.boundingSphere), i.applyMatrix4(a), i.radius += c, !1 !== n.ray.intersectsSphere(i)) {
                    t.getInverse(a), e.copy(n.ray).applyMatrix4(t);
                    var l = c / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                        u = l * l,
                        h = new Re,
                        p = new Re;
                    if (s.isBufferGeometry) {
                        var d = s.index,
                            f = s.attributes.position.array;
                        if (null !== d)
                            for (var m = d.array, v = 0, g = m.length; v < g; v++) {
                                var y = m[v];
                                h.fromArray(f, 3 * y), x(h, y)
                            } else {
                                v = 0;
                                for (var _ = f.length / 3; v < _; v++) h.fromArray(f, 3 * v), x(h, v)
                            }
                    } else {
                        var b = s.vertices;
                        for (v = 0, _ = b.length; v < _; v++) x(b[v], v)
                    }
                }

                function x(t, i) {
                    var s = e.distanceSqToPoint(t);
                    if (s < u) {
                        e.closestPointToPoint(t, p), p.applyMatrix4(a);
                        var c = n.ray.origin.distanceTo(p);
                        if (c < n.near || c > n.far) return;
                        r.push({
                            distance: c,
                            distanceToRay: Math.sqrt(s),
                            point: p.clone(),
                            index: i,
                            face: null,
                            object: o
                        })
                    }
                }
            }
        }(),
        clone: function() {
            return new this.constructor(this.geometry, this.material).copy(this)
        }
    }), qr.prototype = Object.assign(Object.create(Ge.prototype), {
        constructor: qr,
        isVideoTexture: !0,
        update: function() {
            var t = this.image;
            t.readyState >= t.HAVE_CURRENT_DATA && (this.needsUpdate = !0)
        }
    }), Yr.prototype = Object.create(Ge.prototype), Yr.prototype.constructor = Yr, Yr.prototype.isCompressedTexture = !0, Zr.prototype = Object.create(Ge.prototype), Zr.prototype.constructor = Zr, Zr.prototype.isCanvasTexture = !0, Jr.prototype = Object.create(Ge.prototype), Jr.prototype.constructor = Jr, Jr.prototype.isDepthTexture = !0, Qr.prototype = Object.create(Fi.prototype), Qr.prototype.constructor = Qr, Kr.prototype = Object.create(Mi.prototype), Kr.prototype.constructor = Kr, to.prototype = Object.create(Fi.prototype), to.prototype.constructor = to, eo.prototype = Object.create(Mi.prototype), eo.prototype.constructor = eo, io.prototype = Object.create(Fi.prototype), io.prototype.constructor = io, no.prototype = Object.create(Mi.prototype), no.prototype.constructor = no, ro.prototype = Object.create(io.prototype), ro.prototype.constructor = ro, oo.prototype = Object.create(Mi.prototype), oo.prototype.constructor = oo, so.prototype = Object.create(io.prototype), so.prototype.constructor = so, ao.prototype = Object.create(Mi.prototype), ao.prototype.constructor = ao, co.prototype = Object.create(io.prototype), co.prototype.constructor = co, lo.prototype = Object.create(Mi.prototype), lo.prototype.constructor = lo, uo.prototype = Object.create(io.prototype), uo.prototype.constructor = uo, ho.prototype = Object.create(Mi.prototype), ho.prototype.constructor = ho, po.prototype = Object.create(Fi.prototype), po.prototype.constructor = po, fo.prototype = Object.create(Mi.prototype), fo.prototype.constructor = fo, mo.prototype = Object.create(Fi.prototype), mo.prototype.constructor = mo, vo.prototype = Object.create(Mi.prototype), vo.prototype.constructor = vo, go.prototype = Object.create(Fi.prototype), go.prototype.constructor = go;
    var yo = function(t, e, i) {
        i = i || 2;
        var n, r, o, s, a, c, l, u = e && e.length,
            h = u ? e[0] * i : t.length,
            p = _o(t, 0, h, i, !0),
            d = [];
        if (!p) return d;
        if (u && (p = function(t, e, i, n) {
                var r, o, s, a, c, l = [];
                for (r = 0, o = e.length; r < o; r++) s = e[r] * n, a = r < o - 1 ? e[r + 1] * n : t.length, (c = _o(t, s, a, n, !1)) === c.next && (c.steiner = !0), l.push(Oo(c));
                for (l.sort(Ao), r = 0; r < l.length; r++) Co(l[r], i), i = bo(i, i.next);
                return i
            }(t, e, p, i)), t.length > 80 * i) {
            n = o = t[0], r = s = t[1];
            for (var f = i; f < h; f += i) a = t[f], c = t[f + 1], a < n && (n = a), c < r && (r = c), a > o && (o = a), c > s && (s = c);
            l = 0 !== (l = Math.max(o - n, s - r)) ? 1 / l : 0
        }
        return xo(p, d, i, n, r, l), d
    };

    function _o(t, e, i, n, r) {
        var o, s;
        if (r === function(t, e, i, n) {
                for (var r = 0, o = e, s = i - n; o < i; o += n) r += (t[s] - t[o]) * (t[o + 1] + t[s + 1]), s = o;
                return r
            }(t, e, i, n) > 0)
            for (o = e; o < i; o += n) s = zo(o, t[o], t[o + 1], s);
        else
            for (o = i - n; o >= e; o -= n) s = zo(o, t[o], t[o + 1], s);
        return s && Io(s, s.next) && (Fo(s), s = s.next), s
    }

    function bo(t, e) {
        if (!t) return t;
        e || (e = t);
        var i, n = t;
        do {
            if (i = !1, n.steiner || !Io(n, n.next) && 0 !== Lo(n.prev, n, n.next)) n = n.next;
            else {
                if (Fo(n), (n = e = n.prev) === n.next) break;
                i = !0
            }
        } while (i || n !== e);
        return e
    }

    function xo(t, e, i, n, r, o, s) {
        if (t) {
            !s && o && function(t, e, i, n) {
                var r = t;
                do {
                    null === r.z && (r.z = Eo(r.x, r.y, e, i, n)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next
                } while (r !== t);
                r.prevZ.nextZ = null, r.prevZ = null,
                    function(t) {
                        var e, i, n, r, o, s, a, c, l = 1;
                        do {
                            for (i = t, t = null, o = null, s = 0; i;) {
                                for (s++, n = i, a = 0, e = 0; e < l && (a++, n = n.nextZ); e++);
                                for (c = l; a > 0 || c > 0 && n;) 0 !== a && (0 === c || !n || i.z <= n.z) ? (r = i, i = i.nextZ, a--) : (r = n, n = n.nextZ, c--), o ? o.nextZ = r : t = r, r.prevZ = o, o = r;
                                i = n
                            }
                            o.nextZ = null, l *= 2
                        } while (s > 1)
                    }(r)
            }(t, n, r, o);
            for (var a, c, l = t; t.prev !== t.next;)
                if (a = t.prev, c = t.next, o ? So(t, n, r, o) : wo(t)) e.push(a.i / i), e.push(t.i / i), e.push(c.i / i), Fo(t), t = c.next, l = c.next;
                else if ((t = c) === l) {
                s ? 1 === s ? xo(t = Mo(t, e, i), e, i, n, r, o, 2) : 2 === s && To(t, e, i, n, r, o) : xo(bo(t), e, i, n, r, o, 1);
                break
            }
        }
    }

    function wo(t) {
        var e = t.prev,
            i = t,
            n = t.next;
        if (Lo(e, i, n) >= 0) return !1;
        for (var r = t.next.next; r !== t.prev;) {
            if (Po(e.x, e.y, i.x, i.y, n.x, n.y, r.x, r.y) && Lo(r.prev, r, r.next) >= 0) return !1;
            r = r.next
        }
        return !0
    }

    function So(t, e, i, n) {
        var r = t.prev,
            o = t,
            s = t.next;
        if (Lo(r, o, s) >= 0) return !1;
        for (var a = r.x < o.x ? r.x < s.x ? r.x : s.x : o.x < s.x ? o.x : s.x, c = r.y < o.y ? r.y < s.y ? r.y : s.y : o.y < s.y ? o.y : s.y, l = r.x > o.x ? r.x > s.x ? r.x : s.x : o.x > s.x ? o.x : s.x, u = r.y > o.y ? r.y > s.y ? r.y : s.y : o.y > s.y ? o.y : s.y, h = Eo(a, c, e, i, n), p = Eo(l, u, e, i, n), d = t.nextZ; d && d.z <= p;) {
            if (d !== t.prev && d !== t.next && Po(r.x, r.y, o.x, o.y, s.x, s.y, d.x, d.y) && Lo(d.prev, d, d.next) >= 0) return !1;
            d = d.nextZ
        }
        for (d = t.prevZ; d && d.z >= h;) {
            if (d !== t.prev && d !== t.next && Po(r.x, r.y, o.x, o.y, s.x, s.y, d.x, d.y) && Lo(d.prev, d, d.next) >= 0) return !1;
            d = d.prevZ
        }
        return !0
    }

    function Mo(t, e, i) {
        var n = t;
        do {
            var r = n.prev,
                o = n.next.next;
            !Io(r, o) && Ro(r, n, n.next, o) && Do(r, o) && Do(o, r) && (e.push(r.i / i), e.push(n.i / i), e.push(o.i / i), Fo(n), Fo(n.next), n = t = o), n = n.next
        } while (n !== t);
        return n
    }

    function To(t, e, i, n, r, o) {
        var s = t;
        do {
            for (var a = s.next.next; a !== s.prev;) {
                if (s.i !== a.i && ko(s, a)) {
                    var c = No(s, a);
                    return s = bo(s, s.next), c = bo(c, c.next), xo(s, e, i, n, r, o), void xo(c, e, i, n, r, o)
                }
                a = a.next
            }
            s = s.next
        } while (s !== t)
    }

    function Ao(t, e) {
        return t.x - e.x
    }

    function Co(t, e) {
        if (e = function(t, e) {
                var i, n = e,
                    r = t.x,
                    o = t.y,
                    s = -1 / 0;
                do {
                    if (o <= n.y && o >= n.next.y && n.next.y !== n.y) {
                        var a = n.x + (o - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
                        if (a <= r && a > s) {
                            if (s = a, a === r) {
                                if (o === n.y) return n;
                                if (o === n.next.y) return n.next
                            }
                            i = n.x < n.next.x ? n : n.next
                        }
                    }
                    n = n.next
                } while (n !== e);
                if (!i) return null;
                if (r === s) return i.prev;
                var c, l = i,
                    u = i.x,
                    h = i.y,
                    p = 1 / 0;
                n = i.next;
                for (; n !== l;) r >= n.x && n.x >= u && r !== n.x && Po(o < h ? r : s, o, u, h, o < h ? s : r, o, n.x, n.y) && ((c = Math.abs(o - n.y) / (r - n.x)) < p || c === p && n.x > i.x) && Do(n, t) && (i = n, p = c), n = n.next;
                return i
            }(t, e)) {
            var i = No(e, t);
            bo(i, i.next)
        }
    }

    function Eo(t, e, i, n, r) {
        return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - i) * r) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) * r) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
    }

    function Oo(t) {
        var e = t,
            i = t;
        do {
            e.x < i.x && (i = e), e = e.next
        } while (e !== t);
        return i
    }

    function Po(t, e, i, n, r, o, s, a) {
        return (r - s) * (e - a) - (t - s) * (o - a) >= 0 && (t - s) * (n - a) - (i - s) * (e - a) >= 0 && (i - s) * (o - a) - (r - s) * (n - a) >= 0
    }

    function ko(t, e) {
        return t.next.i !== e.i && t.prev.i !== e.i && ! function(t, e) {
            var i = t;
            do {
                if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && Ro(i, i.next, t, e)) return !0;
                i = i.next
            } while (i !== t);
            return !1
        }(t, e) && Do(t, e) && Do(e, t) && function(t, e) {
            var i = t,
                n = !1,
                r = (t.x + e.x) / 2,
                o = (t.y + e.y) / 2;
            do {
                i.y > o != i.next.y > o && i.next.y !== i.y && r < (i.next.x - i.x) * (o - i.y) / (i.next.y - i.y) + i.x && (n = !n), i = i.next
            } while (i !== t);
            return n
        }(t, e)
    }

    function Lo(t, e, i) {
        return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y)
    }

    function Io(t, e) {
        return t.x === e.x && t.y === e.y
    }

    function Ro(t, e, i, n) {
        return !!(Io(t, e) && Io(i, n) || Io(t, n) && Io(i, e)) || Lo(t, e, i) > 0 != Lo(t, e, n) > 0 && Lo(i, n, t) > 0 != Lo(i, n, e) > 0
    }

    function Do(t, e) {
        return Lo(t.prev, t, t.next) < 0 ? Lo(t, e, t.next) >= 0 && Lo(t, t.prev, e) >= 0 : Lo(t, e, t.prev) < 0 || Lo(t, t.next, e) < 0
    }

    function No(t, e) {
        var i = new Bo(t.i, t.x, t.y),
            n = new Bo(e.i, e.x, e.y),
            r = t.next,
            o = e.prev;
        return t.next = e, e.prev = t, i.next = r, r.prev = i, n.next = i, i.prev = n, o.next = n, n.prev = o, n
    }

    function zo(t, e, i, n) {
        var r = new Bo(t, e, i);
        return n ? (r.next = n.next, r.prev = n, n.next.prev = r, n.next = r) : (r.prev = r, r.next = r), r
    }

    function Fo(t) {
        t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ)
    }

    function Bo(t, e, i) {
        this.i = t, this.x = e, this.y = i, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
    }
    var jo = {
        area: function(t) {
            for (var e = t.length, i = 0, n = e - 1, r = 0; r < e; n = r++) i += t[n].x * t[r].y - t[r].x * t[n].y;
            return .5 * i
        },
        isClockWise: function(t) {
            return jo.area(t) < 0
        },
        triangulateShape: function(t, e) {
            var i = [],
                n = [],
                r = [];
            Uo(t), Vo(i, t);
            var o = t.length;
            e.forEach(Uo);
            for (var s = 0; s < e.length; s++) n.push(o), o += e[s].length, Vo(i, e[s]);
            var a = yo(i, n);
            for (s = 0; s < a.length; s += 3) r.push(a.slice(s, s + 3));
            return r
        }
    };

    function Uo(t) {
        var e = t.length;
        e > 2 && t[e - 1].equals(t[0]) && t.pop()
    }

    function Vo(t, e) {
        for (var i = 0; i < e.length; i++) t.push(e[i].x), t.push(e[i].y)
    }

    function Go(t, e) {
        Mi.call(this), this.type = "ExtrudeGeometry", this.parameters = {
            shapes: t,
            options: e
        }, this.fromBufferGeometry(new Wo(t, e)), this.mergeVertices()
    }

    function Wo(t, e) {
        Fi.call(this), this.type = "ExtrudeBufferGeometry", this.parameters = {
            shapes: t,
            options: e
        };
        for (var i = this, n = [], r = [], o = 0, s = (t = Array.isArray(t) ? t : [t]).length; o < s; o++) {
            a(t[o])
        }

        function a(t) {
            var o = [],
                s = void 0 !== e.curveSegments ? e.curveSegments : 12,
                a = void 0 !== e.steps ? e.steps : 1,
                c = void 0 !== e.depth ? e.depth : 100,
                l = void 0 === e.bevelEnabled || e.bevelEnabled,
                u = void 0 !== e.bevelThickness ? e.bevelThickness : 6,
                h = void 0 !== e.bevelSize ? e.bevelSize : u - 2,
                p = void 0 !== e.bevelSegments ? e.bevelSegments : 3,
                d = e.extrudePath,
                f = void 0 !== e.UVGenerator ? e.UVGenerator : Ho;
            void 0 !== e.amount && (c = e.amount);
            var m, v, g, y, _, b, x, w, S = !1;
            d && (m = d.getSpacedPoints(a), S = !0, l = !1, v = d.computeFrenetFrames(a, !1), g = new Re, y = new Re, _ = new Re), l || (p = 0, u = 0, h = 0);
            var M = t.extractPoints(s),
                T = M.shape,
                A = M.holes;
            if (!jo.isClockWise(T))
                for (T = T.reverse(), x = 0, w = A.length; x < w; x++) b = A[x], jo.isClockWise(b) && (A[x] = b.reverse());
            var C = jo.triangulateShape(T, A),
                E = T;
            for (x = 0, w = A.length; x < w; x++) b = A[x], T = T.concat(b);

            function O(t, e, i) {
                return e.clone().multiplyScalar(i).add(t)
            }
            var P, k, L, I, R, D, N = T.length,
                z = C.length;

            function F(t, e, i) {
                var n, r, o, s = t.x - e.x,
                    a = t.y - e.y,
                    c = i.x - t.x,
                    l = i.y - t.y,
                    u = s * s + a * a,
                    h = s * l - a * c;
                if (Math.abs(h) > Number.EPSILON) {
                    var p = Math.sqrt(u),
                        d = Math.sqrt(c * c + l * l),
                        f = e.x - a / p,
                        m = e.y + s / p,
                        v = ((i.x - l / d - f) * l - (i.y + c / d - m) * c) / (s * l - a * c),
                        g = (n = f + s * v - t.x) * n + (r = m + a * v - t.y) * r;
                    if (g <= 2) return new ke(n, r);
                    o = Math.sqrt(g / 2)
                } else {
                    var y = !1;
                    s > Number.EPSILON ? c > Number.EPSILON && (y = !0) : s < -Number.EPSILON ? c < -Number.EPSILON && (y = !0) : Math.sign(a) === Math.sign(l) && (y = !0), y ? (n = -a, r = s, o = Math.sqrt(u)) : (n = s, r = a, o = Math.sqrt(u / 2))
                }
                return new ke(n / o, r / o)
            }
            for (var B = [], j = 0, U = E.length, V = U - 1, G = j + 1; j < U; j++, V++, G++) V === U && (V = 0), G === U && (G = 0), B[j] = F(E[j], E[V], E[G]);
            var W, H, $ = [],
                X = B.concat();
            for (x = 0, w = A.length; x < w; x++) {
                for (b = A[x], W = [], j = 0, V = (U = b.length) - 1, G = j + 1; j < U; j++, V++, G++) V === U && (V = 0), G === U && (G = 0), W[j] = F(b[j], b[V], b[G]);
                $.push(W), X = X.concat(W)
            }
            for (P = 0; P < p; P++) {
                for (L = P / p, I = u * Math.cos(L * Math.PI / 2), k = h * Math.sin(L * Math.PI / 2), j = 0, U = E.length; j < U; j++) Y((R = O(E[j], B[j], k)).x, R.y, -I);
                for (x = 0, w = A.length; x < w; x++)
                    for (b = A[x], W = $[x], j = 0, U = b.length; j < U; j++) Y((R = O(b[j], W[j], k)).x, R.y, -I)
            }
            for (k = h, j = 0; j < N; j++) R = l ? O(T[j], X[j], k) : T[j], S ? (y.copy(v.normals[0]).multiplyScalar(R.x), g.copy(v.binormals[0]).multiplyScalar(R.y), _.copy(m[0]).add(y).add(g), Y(_.x, _.y, _.z)) : Y(R.x, R.y, 0);
            for (H = 1; H <= a; H++)
                for (j = 0; j < N; j++) R = l ? O(T[j], X[j], k) : T[j], S ? (y.copy(v.normals[H]).multiplyScalar(R.x), g.copy(v.binormals[H]).multiplyScalar(R.y), _.copy(m[H]).add(y).add(g), Y(_.x, _.y, _.z)) : Y(R.x, R.y, c / a * H);
            for (P = p - 1; P >= 0; P--) {
                for (L = P / p, I = u * Math.cos(L * Math.PI / 2), k = h * Math.sin(L * Math.PI / 2), j = 0, U = E.length; j < U; j++) Y((R = O(E[j], B[j], k)).x, R.y, c + I);
                for (x = 0, w = A.length; x < w; x++)
                    for (b = A[x], W = $[x], j = 0, U = b.length; j < U; j++) R = O(b[j], W[j], k), S ? Y(R.x, R.y + m[a - 1].y, m[a - 1].x + I) : Y(R.x, R.y, c + I)
            }

            function q(t, e) {
                var i, n;
                for (j = t.length; --j >= 0;) {
                    i = j, (n = j - 1) < 0 && (n = t.length - 1);
                    var r = 0,
                        o = a + 2 * p;
                    for (r = 0; r < o; r++) {
                        var s = N * r,
                            c = N * (r + 1);
                        J(e + i + s, e + n + s, e + n + c, e + i + c)
                    }
                }
            }

            function Y(t, e, i) {
                o.push(t), o.push(e), o.push(i)
            }

            function Z(t, e, r) {
                Q(t), Q(e), Q(r);
                var o = n.length / 3,
                    s = f.generateTopUV(i, n, o - 3, o - 2, o - 1);
                K(s[0]), K(s[1]), K(s[2])
            }

            function J(t, e, r, o) {
                Q(t), Q(e), Q(o), Q(e), Q(r), Q(o);
                var s = n.length / 3,
                    a = f.generateSideWallUV(i, n, s - 6, s - 3, s - 2, s - 1);
                K(a[0]), K(a[1]), K(a[3]), K(a[1]), K(a[2]), K(a[3])
            }

            function Q(t) {
                n.push(o[3 * t + 0]), n.push(o[3 * t + 1]), n.push(o[3 * t + 2])
            }

            function K(t) {
                r.push(t.x), r.push(t.y)
            }! function() {
                var t = n.length / 3;
                if (l) {
                    var e = 0,
                        r = N * e;
                    for (j = 0; j < z; j++) Z((D = C[j])[2] + r, D[1] + r, D[0] + r);
                    for (r = N * (e = a + 2 * p), j = 0; j < z; j++) Z((D = C[j])[0] + r, D[1] + r, D[2] + r)
                } else {
                    for (j = 0; j < z; j++) Z((D = C[j])[2], D[1], D[0]);
                    for (j = 0; j < z; j++) Z((D = C[j])[0] + N * a, D[1] + N * a, D[2] + N * a)
                }
                i.addGroup(t, n.length / 3 - t, 0)
            }(),
            function() {
                var t = n.length / 3,
                    e = 0;
                for (q(E, e), e += E.length, x = 0, w = A.length; x < w; x++) q(b = A[x], e), e += b.length;
                i.addGroup(t, n.length / 3 - t, 1)
            }()
        }
        this.addAttribute("position", new Ii(n, 3)), this.addAttribute("uv", new Ii(r, 2)), this.computeVertexNormals()
    }
    Go.prototype = Object.create(Mi.prototype), Go.prototype.constructor = Go, Go.prototype.toJSON = function() {
        var t = Mi.prototype.toJSON.call(this);
        return $o(this.parameters.shapes, this.parameters.options, t)
    }, Wo.prototype = Object.create(Fi.prototype), Wo.prototype.constructor = Wo, Wo.prototype.toJSON = function() {
        var t = Fi.prototype.toJSON.call(this);
        return $o(this.parameters.shapes, this.parameters.options, t)
    };
    var Ho = {
        generateTopUV: function(t, e, i, n, r) {
            var o = e[3 * i],
                s = e[3 * i + 1],
                a = e[3 * n],
                c = e[3 * n + 1],
                l = e[3 * r],
                u = e[3 * r + 1];
            return [new ke(o, s), new ke(a, c), new ke(l, u)]
        },
        generateSideWallUV: function(t, e, i, n, r, o) {
            var s = e[3 * i],
                a = e[3 * i + 1],
                c = e[3 * i + 2],
                l = e[3 * n],
                u = e[3 * n + 1],
                h = e[3 * n + 2],
                p = e[3 * r],
                d = e[3 * r + 1],
                f = e[3 * r + 2],
                m = e[3 * o],
                v = e[3 * o + 1],
                g = e[3 * o + 2];
            return Math.abs(a - u) < .01 ? [new ke(s, 1 - c), new ke(l, 1 - h), new ke(p, 1 - f), new ke(m, 1 - g)] : [new ke(a, 1 - c), new ke(u, 1 - h), new ke(d, 1 - f), new ke(v, 1 - g)]
        }
    };

    function $o(t, e, i) {
        if (i.shapes = [], Array.isArray(t))
            for (var n = 0, r = t.length; n < r; n++) {
                var o = t[n];
                i.shapes.push(o.uuid)
            } else i.shapes.push(t.uuid);
        return void 0 !== e.extrudePath && (i.options.extrudePath = e.extrudePath.toJSON()), i
    }

    function Xo(t, e) {
        Mi.call(this), this.type = "TextGeometry", this.parameters = {
            text: t,
            parameters: e
        }, this.fromBufferGeometry(new qo(t, e)), this.mergeVertices()
    }

    function qo(t, e) {
        var i = (e = e || {}).font;
        if (!i || !i.isFont) return new Mi;
        var n = i.generateShapes(t, e.size);
        e.depth = void 0 !== e.height ? e.height : 50, void 0 === e.bevelThickness && (e.bevelThickness = 10), void 0 === e.bevelSize && (e.bevelSize = 8), void 0 === e.bevelEnabled && (e.bevelEnabled = !1), Wo.call(this, n, e), this.type = "TextBufferGeometry"
    }

    function Yo(t, e, i, n, r, o, s) {
        Mi.call(this), this.type = "SphereGeometry", this.parameters = {
            radius: t,
            widthSegments: e,
            heightSegments: i,
            phiStart: n,
            phiLength: r,
            thetaStart: o,
            thetaLength: s
        }, this.fromBufferGeometry(new Zo(t, e, i, n, r, o, s)), this.mergeVertices()
    }

    function Zo(t, e, i, n, r, o, s) {
        Fi.call(this), this.type = "SphereBufferGeometry", this.parameters = {
            radius: t,
            widthSegments: e,
            heightSegments: i,
            phiStart: n,
            phiLength: r,
            thetaStart: o,
            thetaLength: s
        }, t = t || 1, e = Math.max(3, Math.floor(e) || 8), i = Math.max(2, Math.floor(i) || 6), n = void 0 !== n ? n : 0, r = void 0 !== r ? r : 2 * Math.PI;
        var a, c, l = (o = void 0 !== o ? o : 0) + (s = void 0 !== s ? s : Math.PI),
            u = 0,
            h = [],
            p = new Re,
            d = new Re,
            f = [],
            m = [],
            v = [],
            g = [];
        for (c = 0; c <= i; c++) {
            var y = [],
                _ = c / i;
            for (a = 0; a <= e; a++) {
                var b = a / e;
                p.x = -t * Math.cos(n + b * r) * Math.sin(o + _ * s), p.y = t * Math.cos(o + _ * s), p.z = t * Math.sin(n + b * r) * Math.sin(o + _ * s), m.push(p.x, p.y, p.z), d.set(p.x, p.y, p.z).normalize(), v.push(d.x, d.y, d.z), g.push(b, 1 - _), y.push(u++)
            }
            h.push(y)
        }
        for (c = 0; c < i; c++)
            for (a = 0; a < e; a++) {
                var x = h[c][a + 1],
                    w = h[c][a],
                    S = h[c + 1][a],
                    M = h[c + 1][a + 1];
                (0 !== c || o > 0) && f.push(x, w, M), (c !== i - 1 || l < Math.PI) && f.push(w, S, M)
            }
        this.setIndex(f), this.addAttribute("position", new Ii(m, 3)), this.addAttribute("normal", new Ii(v, 3)), this.addAttribute("uv", new Ii(g, 2))
    }

    function Jo(t, e, i, n, r, o) {
        Mi.call(this), this.type = "RingGeometry", this.parameters = {
            innerRadius: t,
            outerRadius: e,
            thetaSegments: i,
            phiSegments: n,
            thetaStart: r,
            thetaLength: o
        }, this.fromBufferGeometry(new Qo(t, e, i, n, r, o)), this.mergeVertices()
    }

    function Qo(t, e, i, n, r, o) {
        Fi.call(this), this.type = "RingBufferGeometry", this.parameters = {
            innerRadius: t,
            outerRadius: e,
            thetaSegments: i,
            phiSegments: n,
            thetaStart: r,
            thetaLength: o
        }, t = t || .5, e = e || 1, r = void 0 !== r ? r : 0, o = void 0 !== o ? o : 2 * Math.PI, i = void 0 !== i ? Math.max(3, i) : 8;
        var s, a, c, l = [],
            u = [],
            h = [],
            p = [],
            d = t,
            f = (e - t) / (n = void 0 !== n ? Math.max(1, n) : 1),
            m = new Re,
            v = new ke;
        for (a = 0; a <= n; a++) {
            for (c = 0; c <= i; c++) s = r + c / i * o, m.x = d * Math.cos(s), m.y = d * Math.sin(s), u.push(m.x, m.y, m.z), h.push(0, 0, 1), v.x = (m.x / e + 1) / 2, v.y = (m.y / e + 1) / 2, p.push(v.x, v.y);
            d += f
        }
        for (a = 0; a < n; a++) {
            var g = a * (i + 1);
            for (c = 0; c < i; c++) {
                var y = s = c + g,
                    _ = s + i + 1,
                    b = s + i + 2,
                    x = s + 1;
                l.push(y, _, x), l.push(_, b, x)
            }
        }
        this.setIndex(l), this.addAttribute("position", new Ii(u, 3)), this.addAttribute("normal", new Ii(h, 3)), this.addAttribute("uv", new Ii(p, 2))
    }

    function Ko(t, e, i, n) {
        Mi.call(this), this.type = "LatheGeometry", this.parameters = {
            points: t,
            segments: e,
            phiStart: i,
            phiLength: n
        }, this.fromBufferGeometry(new ts(t, e, i, n)), this.mergeVertices()
    }

    function ts(t, e, i, n) {
        Fi.call(this), this.type = "LatheBufferGeometry", this.parameters = {
            points: t,
            segments: e,
            phiStart: i,
            phiLength: n
        }, e = Math.floor(e) || 12, i = i || 0, n = n || 2 * Math.PI, n = Pe.clamp(n, 0, 2 * Math.PI);
        var r, o, s, a = [],
            c = [],
            l = [],
            u = 1 / e,
            h = new Re,
            p = new ke;
        for (o = 0; o <= e; o++) {
            var d = i + o * u * n,
                f = Math.sin(d),
                m = Math.cos(d);
            for (s = 0; s <= t.length - 1; s++) h.x = t[s].x * f, h.y = t[s].y, h.z = t[s].x * m, c.push(h.x, h.y, h.z), p.x = o / e, p.y = s / (t.length - 1), l.push(p.x, p.y)
        }
        for (o = 0; o < e; o++)
            for (s = 0; s < t.length - 1; s++) {
                var v = r = s + o * t.length,
                    g = r + t.length,
                    y = r + t.length + 1,
                    _ = r + 1;
                a.push(v, g, _), a.push(g, y, _)
            }
        if (this.setIndex(a), this.addAttribute("position", new Ii(c, 3)), this.addAttribute("uv", new Ii(l, 2)), this.computeVertexNormals(), n === 2 * Math.PI) {
            var b = this.attributes.normal.array,
                x = new Re,
                w = new Re,
                S = new Re;
            for (r = e * t.length * 3, o = 0, s = 0; o < t.length; o++, s += 3) x.x = b[s + 0], x.y = b[s + 1], x.z = b[s + 2], w.x = b[r + s + 0], w.y = b[r + s + 1], w.z = b[r + s + 2], S.addVectors(x, w).normalize(), b[s + 0] = b[r + s + 0] = S.x, b[s + 1] = b[r + s + 1] = S.y, b[s + 2] = b[r + s + 2] = S.z
        }
    }

    function es(t, e) {
        Mi.call(this), this.type = "ShapeGeometry", "object" == typeof e && (e = e.curveSegments), this.parameters = {
            shapes: t,
            curveSegments: e
        }, this.fromBufferGeometry(new is(t, e)), this.mergeVertices()
    }

    function is(t, e) {
        Fi.call(this), this.type = "ShapeBufferGeometry", this.parameters = {
            shapes: t,
            curveSegments: e
        }, e = e || 12;
        var i = [],
            n = [],
            r = [],
            o = [],
            s = 0,
            a = 0;
        if (!1 === Array.isArray(t)) l(t);
        else
            for (var c = 0; c < t.length; c++) l(t[c]), this.addGroup(s, a, c), s += a, a = 0;

        function l(t) {
            var s, c, l, u = n.length / 3,
                h = t.extractPoints(e),
                p = h.shape,
                d = h.holes;
            if (!1 === jo.isClockWise(p))
                for (p = p.reverse(), s = 0, c = d.length; s < c; s++) l = d[s], !0 === jo.isClockWise(l) && (d[s] = l.reverse());
            var f = jo.triangulateShape(p, d);
            for (s = 0, c = d.length; s < c; s++) l = d[s], p = p.concat(l);
            for (s = 0, c = p.length; s < c; s++) {
                var m = p[s];
                n.push(m.x, m.y, 0), r.push(0, 0, 1), o.push(m.x, m.y)
            }
            for (s = 0, c = f.length; s < c; s++) {
                var v = f[s],
                    g = v[0] + u,
                    y = v[1] + u,
                    _ = v[2] + u;
                i.push(g, y, _), a += 3
            }
        }
        this.setIndex(i), this.addAttribute("position", new Ii(n, 3)), this.addAttribute("normal", new Ii(r, 3)), this.addAttribute("uv", new Ii(o, 2))
    }

    function ns(t, e) {
        if (e.shapes = [], Array.isArray(t))
            for (var i = 0, n = t.length; i < n; i++) {
                var r = t[i];
                e.shapes.push(r.uuid)
            } else e.shapes.push(t.uuid);
        return e
    }

    function rs(t, e) {
        Fi.call(this), this.type = "EdgesGeometry", this.parameters = {
            thresholdAngle: e
        }, e = void 0 !== e ? e : 1;
        var i, n, r, o, s = [],
            a = Math.cos(Pe.DEG2RAD * e),
            c = [0, 0],
            l = {},
            u = ["a", "b", "c"];
        t.isBufferGeometry ? (o = new Mi).fromBufferGeometry(t) : o = t.clone(), o.mergeVertices(), o.computeFaceNormals();
        for (var h = o.vertices, p = o.faces, d = 0, f = p.length; d < f; d++)
            for (var m = p[d], v = 0; v < 3; v++) i = m[u[v]], n = m[u[(v + 1) % 3]], c[0] = Math.min(i, n), c[1] = Math.max(i, n), void 0 === l[r = c[0] + "," + c[1]] ? l[r] = {
                index1: c[0],
                index2: c[1],
                face1: d,
                face2: void 0
            } : l[r].face2 = d;
        for (r in l) {
            var g = l[r];
            if (void 0 === g.face2 || p[g.face1].normal.dot(p[g.face2].normal) <= a) {
                var y = h[g.index1];
                s.push(y.x, y.y, y.z), y = h[g.index2], s.push(y.x, y.y, y.z)
            }
        }
        this.addAttribute("position", new Ii(s, 3))
    }

    function os(t, e, i, n, r, o, s, a) {
        Mi.call(this), this.type = "CylinderGeometry", this.parameters = {
            radiusTop: t,
            radiusBottom: e,
            height: i,
            radialSegments: n,
            heightSegments: r,
            openEnded: o,
            thetaStart: s,
            thetaLength: a
        }, this.fromBufferGeometry(new ss(t, e, i, n, r, o, s, a)), this.mergeVertices()
    }

    function ss(t, e, i, n, r, o, s, a) {
        Fi.call(this), this.type = "CylinderBufferGeometry", this.parameters = {
            radiusTop: t,
            radiusBottom: e,
            height: i,
            radialSegments: n,
            heightSegments: r,
            openEnded: o,
            thetaStart: s,
            thetaLength: a
        };
        var c = this;
        t = void 0 !== t ? t : 1, e = void 0 !== e ? e : 1, i = i || 1, n = Math.floor(n) || 8, r = Math.floor(r) || 1, o = void 0 !== o && o, s = void 0 !== s ? s : 0, a = void 0 !== a ? a : 2 * Math.PI;
        var l = [],
            u = [],
            h = [],
            p = [],
            d = 0,
            f = [],
            m = i / 2,
            v = 0;

        function g(i) {
            var r, o, f, g = new ke,
                y = new Re,
                _ = 0,
                b = !0 === i ? t : e,
                x = !0 === i ? 1 : -1;
            for (o = d, r = 1; r <= n; r++) u.push(0, m * x, 0), h.push(0, x, 0), p.push(.5, .5), d++;
            for (f = d, r = 0; r <= n; r++) {
                var w = r / n * a + s,
                    S = Math.cos(w),
                    M = Math.sin(w);
                y.x = b * M, y.y = m * x, y.z = b * S, u.push(y.x, y.y, y.z), h.push(0, x, 0), g.x = .5 * S + .5, g.y = .5 * M * x + .5, p.push(g.x, g.y), d++
            }
            for (r = 0; r < n; r++) {
                var T = o + r,
                    A = f + r;
                !0 === i ? l.push(A, A + 1, T) : l.push(A + 1, A, T), _ += 3
            }
            c.addGroup(v, _, !0 === i ? 1 : 2), v += _
        }! function() {
            var o, g, y = new Re,
                _ = new Re,
                b = 0,
                x = (e - t) / i;
            for (g = 0; g <= r; g++) {
                var w = [],
                    S = g / r,
                    M = S * (e - t) + t;
                for (o = 0; o <= n; o++) {
                    var T = o / n,
                        A = T * a + s,
                        C = Math.sin(A),
                        E = Math.cos(A);
                    _.x = M * C, _.y = -S * i + m, _.z = M * E, u.push(_.x, _.y, _.z), y.set(C, x, E).normalize(), h.push(y.x, y.y, y.z), p.push(T, 1 - S), w.push(d++)
                }
                f.push(w)
            }
            for (o = 0; o < n; o++)
                for (g = 0; g < r; g++) {
                    var O = f[g][o],
                        P = f[g + 1][o],
                        k = f[g + 1][o + 1],
                        L = f[g][o + 1];
                    l.push(O, P, L), l.push(P, k, L), b += 6
                }
            c.addGroup(v, b, 0), v += b
        }(), !1 === o && (t > 0 && g(!0), e > 0 && g(!1)), this.setIndex(l), this.addAttribute("position", new Ii(u, 3)), this.addAttribute("normal", new Ii(h, 3)), this.addAttribute("uv", new Ii(p, 2))
    }

    function as(t, e, i, n, r, o, s) {
        os.call(this, 0, t, e, i, n, r, o, s), this.type = "ConeGeometry", this.parameters = {
            radius: t,
            height: e,
            radialSegments: i,
            heightSegments: n,
            openEnded: r,
            thetaStart: o,
            thetaLength: s
        }
    }

    function cs(t, e, i, n, r, o, s) {
        ss.call(this, 0, t, e, i, n, r, o, s), this.type = "ConeBufferGeometry", this.parameters = {
            radius: t,
            height: e,
            radialSegments: i,
            heightSegments: n,
            openEnded: r,
            thetaStart: o,
            thetaLength: s
        }
    }

    function ls(t, e, i, n) {
        Mi.call(this), this.type = "CircleGeometry", this.parameters = {
            radius: t,
            segments: e,
            thetaStart: i,
            thetaLength: n
        }, this.fromBufferGeometry(new us(t, e, i, n)), this.mergeVertices()
    }

    function us(t, e, i, n) {
        Fi.call(this), this.type = "CircleBufferGeometry", this.parameters = {
            radius: t,
            segments: e,
            thetaStart: i,
            thetaLength: n
        }, t = t || 1, e = void 0 !== e ? Math.max(3, e) : 8, i = void 0 !== i ? i : 0, n = void 0 !== n ? n : 2 * Math.PI;
        var r, o, s = [],
            a = [],
            c = [],
            l = [],
            u = new Re,
            h = new ke;
        for (a.push(0, 0, 0), c.push(0, 0, 1), l.push(.5, .5), o = 0, r = 3; o <= e; o++, r += 3) {
            var p = i + o / e * n;
            u.x = t * Math.cos(p), u.y = t * Math.sin(p), a.push(u.x, u.y, u.z), c.push(0, 0, 1), h.x = (a[r] / t + 1) / 2, h.y = (a[r + 1] / t + 1) / 2, l.push(h.x, h.y)
        }
        for (r = 1; r <= e; r++) s.push(r, r + 1, 0);
        this.setIndex(s), this.addAttribute("position", new Ii(a, 3)), this.addAttribute("normal", new Ii(c, 3)), this.addAttribute("uv", new Ii(l, 2))
    }
    Xo.prototype = Object.create(Mi.prototype), Xo.prototype.constructor = Xo, qo.prototype = Object.create(Wo.prototype), qo.prototype.constructor = qo, Yo.prototype = Object.create(Mi.prototype), Yo.prototype.constructor = Yo, Zo.prototype = Object.create(Fi.prototype), Zo.prototype.constructor = Zo, Jo.prototype = Object.create(Mi.prototype), Jo.prototype.constructor = Jo, Qo.prototype = Object.create(Fi.prototype), Qo.prototype.constructor = Qo, Ko.prototype = Object.create(Mi.prototype), Ko.prototype.constructor = Ko, ts.prototype = Object.create(Fi.prototype), ts.prototype.constructor = ts, es.prototype = Object.create(Mi.prototype), es.prototype.constructor = es, es.prototype.toJSON = function() {
        var t = Mi.prototype.toJSON.call(this);
        return ns(this.parameters.shapes, t)
    }, is.prototype = Object.create(Fi.prototype), is.prototype.constructor = is, is.prototype.toJSON = function() {
        var t = Fi.prototype.toJSON.call(this);
        return ns(this.parameters.shapes, t)
    }, rs.prototype = Object.create(Fi.prototype), rs.prototype.constructor = rs, os.prototype = Object.create(Mi.prototype), os.prototype.constructor = os, ss.prototype = Object.create(Fi.prototype), ss.prototype.constructor = ss, as.prototype = Object.create(os.prototype), as.prototype.constructor = as, cs.prototype = Object.create(ss.prototype), cs.prototype.constructor = cs, ls.prototype = Object.create(Mi.prototype), ls.prototype.constructor = ls, us.prototype = Object.create(Fi.prototype), us.prototype.constructor = us;
    var hs = Object.freeze({
        WireframeGeometry: Qr,
        ParametricGeometry: Kr,
        ParametricBufferGeometry: to,
        TetrahedronGeometry: no,
        TetrahedronBufferGeometry: ro,
        OctahedronGeometry: oo,
        OctahedronBufferGeometry: so,
        IcosahedronGeometry: ao,
        IcosahedronBufferGeometry: co,
        DodecahedronGeometry: lo,
        DodecahedronBufferGeometry: uo,
        PolyhedronGeometry: eo,
        PolyhedronBufferGeometry: io,
        TubeGeometry: ho,
        TubeBufferGeometry: po,
        TorusKnotGeometry: fo,
        TorusKnotBufferGeometry: mo,
        TorusGeometry: vo,
        TorusBufferGeometry: go,
        TextGeometry: Xo,
        TextBufferGeometry: qo,
        SphereGeometry: Yo,
        SphereBufferGeometry: Zo,
        RingGeometry: Jo,
        RingBufferGeometry: Qo,
        PlaneGeometry: Ui,
        PlaneBufferGeometry: Vi,
        LatheGeometry: Ko,
        LatheBufferGeometry: ts,
        ShapeGeometry: es,
        ShapeBufferGeometry: is,
        ExtrudeGeometry: Go,
        ExtrudeBufferGeometry: Wo,
        EdgesGeometry: rs,
        ConeGeometry: as,
        ConeBufferGeometry: cs,
        CylinderGeometry: os,
        CylinderBufferGeometry: ss,
        CircleGeometry: ls,
        CircleBufferGeometry: us,
        BoxGeometry: Bi,
        BoxBufferGeometry: ji
    });

    function ps(t) {
        nn.call(this), this.type = "ShadowMaterial", this.color = new ri(0), this.transparent = !0, this.setValues(t)
    }

    function ds(t) {
        on.call(this, t), this.type = "RawShaderMaterial"
    }

    function fs(t) {
        nn.call(this), this.defines = {
            STANDARD: ""
        }, this.type = "MeshStandardMaterial", this.color = new ri(16777215), this.roughness = .5, this.metalness = .5, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new ri(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Ee, this.normalScale = new ke(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
    }

    function ms(t) {
        fs.call(this), this.defines = {
            PHYSICAL: ""
        }, this.type = "MeshPhysicalMaterial", this.reflectivity = .5, this.clearCoat = 0, this.clearCoatRoughness = 0, this.setValues(t)
    }

    function vs(t) {
        nn.call(this), this.type = "MeshPhongMaterial", this.color = new ri(16777215), this.specular = new ri(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new ri(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Ee, this.normalScale = new ke(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = it, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
    }

    function gs(t) {
        vs.call(this), this.defines = {
            TOON: ""
        }, this.type = "MeshToonMaterial", this.gradientMap = null, this.setValues(t)
    }

    function ys(t) {
        nn.call(this), this.type = "MeshNormalMaterial", this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Ee, this.normalScale = new ke(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
    }

    function _s(t) {
        nn.call(this), this.type = "MeshLambertMaterial", this.color = new ri(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new ri(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = it, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
    }

    function bs(t) {
        Vr.call(this), this.type = "LineDashedMaterial", this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.setValues(t)
    }
    ps.prototype = Object.create(nn.prototype), ps.prototype.constructor = ps, ps.prototype.isShadowMaterial = !0, ps.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.color.copy(t.color), this
    }, ds.prototype = Object.create(on.prototype), ds.prototype.constructor = ds, ds.prototype.isRawShaderMaterial = !0, fs.prototype = Object.create(nn.prototype), fs.prototype.constructor = fs, fs.prototype.isMeshStandardMaterial = !0, fs.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.defines = {
            STANDARD: ""
        }, this.color.copy(t.color), this.roughness = t.roughness, this.metalness = t.metalness, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.roughnessMap = t.roughnessMap, this.metalnessMap = t.metalnessMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapIntensity = t.envMapIntensity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
    }, ms.prototype = Object.create(fs.prototype), ms.prototype.constructor = ms, ms.prototype.isMeshPhysicalMaterial = !0, ms.prototype.copy = function(t) {
        return fs.prototype.copy.call(this, t), this.defines = {
            PHYSICAL: ""
        }, this.reflectivity = t.reflectivity, this.clearCoat = t.clearCoat, this.clearCoatRoughness = t.clearCoatRoughness, this
    }, vs.prototype = Object.create(nn.prototype), vs.prototype.constructor = vs, vs.prototype.isMeshPhongMaterial = !0, vs.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.color.copy(t.color), this.specular.copy(t.specular), this.shininess = t.shininess, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
    }, gs.prototype = Object.create(vs.prototype), gs.prototype.constructor = gs, gs.prototype.isMeshToonMaterial = !0, gs.prototype.copy = function(t) {
        return vs.prototype.copy.call(this, t), this.gradientMap = t.gradientMap, this
    }, ys.prototype = Object.create(nn.prototype), ys.prototype.constructor = ys, ys.prototype.isMeshNormalMaterial = !0, ys.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
    }, _s.prototype = Object.create(nn.prototype), _s.prototype.constructor = _s, _s.prototype.isMeshLambertMaterial = !0, _s.prototype.copy = function(t) {
        return nn.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
    }, bs.prototype = Object.create(Vr.prototype), bs.prototype.constructor = bs, bs.prototype.isLineDashedMaterial = !0, bs.prototype.copy = function(t) {
        return Vr.prototype.copy.call(this, t), this.scale = t.scale, this.dashSize = t.dashSize, this.gapSize = t.gapSize, this
    };
    var xs = Object.freeze({
            ShadowMaterial: ps,
            SpriteMaterial: Nr,
            RawShaderMaterial: ds,
            ShaderMaterial: on,
            PointsMaterial: $r,
            MeshPhysicalMaterial: ms,
            MeshStandardMaterial: fs,
            MeshPhongMaterial: vs,
            MeshToonMaterial: gs,
            MeshNormalMaterial: ys,
            MeshLambertMaterial: _s,
            MeshDepthMaterial: wr,
            MeshDistanceMaterial: Sr,
            MeshBasicMaterial: rn,
            LineDashedMaterial: bs,
            LineBasicMaterial: Vr,
            Material: nn
        }),
        ws = {
            enabled: !1,
            files: {},
            add: function(t, e) {
                !1 !== this.enabled && (this.files[t] = e)
            },
            get: function(t) {
                if (!1 !== this.enabled) return this.files[t]
            },
            remove: function(t) {
                delete this.files[t]
            },
            clear: function() {
                this.files = {}
            }
        };

    function Ss(t, e, i) {
        var n = this,
            r = !1,
            o = 0,
            s = 0,
            a = void 0;
        this.onStart = void 0, this.onLoad = t, this.onProgress = e, this.onError = i, this.itemStart = function(t) {
            s++, !1 === r && void 0 !== n.onStart && n.onStart(t, o, s), r = !0
        }, this.itemEnd = function(t) {
            o++, void 0 !== n.onProgress && n.onProgress(t, o, s), o === s && (r = !1, void 0 !== n.onLoad && n.onLoad())
        }, this.itemError = function(t) {
            void 0 !== n.onError && n.onError(t)
        }, this.resolveURL = function(t) {
            return a ? a(t) : t
        }, this.setURLModifier = function(t) {
            return a = t, this
        }
    }
    var Ms = new Ss,
        Ts = {};

    function As(t) {
        this.manager = void 0 !== t ? t : Ms
    }

    function Cs(t) {
        this.manager = void 0 !== t ? t : Ms, this._parser = null
    }

    function Es(t) {
        this.manager = void 0 !== t ? t : Ms
    }

    function Os(t) {
        this.manager = void 0 !== t ? t : Ms
    }

    function Ps(t) {
        this.manager = void 0 !== t ? t : Ms
    }

    function ks() {
        this.type = "Curve", this.arcLengthDivisions = 200
    }

    function Ls(t, e, i, n, r, o, s, a) {
        ks.call(this), this.type = "EllipseCurve", this.aX = t || 0, this.aY = e || 0, this.xRadius = i || 1, this.yRadius = n || 1, this.aStartAngle = r || 0, this.aEndAngle = o || 2 * Math.PI, this.aClockwise = s || !1, this.aRotation = a || 0
    }

    function Is(t, e, i, n, r, o) {
        Ls.call(this, t, e, i, i, n, r, o), this.type = "ArcCurve"
    }

    function Rs() {
        var t = 0,
            e = 0,
            i = 0,
            n = 0;

        function r(r, o, s, a) {
            t = r, e = s, i = -3 * r + 3 * o - 2 * s - a, n = 2 * r - 2 * o + s + a
        }
        return {
            initCatmullRom: function(t, e, i, n, o) {
                r(e, i, o * (i - t), o * (n - e))
            },
            initNonuniformCatmullRom: function(t, e, i, n, o, s, a) {
                var c = (e - t) / o - (i - t) / (o + s) + (i - e) / s,
                    l = (i - e) / s - (n - e) / (s + a) + (n - i) / a;
                r(e, i, c *= s, l *= s)
            },
            calc: function(r) {
                var o = r * r;
                return t + e * r + i * o + n * (o * r)
            }
        }
    }
    Object.assign(As.prototype, {
        load: function(t, e, i, n) {
            void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t), t = this.manager.resolveURL(t);
            var r = this,
                o = ws.get(t);
            if (void 0 !== o) return r.manager.itemStart(t), setTimeout(function() {
                e && e(o), r.manager.itemEnd(t)
            }, 0), o;
            if (void 0 === Ts[t]) {
                var s = t.match(/^data:(.*?)(;base64)?,(.*)$/);
                if (s) {
                    var a = s[1],
                        c = !!s[2],
                        l = s[3];
                    l = window.decodeURIComponent(l), c && (l = window.atob(l));
                    try {
                        var u, h = (this.responseType || "").toLowerCase();
                        switch (h) {
                            case "arraybuffer":
                            case "blob":
                                for (var p = new Uint8Array(l.length), d = 0; d < l.length; d++) p[d] = l.charCodeAt(d);
                                u = "blob" === h ? new Blob([p.buffer], {
                                    type: a
                                }) : p.buffer;
                                break;
                            case "document":
                                var f = new DOMParser;
                                u = f.parseFromString(l, a);
                                break;
                            case "json":
                                u = JSON.parse(l);
                                break;
                            default:
                                u = l
                        }
                        window.setTimeout(function() {
                            e && e(u), r.manager.itemEnd(t)
                        }, 0)
                    } catch (e) {
                        window.setTimeout(function() {
                            n && n(e), r.manager.itemEnd(t), r.manager.itemError(t)
                        }, 0)
                    }
                } else {
                    Ts[t] = [], Ts[t].push({
                        onLoad: e,
                        onProgress: i,
                        onError: n
                    });
                    var m = new XMLHttpRequest;
                    for (var v in m.open("http://lineagem.plaync.com/support/404", t, !0), m.addEventListener("load", function(e) {
                            var i = this.response;
                            ws.add(t, i);
                            var n = Ts[t];
                            if (delete Ts[t], 200 === this.status || 0 === this.status) {
                                this.status;
                                for (var o = 0, s = n.length; o < s; o++) {
                                    (a = n[o]).onLoad && a.onLoad(i)
                                }
                                r.manager.itemEnd(t)
                            } else {
                                for (o = 0, s = n.length; o < s; o++) {
                                    var a;
                                    (a = n[o]).onError && a.onError(e)
                                }
                                r.manager.itemEnd(t), r.manager.itemError(t)
                            }
                        }, !1), m.addEventListener("progress", function(e) {
                            for (var i = Ts[t], n = 0, r = i.length; n < r; n++) {
                                var o = i[n];
                                o.onProgress && o.onProgress(e)
                            }
                        }, !1), m.addEventListener("error", function(e) {
                            var i = Ts[t];
                            delete Ts[t];
                            for (var n = 0, o = i.length; n < o; n++) {
                                var s = i[n];
                                s.onError && s.onError(e)
                            }
                            r.manager.itemEnd(t), r.manager.itemError(t)
                        }, !1), m.addEventListener("abort", function(e) {
                            var i = Ts[t];
                            delete Ts[t];
                            for (var n = 0, o = i.length; n < o; n++) {
                                var s = i[n];
                                s.onError && s.onError(e)
                            }
                            r.manager.itemEnd(t), r.manager.itemError(t)
                        }, !1), void 0 !== this.responseType && (m.responseType = this.responseType), void 0 !== this.withCredentials && (m.withCredentials = this.withCredentials), m.overrideMimeType && m.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain"), this.requestHeader) m.setRequestHeader(v, this.requestHeader[v]);
                    m.send(null)
                }
                return r.manager.itemStart(t), m
            }
            Ts[t].push({
                onLoad: e,
                onProgress: i,
                onError: n
            })
        },
        setPath: function(t) {
            return this.path = t, this
        },
        setResponseType: function(t) {
            return this.responseType = t, this
        },
        setWithCredentials: function(t) {
            return this.withCredentials = t, this
        },
        setMimeType: function(t) {
            return this.mimeType = t, this
        },
        setRequestHeader: function(t) {
            return this.requestHeader = t, this
        }
    }), Object.assign(function(t) {
        this.manager = void 0 !== t ? t : Ms, this._parser = null
    }.prototype, {
        load: function(t, e, i, n) {
            var r = this,
                o = [],
                s = new Yr;
            s.image = o;
            var a = new As(this.manager);

            function c(c) {
                a.load(t[c], function(t) {
                    var i = r._parser(t, !0);
                    o[c] = {
                        width: i.width,
                        height: i.height,
                        format: i.format,
                        mipmaps: i.mipmaps
                    }, 6 === (l += 1) && (1 === i.mipmapCount && (s.minFilter = St), s.format = i.format, s.needsUpdate = !0, e && e(s))
                }, i, n)
            }
            if (a.setPath(this.path), a.setResponseType("arraybuffer"), Array.isArray(t))
                for (var l = 0, u = 0, h = t.length; u < h; ++u) c(u);
            else a.load(t, function(t) {
                var i = r._parser(t, !0);
                if (i.isCubemap)
                    for (var n = i.mipmaps.length / i.mipmapCount, a = 0; a < n; a++) {
                        o[a] = {
                            mipmaps: []
                        };
                        for (var c = 0; c < i.mipmapCount; c++) o[a].mipmaps.push(i.mipmaps[a * i.mipmapCount + c]), o[a].format = i.format, o[a].width = i.width, o[a].height = i.height
                    } else s.image.width = i.width, s.image.height = i.height, s.mipmaps = i.mipmaps;
                1 === i.mipmapCount && (s.minFilter = St), s.format = i.format, s.needsUpdate = !0, e && e(s)
            }, i, n);
            return s
        },
        setPath: function(t) {
            return this.path = t, this
        }
    }), Object.assign(Cs.prototype, {
        load: function(t, e, i, n) {
            var r = this,
                o = new Xe,
                s = new As(this.manager);
            return s.setResponseType("arraybuffer"), s.load(t, function(t) {
                var i = r._parser(t);
                i && (void 0 !== i.image ? o.image = i.image : void 0 !== i.data && (o.image.width = i.width, o.image.height = i.height, o.image.data = i.data), o.wrapS = void 0 !== i.wrapS ? i.wrapS : yt, o.wrapT = void 0 !== i.wrapT ? i.wrapT : yt, o.magFilter = void 0 !== i.magFilter ? i.magFilter : St, o.minFilter = void 0 !== i.minFilter ? i.minFilter : Tt, o.anisotropy = void 0 !== i.anisotropy ? i.anisotropy : 1, void 0 !== i.format && (o.format = i.format), void 0 !== i.type && (o.type = i.type), void 0 !== i.mipmaps && (o.mipmaps = i.mipmaps), 1 === i.mipmapCount && (o.minFilter = St), o.needsUpdate = !0, e && e(o, i))
            }, i, n), o
        }
    }), Object.assign(Es.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, i, n) {
            void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t), t = this.manager.resolveURL(t);
            var r = this,
                o = ws.get(t);
            if (void 0 !== o) return r.manager.itemStart(t), setTimeout(function() {
                e && e(o), r.manager.itemEnd(t)
            }, 0), o;
            var s = document.createElementNS("http://www.w3.org/1999/xhtml", "img");

            function a() {
                s.removeEventListener("load", a, !1), s.removeEventListener("error", c, !1), ws.add(t, this), e && e(this), r.manager.itemEnd(t)
            }

            function c(e) {
                s.removeEventListener("load", a, !1), s.removeEventListener("error", c, !1), n && n(e), r.manager.itemEnd(t), r.manager.itemError(t)
            }
            return s.addEventListener("load", a, !1), s.addEventListener("error", c, !1), "data:" !== t.substr(0, 5) && void 0 !== this.crossOrigin && (s.crossOrigin = this.crossOrigin), r.manager.itemStart(t), s.src = t, s
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t, this
        },
        setPath: function(t) {
            return this.path = t, this
        }
    }), Object.assign(Os.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, i, n) {
            var r = new un,
                o = new Es(this.manager);
            o.setCrossOrigin(this.crossOrigin), o.setPath(this.path);
            var s = 0;

            function a(i) {
                o.load(t[i], function(t) {
                    r.images[i] = t, 6 === ++s && (r.needsUpdate = !0, e && e(r))
                }, void 0, n)
            }
            for (var c = 0; c < t.length; ++c) a(c);
            return r
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t, this
        },
        setPath: function(t) {
            return this.path = t, this
        }
    }), Object.assign(Ps.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, i, n) {
            var r = new Ge,
                o = new Es(this.manager);
            return o.setCrossOrigin(this.crossOrigin), o.setPath(this.path), o.load(t, function(i) {
                r.image = i;
                var n = t.search(/\.jpe?g$/i) > 0 || 0 === t.search(/^data\:image\/jpeg/);
                r.format = n ? Bt : jt, r.needsUpdate = !0, void 0 !== e && e(r)
            }, i, n), r
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t, this
        },
        setPath: function(t) {
            return this.path = t, this
        }
    }), Object.assign(ks.prototype, {
        getPoint: function() {
            return null
        },
        getPointAt: function(t, e) {
            var i = this.getUtoTmapping(t);
            return this.getPoint(i, e)
        },
        getPoints: function(t) {
            void 0 === t && (t = 5);
            for (var e = [], i = 0; i <= t; i++) e.push(this.getPoint(i / t));
            return e
        },
        getSpacedPoints: function(t) {
            void 0 === t && (t = 5);
            for (var e = [], i = 0; i <= t; i++) e.push(this.getPointAt(i / t));
            return e
        },
        getLength: function() {
            var t = this.getLengths();
            return t[t.length - 1]
        },
        getLengths: function(t) {
            if (void 0 === t && (t = this.arcLengthDivisions), this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate) return this.cacheArcLengths;
            this.needsUpdate = !1;
            var e, i, n = [],
                r = this.getPoint(0),
                o = 0;
            for (n.push(0), i = 1; i <= t; i++) o += (e = this.getPoint(i / t)).distanceTo(r), n.push(o), r = e;
            return this.cacheArcLengths = n, n
        },
        updateArcLengths: function() {
            this.needsUpdate = !0, this.getLengths()
        },
        getUtoTmapping: function(t, e) {
            var i, n = this.getLengths(),
                r = 0,
                o = n.length;
            i = e || t * n[o - 1];
            for (var s, a = 0, c = o - 1; a <= c;)
                if ((s = n[r = Math.floor(a + (c - a) / 2)] - i) < 0) a = r + 1;
                else {
                    if (!(s > 0)) {
                        c = r;
                        break
                    }
                    c = r - 1
                }
            if (n[r = c] === i) return r / (o - 1);
            var l = n[r];
            return (r + (i - l) / (n[r + 1] - l)) / (o - 1)
        },
        getTangent: function(t) {
            var e = t - 1e-4,
                i = t + 1e-4;
            e < 0 && (e = 0), i > 1 && (i = 1);
            var n = this.getPoint(e);
            return this.getPoint(i).clone().sub(n).normalize()
        },
        getTangentAt: function(t) {
            var e = this.getUtoTmapping(t);
            return this.getTangent(e)
        },
        computeFrenetFrames: function(t, e) {
            var i, n, r, o = new Re,
                s = [],
                a = [],
                c = [],
                l = new Re,
                u = new Le;
            for (i = 0; i <= t; i++) n = i / t, s[i] = this.getTangentAt(n), s[i].normalize();
            a[0] = new Re, c[0] = new Re;
            var h = Number.MAX_VALUE,
                p = Math.abs(s[0].x),
                d = Math.abs(s[0].y),
                f = Math.abs(s[0].z);
            for (p <= h && (h = p, o.set(1, 0, 0)), d <= h && (h = d, o.set(0, 1, 0)), f <= h && o.set(0, 0, 1), l.crossVectors(s[0], o).normalize(), a[0].crossVectors(s[0], l), c[0].crossVectors(s[0], a[0]), i = 1; i <= t; i++) a[i] = a[i - 1].clone(), c[i] = c[i - 1].clone(), l.crossVectors(s[i - 1], s[i]), l.length() > Number.EPSILON && (l.normalize(), r = Math.acos(Pe.clamp(s[i - 1].dot(s[i]), -1, 1)), a[i].applyMatrix4(u.makeRotationAxis(l, r))), c[i].crossVectors(s[i], a[i]);
            if (!0 === e)
                for (r = Math.acos(Pe.clamp(a[0].dot(a[t]), -1, 1)), r /= t, s[0].dot(l.crossVectors(a[0], a[t])) > 0 && (r = -r), i = 1; i <= t; i++) a[i].applyMatrix4(u.makeRotationAxis(s[i], r * i)), c[i].crossVectors(s[i], a[i]);
            return {
                tangents: s,
                normals: a,
                binormals: c
            }
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.arcLengthDivisions = t.arcLengthDivisions, this
        },
        toJSON: function() {
            var t = {
                metadata: {
                    version: 4.5,
                    type: "Curve",
                    generator: "Curve.toJSON"
                }
            };
            return t.arcLengthDivisions = this.arcLengthDivisions, t.type = this.type, t
        },
        fromJSON: function(t) {
            return this.arcLengthDivisions = t.arcLengthDivisions, this
        }
    }), Ls.prototype = Object.create(ks.prototype), Ls.prototype.constructor = Ls, Ls.prototype.isEllipseCurve = !0, Ls.prototype.getPoint = function(t, e) {
        for (var i = e || new ke, n = 2 * Math.PI, r = this.aEndAngle - this.aStartAngle, o = Math.abs(r) < Number.EPSILON; r < 0;) r += n;
        for (; r > n;) r -= n;
        r < Number.EPSILON && (r = o ? 0 : n), !0 !== this.aClockwise || o || (r === n ? r = -n : r -= n);
        var s = this.aStartAngle + t * r,
            a = this.aX + this.xRadius * Math.cos(s),
            c = this.aY + this.yRadius * Math.sin(s);
        if (0 !== this.aRotation) {
            var l = Math.cos(this.aRotation),
                u = Math.sin(this.aRotation),
                h = a - this.aX,
                p = c - this.aY;
            a = h * l - p * u + this.aX, c = h * u + p * l + this.aY
        }
        return i.set(a, c)
    }, Ls.prototype.copy = function(t) {
        return ks.prototype.copy.call(this, t), this.aX = t.aX, this.aY = t.aY, this.xRadius = t.xRadius, this.yRadius = t.yRadius, this.aStartAngle = t.aStartAngle, this.aEndAngle = t.aEndAngle, this.aClockwise = t.aClockwise, this.aRotation = t.aRotation, this
    }, Ls.prototype.toJSON = function() {
        var t = ks.prototype.toJSON.call(this);
        return t.aX = this.aX, t.aY = this.aY, t.xRadius = this.xRadius, t.yRadius = this.yRadius, t.aStartAngle = this.aStartAngle, t.aEndAngle = this.aEndAngle, t.aClockwise = this.aClockwise, t.aRotation = this.aRotation, t
    }, Ls.prototype.fromJSON = function(t) {
        return ks.prototype.fromJSON.call(this, t), this.aX = t.aX, this.aY = t.aY, this.xRadius = t.xRadius, this.yRadius = t.yRadius, this.aStartAngle = t.aStartAngle, this.aEndAngle = t.aEndAngle, this.aClockwise = t.aClockwise, this.aRotation = t.aRotation, this
    }, Is.prototype = Object.create(Ls.prototype), Is.prototype.constructor = Is, Is.prototype.isArcCurve = !0;
    var Ds = new Re,
        Ns = new Rs,
        zs = new Rs,
        Fs = new Rs;

    function Bs(t, e, i, n) {
        ks.call(this), this.type = "CatmullRomCurve3", this.points = t || [], this.closed = e || !1, this.curveType = i || "centripetal", this.tension = n || .5
    }

    function js(t, e, i, n, r) {
        var o = .5 * (n - e),
            s = .5 * (r - i),
            a = t * t;
        return (2 * i - 2 * n + o + s) * (t * a) + (-3 * i + 3 * n - 2 * o - s) * a + o * t + i
    }

    function Us(t, e, i, n) {
        return function(t, e) {
            var i = 1 - t;
            return i * i * e
        }(t, e) + function(t, e) {
            return 2 * (1 - t) * t * e
        }(t, i) + function(t, e) {
            return t * t * e
        }(t, n)
    }

    function Vs(t, e, i, n, r) {
        return function(t, e) {
            var i = 1 - t;
            return i * i * i * e
        }(t, e) + function(t, e) {
            var i = 1 - t;
            return 3 * i * i * t * e
        }(t, i) + function(t, e) {
            return 3 * (1 - t) * t * t * e
        }(t, n) + function(t, e) {
            return t * t * t * e
        }(t, r)
    }

    function Gs(t, e, i, n) {
        ks.call(this), this.type = "CubicBezierCurve", this.v0 = t || new ke, this.v1 = e || new ke, this.v2 = i || new ke, this.v3 = n || new ke
    }

    function Ws(t, e, i, n) {
        ks.call(this), this.type = "CubicBezierCurve3", this.v0 = t || new Re, this.v1 = e || new Re, this.v2 = i || new Re, this.v3 = n || new Re
    }

    function Hs(t, e) {
        ks.call(this), this.type = "LineCurve", this.v1 = t || new ke, this.v2 = e || new ke
    }

    function $s(t, e) {
        ks.call(this), this.type = "LineCurve3", this.v1 = t || new Re, this.v2 = e || new Re
    }

    function Xs(t, e, i) {
        ks.call(this), this.type = "QuadraticBezierCurve", this.v0 = t || new ke, this.v1 = e || new ke, this.v2 = i || new ke
    }

    function qs(t, e, i) {
        ks.call(this), this.type = "QuadraticBezierCurve3", this.v0 = t || new Re, this.v1 = e || new Re, this.v2 = i || new Re
    }

    function Ys(t) {
        ks.call(this), this.type = "SplineCurve", this.points = t || []
    }
    Bs.prototype = Object.create(ks.prototype), Bs.prototype.constructor = Bs, Bs.prototype.isCatmullRomCurve3 = !0, Bs.prototype.getPoint = function(t, e) {
        var i, n, r, o, s = e || new Re,
            a = this.points,
            c = a.length,
            l = (c - (this.closed ? 0 : 1)) * t,
            u = Math.floor(l),
            h = l - u;
        if (this.closed ? u += u > 0 ? 0 : (Math.floor(Math.abs(u) / c) + 1) * c : 0 === h && u === c - 1 && (u = c - 2, h = 1), this.closed || u > 0 ? i = a[(u - 1) % c] : (Ds.subVectors(a[0], a[1]).add(a[0]), i = Ds), n = a[u % c], r = a[(u + 1) % c], this.closed || u + 2 < c ? o = a[(u + 2) % c] : (Ds.subVectors(a[c - 1], a[c - 2]).add(a[c - 1]), o = Ds), "centripetal" === this.curveType || "chordal" === this.curveType) {
            var p = "chordal" === this.curveType ? .5 : .25,
                d = Math.pow(i.distanceToSquared(n), p),
                f = Math.pow(n.distanceToSquared(r), p),
                m = Math.pow(r.distanceToSquared(o), p);
            f < 1e-4 && (f = 1), d < 1e-4 && (d = f), m < 1e-4 && (m = f), Ns.initNonuniformCatmullRom(i.x, n.x, r.x, o.x, d, f, m), zs.initNonuniformCatmullRom(i.y, n.y, r.y, o.y, d, f, m), Fs.initNonuniformCatmullRom(i.z, n.z, r.z, o.z, d, f, m)
        } else "catmullrom" === this.curveType && (Ns.initCatmullRom(i.x, n.x, r.x, o.x, this.tension), zs.initCatmullRom(i.y, n.y, r.y, o.y, this.tension), Fs.initCatmullRom(i.z, n.z, r.z, o.z, this.tension));
        return s.set(Ns.calc(h), zs.calc(h), Fs.calc(h)), s
    }, Bs.prototype.copy = function(t) {
        ks.prototype.copy.call(this, t), this.points = [];
        for (var e = 0, i = t.points.length; e < i; e++) {
            var n = t.points[e];
            this.points.push(n.clone())
        }
        return this.closed = t.closed, this.curveType = t.curveType, this.tension = t.tension, this
    }, Bs.prototype.toJSON = function() {
        var t = ks.prototype.toJSON.call(this);
        t.points = [];
        for (var e = 0, i = this.points.length; e < i; e++) {
            var n = this.points[e];
            t.points.push(n.toArray())
        }
        return t.closed = this.closed, t.curveType = this.curveType, t.tension = this.tension, t
    }, Bs.prototype.fromJSON = function(t) {
        ks.prototype.fromJSON.call(this, t), this.points = [];
        for (var e = 0, i = t.points.length; e < i; e++) {
            var n = t.points[e];
            this.points.push((new Re).fromArray(n))
        }
        return this.closed = t.closed, this.curveType = t.curveType, this.tension = t.tension, this
    }, Gs.prototype = Object.create(ks.prototype), Gs.prototype.constructor = Gs, Gs.prototype.isCubicBezierCurve = !0, Gs.prototype.getPoint = function(t, e) {
        var i = e || new ke,
            n = this.v0,
            r = this.v1,
            o = this.v2,
            s = this.v3;
        return i.set(Vs(t, n.x, r.x, o.x, s.x), Vs(t, n.y, r.y, o.y, s.y)), i
    }, Gs.prototype.copy = function(t) {
        return ks.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this.v3.copy(t.v3), this
    }, Gs.prototype.toJSON = function() {
        var t = ks.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t.v3 = this.v3.toArray(), t
    }, Gs.prototype.fromJSON = function(t) {
        return ks.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this.v3.fromArray(t.v3), this
    }, Ws.prototype = Object.create(ks.prototype), Ws.prototype.constructor = Ws, Ws.prototype.isCubicBezierCurve3 = !0, Ws.prototype.getPoint = function(t, e) {
        var i = e || new Re,
            n = this.v0,
            r = this.v1,
            o = this.v2,
            s = this.v3;
        return i.set(Vs(t, n.x, r.x, o.x, s.x), Vs(t, n.y, r.y, o.y, s.y), Vs(t, n.z, r.z, o.z, s.z)), i
    }, Ws.prototype.copy = function(t) {
        return ks.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this.v3.copy(t.v3), this
    }, Ws.prototype.toJSON = function() {
        var t = ks.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t.v3 = this.v3.toArray(), t
    }, Ws.prototype.fromJSON = function(t) {
        return ks.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this.v3.fromArray(t.v3), this
    }, Hs.prototype = Object.create(ks.prototype), Hs.prototype.constructor = Hs, Hs.prototype.isLineCurve = !0, Hs.prototype.getPoint = function(t, e) {
        var i = e || new ke;
        return 1 === t ? i.copy(this.v2) : (i.copy(this.v2).sub(this.v1), i.multiplyScalar(t).add(this.v1)), i
    }, Hs.prototype.getPointAt = function(t, e) {
        return this.getPoint(t, e)
    }, Hs.prototype.getTangent = function() {
        return this.v2.clone().sub(this.v1).normalize()
    }, Hs.prototype.copy = function(t) {
        return ks.prototype.copy.call(this, t), this.v1.copy(t.v1), this.v2.copy(t.v2), this
    }, Hs.prototype.toJSON = function() {
        var t = ks.prototype.toJSON.call(this);
        return t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
    }, Hs.prototype.fromJSON = function(t) {
        return ks.prototype.fromJSON.call(this, t), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
    }, $s.prototype = Object.create(ks.prototype), $s.prototype.constructor = $s, $s.prototype.isLineCurve3 = !0, $s.prototype.getPoint = function(t, e) {
        var i = e || new Re;
        return 1 === t ? i.copy(this.v2) : (i.copy(this.v2).sub(this.v1), i.multiplyScalar(t).add(this.v1)), i
    }, $s.prototype.getPointAt = function(t, e) {
        return this.getPoint(t, e)
    }, $s.prototype.copy = function(t) {
        return ks.prototype.copy.call(this, t), this.v1.copy(t.v1), this.v2.copy(t.v2), this
    }, $s.prototype.toJSON = function() {
        var t = ks.prototype.toJSON.call(this);
        return t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
    }, $s.prototype.fromJSON = function(t) {
        return ks.prototype.fromJSON.call(this, t), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
    }, Xs.prototype = Object.create(ks.prototype), Xs.prototype.constructor = Xs, Xs.prototype.isQuadraticBezierCurve = !0, Xs.prototype.getPoint = function(t, e) {
        var i = e || new ke,
            n = this.v0,
            r = this.v1,
            o = this.v2;
        return i.set(Us(t, n.x, r.x, o.x), Us(t, n.y, r.y, o.y)), i
    }, Xs.prototype.copy = function(t) {
        return ks.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this
    }, Xs.prototype.toJSON = function() {
        var t = ks.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
    }, Xs.prototype.fromJSON = function(t) {
        return ks.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
    }, qs.prototype = Object.create(ks.prototype), qs.prototype.constructor = qs, qs.prototype.isQuadraticBezierCurve3 = !0, qs.prototype.getPoint = function(t, e) {
        var i = e || new Re,
            n = this.v0,
            r = this.v1,
            o = this.v2;
        return i.set(Us(t, n.x, r.x, o.x), Us(t, n.y, r.y, o.y), Us(t, n.z, r.z, o.z)), i
    }, qs.prototype.copy = function(t) {
        return ks.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this
    }, qs.prototype.toJSON = function() {
        var t = ks.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
    }, qs.prototype.fromJSON = function(t) {
        return ks.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
    }, Ys.prototype = Object.create(ks.prototype), Ys.prototype.constructor = Ys, Ys.prototype.isSplineCurve = !0, Ys.prototype.getPoint = function(t, e) {
        var i = e || new ke,
            n = this.points,
            r = (n.length - 1) * t,
            o = Math.floor(r),
            s = r - o,
            a = n[0 === o ? o : o - 1],
            c = n[o],
            l = n[o > n.length - 2 ? n.length - 1 : o + 1],
            u = n[o > n.length - 3 ? n.length - 1 : o + 2];
        return i.set(js(s, a.x, c.x, l.x, u.x), js(s, a.y, c.y, l.y, u.y)), i
    }, Ys.prototype.copy = function(t) {
        ks.prototype.copy.call(this, t), this.points = [];
        for (var e = 0, i = t.points.length; e < i; e++) {
            var n = t.points[e];
            this.points.push(n.clone())
        }
        return this
    }, Ys.prototype.toJSON = function() {
        var t = ks.prototype.toJSON.call(this);
        t.points = [];
        for (var e = 0, i = this.points.length; e < i; e++) {
            var n = this.points[e];
            t.points.push(n.toArray())
        }
        return t
    }, Ys.prototype.fromJSON = function(t) {
        ks.prototype.fromJSON.call(this, t), this.points = [];
        for (var e = 0, i = t.points.length; e < i; e++) {
            var n = t.points[e];
            this.points.push((new ke).fromArray(n))
        }
        return this
    };
    var Zs = Object.freeze({
        ArcCurve: Is,
        CatmullRomCurve3: Bs,
        CubicBezierCurve: Gs,
        CubicBezierCurve3: Ws,
        EllipseCurve: Ls,
        LineCurve: Hs,
        LineCurve3: $s,
        QuadraticBezierCurve: Xs,
        QuadraticBezierCurve3: qs,
        SplineCurve: Ys
    });

    function Js() {
        ks.call(this), this.type = "CurvePath", this.curves = [], this.autoClose = !1
    }

    function Qs(t) {
        Js.call(this), this.type = "Path", this.currentPoint = new ke, t && this.setFromPoints(t)
    }

    function Ks(t) {
        Qs.call(this, t), this.uuid = Pe.generateUUID(), this.type = "Shape", this.holes = []
    }

    function ta(t, e) {
        gi.call(this), this.type = "Light", this.color = new ri(t), this.intensity = void 0 !== e ? e : 1, this.receiveShadow = void 0
    }

    function ea(t, e, i) {
        ta.call(this, t, i), this.type = "HemisphereLight", this.castShadow = void 0, this.position.copy(gi.DefaultUp), this.updateMatrix(), this.groundColor = new ri(e)
    }

    function ia(t) {
        this.camera = t, this.bias = 0, this.radius = 1, this.mapSize = new ke(512, 512), this.map = null, this.matrix = new Le
    }

    function na() {
        ia.call(this, new Cr(50, 1, .5, 500))
    }

    function ra(t, e, i, n, r, o) {
        ta.call(this, t, e), this.type = "SpotLight", this.position.copy(gi.DefaultUp), this.updateMatrix(), this.target = new gi, Object.defineProperty(this, "power", {
            get: function() {
                return this.intensity * Math.PI
            },
            set: function(t) {
                this.intensity = t / Math.PI
            }
        }), this.distance = void 0 !== i ? i : 0, this.angle = void 0 !== n ? n : Math.PI / 3, this.penumbra = void 0 !== r ? r : 0, this.decay = void 0 !== o ? o : 1, this.shadow = new na
    }

    function oa(t, e, i, n) {
        ta.call(this, t, e), this.type = "PointLight", Object.defineProperty(this, "power", {
            get: function() {
                return 4 * this.intensity * Math.PI
            },
            set: function(t) {
                this.intensity = t / (4 * Math.PI)
            }
        }), this.distance = void 0 !== i ? i : 0, this.decay = void 0 !== n ? n : 1, this.shadow = new ia(new Cr(90, 1, .5, 500))
    }

    function sa() {
        ia.call(this, new _i(-5, 5, 5, -5, .5, 500))
    }

    function aa(t, e) {
        ta.call(this, t, e), this.type = "DirectionalLight", this.position.copy(gi.DefaultUp), this.updateMatrix(), this.target = new gi, this.shadow = new sa
    }

    function ca(t, e) {
        ta.call(this, t, e), this.type = "AmbientLight", this.castShadow = void 0
    }

    function la(t, e, i, n) {
        ta.call(this, t, e), this.type = "RectAreaLight", this.width = void 0 !== i ? i : 10, this.height = void 0 !== n ? n : 10
    }
    Js.prototype = Object.assign(Object.create(ks.prototype), {
        constructor: Js,
        add: function(t) {
            this.curves.push(t)
        },
        closePath: function() {
            var t = this.curves[0].getPoint(0),
                e = this.curves[this.curves.length - 1].getPoint(1);
            t.equals(e) || this.curves.push(new Hs(e, t))
        },
        getPoint: function(t) {
            for (var e = t * this.getLength(), i = this.getCurveLengths(), n = 0; n < i.length;) {
                if (i[n] >= e) {
                    var r = i[n] - e,
                        o = this.curves[n],
                        s = o.getLength(),
                        a = 0 === s ? 0 : 1 - r / s;
                    return o.getPointAt(a)
                }
                n++
            }
            return null
        },
        getLength: function() {
            var t = this.getCurveLengths();
            return t[t.length - 1]
        },
        updateArcLengths: function() {
            this.needsUpdate = !0, this.cacheLengths = null, this.getCurveLengths()
        },
        getCurveLengths: function() {
            if (this.cacheLengths && this.cacheLengths.length === this.curves.length) return this.cacheLengths;
            for (var t = [], e = 0, i = 0, n = this.curves.length; i < n; i++) e += this.curves[i].getLength(), t.push(e);
            return this.cacheLengths = t, t
        },
        getSpacedPoints: function(t) {
            void 0 === t && (t = 40);
            for (var e = [], i = 0; i <= t; i++) e.push(this.getPoint(i / t));
            return this.autoClose && e.push(e[0]), e
        },
        getPoints: function(t) {
            t = t || 12;
            for (var e, i = [], n = 0, r = this.curves; n < r.length; n++)
                for (var o = r[n], s = o && o.isEllipseCurve ? 2 * t : o && (o.isLineCurve || o.isLineCurve3) ? 1 : o && o.isSplineCurve ? t * o.points.length : t, a = o.getPoints(s), c = 0; c < a.length; c++) {
                    var l = a[c];
                    e && e.equals(l) || (i.push(l), e = l)
                }
            return this.autoClose && i.length > 1 && !i[i.length - 1].equals(i[0]) && i.push(i[0]), i
        },
        copy: function(t) {
            ks.prototype.copy.call(this, t), this.curves = [];
            for (var e = 0, i = t.curves.length; e < i; e++) {
                var n = t.curves[e];
                this.curves.push(n.clone())
            }
            return this.autoClose = t.autoClose, this
        },
        toJSON: function() {
            var t = ks.prototype.toJSON.call(this);
            t.autoClose = this.autoClose, t.curves = [];
            for (var e = 0, i = this.curves.length; e < i; e++) {
                var n = this.curves[e];
                t.curves.push(n.toJSON())
            }
            return t
        },
        fromJSON: function(t) {
            ks.prototype.fromJSON.call(this, t), this.autoClose = t.autoClose, this.curves = [];
            for (var e = 0, i = t.curves.length; e < i; e++) {
                var n = t.curves[e];
                this.curves.push((new Zs[n.type]).fromJSON(n))
            }
            return this
        }
    }), Qs.prototype = Object.assign(Object.create(Js.prototype), {
        constructor: Qs,
        setFromPoints: function(t) {
            this.moveTo(t[0].x, t[0].y);
            for (var e = 1, i = t.length; e < i; e++) this.lineTo(t[e].x, t[e].y)
        },
        moveTo: function(t, e) {
            this.currentPoint.set(t, e)
        },
        lineTo: function(t, e) {
            var i = new Hs(this.currentPoint.clone(), new ke(t, e));
            this.curves.push(i), this.currentPoint.set(t, e)
        },
        quadraticCurveTo: function(t, e, i, n) {
            var r = new Xs(this.currentPoint.clone(), new ke(t, e), new ke(i, n));
            this.curves.push(r), this.currentPoint.set(i, n)
        },
        bezierCurveTo: function(t, e, i, n, r, o) {
            var s = new Gs(this.currentPoint.clone(), new ke(t, e), new ke(i, n), new ke(r, o));
            this.curves.push(s), this.currentPoint.set(r, o)
        },
        splineThru: function(t) {
            var e = new Ys([this.currentPoint.clone()].concat(t));
            this.curves.push(e), this.currentPoint.copy(t[t.length - 1])
        },
        arc: function(t, e, i, n, r, o) {
            var s = this.currentPoint.x,
                a = this.currentPoint.y;
            this.absarc(t + s, e + a, i, n, r, o)
        },
        absarc: function(t, e, i, n, r, o) {
            this.absellipse(t, e, i, i, n, r, o)
        },
        ellipse: function(t, e, i, n, r, o, s, a) {
            var c = this.currentPoint.x,
                l = this.currentPoint.y;
            this.absellipse(t + c, e + l, i, n, r, o, s, a)
        },
        absellipse: function(t, e, i, n, r, o, s, a) {
            var c = new Ls(t, e, i, n, r, o, s, a);
            if (this.curves.length > 0) {
                var l = c.getPoint(0);
                l.equals(this.currentPoint) || this.lineTo(l.x, l.y)
            }
            this.curves.push(c);
            var u = c.getPoint(1);
            this.currentPoint.copy(u)
        },
        copy: function(t) {
            return Js.prototype.copy.call(this, t), this.currentPoint.copy(t.currentPoint), this
        },
        toJSON: function() {
            var t = Js.prototype.toJSON.call(this);
            return t.currentPoint = this.currentPoint.toArray(), t
        },
        fromJSON: function(t) {
            return Js.prototype.fromJSON.call(this, t), this.currentPoint.fromArray(t.currentPoint), this
        }
    }), Ks.prototype = Object.assign(Object.create(Qs.prototype), {
        constructor: Ks,
        getPointsHoles: function(t) {
            for (var e = [], i = 0, n = this.holes.length; i < n; i++) e[i] = this.holes[i].getPoints(t);
            return e
        },
        extractPoints: function(t) {
            return {
                shape: this.getPoints(t),
                holes: this.getPointsHoles(t)
            }
        },
        copy: function(t) {
            Qs.prototype.copy.call(this, t), this.holes = [];
            for (var e = 0, i = t.holes.length; e < i; e++) {
                var n = t.holes[e];
                this.holes.push(n.clone())
            }
            return this
        },
        toJSON: function() {
            var t = Qs.prototype.toJSON.call(this);
            t.uuid = this.uuid, t.holes = [];
            for (var e = 0, i = this.holes.length; e < i; e++) {
                var n = this.holes[e];
                t.holes.push(n.toJSON())
            }
            return t
        },
        fromJSON: function(t) {
            Qs.prototype.fromJSON.call(this, t), this.uuid = t.uuid, this.holes = [];
            for (var e = 0, i = t.holes.length; e < i; e++) {
                var n = t.holes[e];
                this.holes.push((new Qs).fromJSON(n))
            }
            return this
        }
    }), ta.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: ta,
        isLight: !0,
        copy: function(t) {
            return gi.prototype.copy.call(this, t), this.color.copy(t.color), this.intensity = t.intensity, this
        },
        toJSON: function(t) {
            var e = gi.prototype.toJSON.call(this, t);
            return e.object.color = this.color.getHex(), e.object.intensity = this.intensity, void 0 !== this.groundColor && (e.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (e.object.distance = this.distance), void 0 !== this.angle && (e.object.angle = this.angle), void 0 !== this.decay && (e.object.decay = this.decay), void 0 !== this.penumbra && (e.object.penumbra = this.penumbra), void 0 !== this.shadow && (e.object.shadow = this.shadow.toJSON()), e
        }
    }), ea.prototype = Object.assign(Object.create(ta.prototype), {
        constructor: ea,
        isHemisphereLight: !0,
        copy: function(t) {
            return ta.prototype.copy.call(this, t), this.groundColor.copy(t.groundColor), this
        }
    }), Object.assign(ia.prototype, {
        copy: function(t) {
            return this.camera = t.camera.clone(), this.bias = t.bias, this.radius = t.radius, this.mapSize.copy(t.mapSize), this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        toJSON: function() {
            var t = {};
            return 0 !== this.bias && (t.bias = this.bias), 1 !== this.radius && (t.radius = this.radius), 512 === this.mapSize.x && 512 === this.mapSize.y || (t.mapSize = this.mapSize.toArray()), t.camera = this.camera.toJSON(!1).object, delete t.camera.matrix, t
        }
    }), na.prototype = Object.assign(Object.create(ia.prototype), {
        constructor: na,
        isSpotLightShadow: !0,
        update: function(t) {
            var e = this.camera,
                i = 2 * Pe.RAD2DEG * t.angle,
                n = this.mapSize.width / this.mapSize.height,
                r = t.distance || e.far;
            i === e.fov && n === e.aspect && r === e.far || (e.fov = i, e.aspect = n, e.far = r, e.updateProjectionMatrix())
        }
    }), ra.prototype = Object.assign(Object.create(ta.prototype), {
        constructor: ra,
        isSpotLight: !0,
        copy: function(t) {
            return ta.prototype.copy.call(this, t), this.distance = t.distance, this.angle = t.angle, this.penumbra = t.penumbra, this.decay = t.decay, this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
        }
    }), oa.prototype = Object.assign(Object.create(ta.prototype), {
        constructor: oa,
        isPointLight: !0,
        copy: function(t) {
            return ta.prototype.copy.call(this, t), this.distance = t.distance, this.decay = t.decay, this.shadow = t.shadow.clone(), this
        }
    }), sa.prototype = Object.assign(Object.create(ia.prototype), {
        constructor: sa
    }), aa.prototype = Object.assign(Object.create(ta.prototype), {
        constructor: aa,
        isDirectionalLight: !0,
        copy: function(t) {
            return ta.prototype.copy.call(this, t), this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
        }
    }), ca.prototype = Object.assign(Object.create(ta.prototype), {
        constructor: ca,
        isAmbientLight: !0
    }), la.prototype = Object.assign(Object.create(ta.prototype), {
        constructor: la,
        isRectAreaLight: !0,
        copy: function(t) {
            return ta.prototype.copy.call(this, t), this.width = t.width, this.height = t.height, this
        },
        toJSON: function(t) {
            var e = ta.prototype.toJSON.call(this, t);
            return e.object.width = this.width, e.object.height = this.height, e
        }
    });
    var ua = {
        arraySlice: function(t, e, i) {
            return ua.isTypedArray(t) ? new t.constructor(t.subarray(e, void 0 !== i ? i : t.length)) : t.slice(e, i)
        },
        convertArray: function(t, e, i) {
            return !t || !i && t.constructor === e ? t : "number" == typeof e.BYTES_PER_ELEMENT ? new e(t) : Array.prototype.slice.call(t)
        },
        isTypedArray: function(t) {
            return ArrayBuffer.isView(t) && !(t instanceof DataView)
        },
        getKeyframeOrder: function(t) {
            for (var e = t.length, i = new Array(e), n = 0; n !== e; ++n) i[n] = n;
            return i.sort(function(e, i) {
                return t[e] - t[i]
            }), i
        },
        sortedArray: function(t, e, i) {
            for (var n = t.length, r = new t.constructor(n), o = 0, s = 0; s !== n; ++o)
                for (var a = i[o] * e, c = 0; c !== e; ++c) r[s++] = t[a + c];
            return r
        },
        flattenJSON: function(t, e, i, n) {
            for (var r = 1, o = t[0]; void 0 !== o && void 0 === o[n];) o = t[r++];
            if (void 0 !== o) {
                var s = o[n];
                if (void 0 !== s)
                    if (Array.isArray(s))
                        do {
                            void 0 !== (s = o[n]) && (e.push(o.time), i.push.apply(i, s)), o = t[r++]
                        } while (void 0 !== o);
                    else if (void 0 !== s.toArray)
                    do {
                        void 0 !== (s = o[n]) && (e.push(o.time), s.toArray(i, i.length)), o = t[r++]
                    } while (void 0 !== o);
                else
                    do {
                        void 0 !== (s = o[n]) && (e.push(o.time), i.push(s)), o = t[r++]
                    } while (void 0 !== o)
            }
        }
    };

    function ha(t, e, i, n) {
        this.parameterPositions = t, this._cachedIndex = 0, this.resultBuffer = void 0 !== n ? n : new e.constructor(i), this.sampleValues = e, this.valueSize = i
    }

    function pa(t, e, i, n) {
        ha.call(this, t, e, i, n), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0
    }

    function da(t, e, i, n) {
        ha.call(this, t, e, i, n)
    }

    function fa(t, e, i, n) {
        ha.call(this, t, e, i, n)
    }

    function ma(t, e, i, n) {
        if (void 0 === t) throw new Error("THREE.KeyframeTrack: track name is undefined");
        if (void 0 === e || 0 === e.length) throw new Error("THREE.KeyframeTrack: no keyframes in track named " + t);
        this.name = t, this.times = ua.convertArray(e, this.TimeBufferType), this.values = ua.convertArray(i, this.ValueBufferType), this.setInterpolation(n || this.DefaultInterpolation)
    }

    function va(t, e, i) {
        ma.call(this, t, e, i)
    }

    function ga(t, e, i, n) {
        ma.call(this, t, e, i, n)
    }

    function ya(t, e, i, n) {
        ma.call(this, t, e, i, n)
    }

    function _a(t, e, i, n) {
        ha.call(this, t, e, i, n)
    }

    function ba(t, e, i, n) {
        ma.call(this, t, e, i, n)
    }

    function xa(t, e, i, n) {
        ma.call(this, t, e, i, n)
    }

    function wa(t, e, i, n) {
        ma.call(this, t, e, i, n)
    }

    function Sa(t, e, i) {
        this.name = t, this.tracks = i, this.duration = void 0 !== e ? e : -1, this.uuid = Pe.generateUUID(), this.duration < 0 && this.resetDuration()
    }

    function Ma(t) {
        if (void 0 === t.type) throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");
        var e = function(t) {
            switch (t.toLowerCase()) {
                case "scalar":
                case "double":
                case "float":
                case "number":
                case "integer":
                    return ya;
                case "vector":
                case "vector2":
                case "vector3":
                case "vector4":
                    return wa;
                case "color":
                    return ga;
                case "quaternion":
                    return ba;
                case "bool":
                case "boolean":
                    return va;
                case "string":
                    return xa
            }
            throw new Error("THREE.KeyframeTrack: Unsupported typeName: " + t)
        }(t.type);
        if (void 0 === t.times) {
            var i = [],
                n = [];
            ua.flattenJSON(t.keys, i, n, "value"), t.times = i, t.values = n
        }
        return void 0 !== e.parse ? e.parse(t) : new e(t.name, t.times, t.values, t.interpolation)
    }

    function Ta(t) {
        this.manager = void 0 !== t ? t : Ms, this.textures = {}
    }

    function Aa(t) {
        this.manager = void 0 !== t ? t : Ms
    }
    Object.assign(ha.prototype, {
        evaluate: function(t) {
            var e = this.parameterPositions,
                i = this._cachedIndex,
                n = e[i],
                r = e[i - 1];
            t: {
                e: {
                    var o;
                    i: {
                        n: if (!(t < n)) {
                            for (var s = i + 2;;) {
                                if (void 0 === n) {
                                    if (t < r) break n;
                                    return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, t, r)
                                }
                                if (i === s) break;
                                if (r = n, t < (n = e[++i])) break e
                            }
                            o = e.length;
                            break i
                        }if (t >= r) break t;
                        var a = e[1];t < a && (i = 2, r = a);
                        for (s = i - 2;;) {
                            if (void 0 === r) return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                            if (i === s) break;
                            if (n = r, t >= (r = e[--i - 1])) break e
                        }
                        o = i,
                        i = 0
                    }
                    for (; i < o;) {
                        var c = i + o >>> 1;
                        t < e[c] ? o = c : i = c + 1
                    }
                    if (n = e[i], void 0 === (r = e[i - 1])) return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                    if (void 0 === n) return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, r, t)
                }
                this._cachedIndex = i,
                this.intervalChanged_(i, r, n)
            }
            return this.interpolate_(i, r, t, n)
        },
        settings: null,
        DefaultSettings_: {},
        getSettings_: function() {
            return this.settings || this.DefaultSettings_
        },
        copySampleValue_: function(t) {
            for (var e = this.resultBuffer, i = this.sampleValues, n = this.valueSize, r = t * n, o = 0; o !== n; ++o) e[o] = i[r + o];
            return e
        },
        interpolate_: function() {
            throw new Error("call to abstract method")
        },
        intervalChanged_: function() {}
    }), Object.assign(ha.prototype, {
        beforeStart_: ha.prototype.copySampleValue_,
        afterEnd_: ha.prototype.copySampleValue_
    }), pa.prototype = Object.assign(Object.create(ha.prototype), {
        constructor: pa,
        DefaultSettings_: {
            endingStart: me,
            endingEnd: me
        },
        intervalChanged_: function(t, e, i) {
            var n = this.parameterPositions,
                r = t - 2,
                o = t + 1,
                s = n[r],
                a = n[o];
            if (void 0 === s) switch (this.getSettings_().endingStart) {
                case 2401:
                    r = t, s = 2 * e - i;
                    break;
                case 2402:
                    s = e + n[r = n.length - 2] - n[r + 1];
                    break;
                default:
                    r = t, s = i
            }
            if (void 0 === a) switch (this.getSettings_().endingEnd) {
                case 2401:
                    o = t, a = 2 * i - e;
                    break;
                case 2402:
                    o = 1, a = i + n[1] - n[0];
                    break;
                default:
                    o = t - 1, a = e
            }
            var c = .5 * (i - e),
                l = this.valueSize;
            this._weightPrev = c / (e - s), this._weightNext = c / (a - i), this._offsetPrev = r * l, this._offsetNext = o * l
        },
        interpolate_: function(t, e, i, n) {
            for (var r = this.resultBuffer, o = this.sampleValues, s = this.valueSize, a = t * s, c = a - s, l = this._offsetPrev, u = this._offsetNext, h = this._weightPrev, p = this._weightNext, d = (i - e) / (n - e), f = d * d, m = f * d, v = -h * m + 2 * h * f - h * d, g = (1 + h) * m + (-1.5 - 2 * h) * f + (-.5 + h) * d + 1, y = (-1 - p) * m + (1.5 + p) * f + .5 * d, _ = p * m - p * f, b = 0; b !== s; ++b) r[b] = v * o[l + b] + g * o[c + b] + y * o[a + b] + _ * o[u + b];
            return r
        }
    }), da.prototype = Object.assign(Object.create(ha.prototype), {
        constructor: da,
        interpolate_: function(t, e, i, n) {
            for (var r = this.resultBuffer, o = this.sampleValues, s = this.valueSize, a = t * s, c = a - s, l = (i - e) / (n - e), u = 1 - l, h = 0; h !== s; ++h) r[h] = o[c + h] * u + o[a + h] * l;
            return r
        }
    }), fa.prototype = Object.assign(Object.create(ha.prototype), {
        constructor: fa,
        interpolate_: function(t) {
            return this.copySampleValue_(t - 1)
        }
    }), Object.assign(ma, {
        toJSON: function(t) {
            var e, i = t.constructor;
            if (void 0 !== i.toJSON) e = i.toJSON(t);
            else {
                e = {
                    name: t.name,
                    times: ua.convertArray(t.times, Array),
                    values: ua.convertArray(t.values, Array)
                };
                var n = t.getInterpolation();
                n !== t.DefaultInterpolation && (e.interpolation = n)
            }
            return e.type = t.ValueTypeName, e
        }
    }), Object.assign(ma.prototype, {
        constructor: ma,
        TimeBufferType: Float32Array,
        ValueBufferType: Float32Array,
        DefaultInterpolation: 2301,
        InterpolantFactoryMethodDiscrete: function(t) {
            return new fa(this.times, this.values, this.getValueSize(), t)
        },
        InterpolantFactoryMethodLinear: function(t) {
            return new da(this.times, this.values, this.getValueSize(), t)
        },
        InterpolantFactoryMethodSmooth: function(t) {
            return new pa(this.times, this.values, this.getValueSize(), t)
        },
        setInterpolation: function(t) {
            var e;
            switch (t) {
                case 2300:
                    e = this.InterpolantFactoryMethodDiscrete;
                    break;
                case 2301:
                    e = this.InterpolantFactoryMethodLinear;
                    break;
                case 2302:
                    e = this.InterpolantFactoryMethodSmooth
            }
            if (void 0 === e) {
                var i = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                if (void 0 === this.createInterpolant) {
                    if (t === this.DefaultInterpolation) throw new Error(i);
                    this.setInterpolation(this.DefaultInterpolation)
                }
                return this
            }
            return this.createInterpolant = e, this
        },
        getInterpolation: function() {
            switch (this.createInterpolant) {
                case this.InterpolantFactoryMethodDiscrete:
                    return 2300;
                case this.InterpolantFactoryMethodLinear:
                    return 2301;
                case this.InterpolantFactoryMethodSmooth:
                    return 2302
            }
        },
        getValueSize: function() {
            return this.values.length / this.times.length
        },
        shift: function(t) {
            if (0 !== t)
                for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] += t;
            return this
        },
        scale: function(t) {
            if (1 !== t)
                for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] *= t;
            return this
        },
        trim: function(t, e) {
            for (var i = this.times, n = i.length, r = 0, o = n - 1; r !== n && i[r] < t;) ++r;
            for (; - 1 !== o && i[o] > e;) --o;
            if (++o, 0 !== r || o !== n) {
                r >= o && (r = (o = Math.max(o, 1)) - 1);
                var s = this.getValueSize();
                this.times = ua.arraySlice(i, r, o), this.values = ua.arraySlice(this.values, r * s, o * s)
            }
            return this
        },
        validate: function() {
            var t = !0,
                e = this.getValueSize();
            e - Math.floor(e) != 0 && (t = !1);
            var i = this.times,
                n = this.values,
                r = i.length;
            0 === r && (t = !1);
            for (var o = null, s = 0; s !== r; s++) {
                var a = i[s];
                if ("number" == typeof a && isNaN(a)) {
                    t = !1;
                    break
                }
                if (null !== o && o > a) {
                    t = !1;
                    break
                }
                o = a
            }
            if (void 0 !== n && ua.isTypedArray(n)) {
                s = 0;
                for (var c = n.length; s !== c; ++s) {
                    var l = n[s];
                    if (isNaN(l)) {
                        t = !1;
                        break
                    }
                }
            }
            return t
        },
        optimize: function() {
            for (var t = this.times, e = this.values, i = this.getValueSize(), n = 2302 === this.getInterpolation(), r = 1, o = t.length - 1, s = 1; s < o; ++s) {
                var a = !1,
                    c = t[s];
                if (c !== t[s + 1] && (1 !== s || c !== c[0]))
                    if (n) a = !0;
                    else
                        for (var l = s * i, u = l - i, h = l + i, p = 0; p !== i; ++p) {
                            var d = e[l + p];
                            if (d !== e[u + p] || d !== e[h + p]) {
                                a = !0;
                                break
                            }
                        }
                    if (a) {
                        if (s !== r) {
                            t[r] = t[s];
                            var f = s * i,
                                m = r * i;
                            for (p = 0; p !== i; ++p) e[m + p] = e[f + p]
                        }++r
                    }
            }
            if (o > 0) {
                t[r] = t[o];
                for (f = o * i, m = r * i, p = 0; p !== i; ++p) e[m + p] = e[f + p];
                ++r
            }
            return r !== t.length && (this.times = ua.arraySlice(t, 0, r), this.values = ua.arraySlice(e, 0, r * i)), this
        }
    }), va.prototype = Object.assign(Object.create(ma.prototype), {
        constructor: va,
        ValueTypeName: "bool",
        ValueBufferType: Array,
        DefaultInterpolation: 2300,
        InterpolantFactoryMethodLinear: void 0,
        InterpolantFactoryMethodSmooth: void 0
    }), ga.prototype = Object.assign(Object.create(ma.prototype), {
        constructor: ga,
        ValueTypeName: "color"
    }), ya.prototype = Object.assign(Object.create(ma.prototype), {
        constructor: ya,
        ValueTypeName: "number"
    }), _a.prototype = Object.assign(Object.create(ha.prototype), {
        constructor: _a,
        interpolate_: function(t, e, i, n) {
            for (var r = this.resultBuffer, o = this.sampleValues, s = this.valueSize, a = t * s, c = (i - e) / (n - e), l = a + s; a !== l; a += 4) Ie.slerpFlat(r, 0, o, a - s, o, a, c);
            return r
        }
    }), ba.prototype = Object.assign(Object.create(ma.prototype), {
        constructor: ba,
        ValueTypeName: "quaternion",
        DefaultInterpolation: 2301,
        InterpolantFactoryMethodLinear: function(t) {
            return new _a(this.times, this.values, this.getValueSize(), t)
        },
        InterpolantFactoryMethodSmooth: void 0
    }), xa.prototype = Object.assign(Object.create(ma.prototype), {
        constructor: xa,
        ValueTypeName: "string",
        ValueBufferType: Array,
        DefaultInterpolation: 2300,
        InterpolantFactoryMethodLinear: void 0,
        InterpolantFactoryMethodSmooth: void 0
    }), wa.prototype = Object.assign(Object.create(ma.prototype), {
        constructor: wa,
        ValueTypeName: "vector"
    }), Object.assign(Sa, {
        parse: function(t) {
            for (var e = [], i = t.tracks, n = 1 / (t.fps || 1), r = 0, o = i.length; r !== o; ++r) e.push(Ma(i[r]).scale(n));
            return new Sa(t.name, t.duration, e)
        },
        toJSON: function(t) {
            for (var e = [], i = t.tracks, n = {
                    name: t.name,
                    duration: t.duration,
                    tracks: e,
                    uuid: t.uuid
                }, r = 0, o = i.length; r !== o; ++r) e.push(ma.toJSON(i[r]));
            return n
        },
        CreateFromMorphTargetSequence: function(t, e, i, n) {
            for (var r = e.length, o = [], s = 0; s < r; s++) {
                var a = [],
                    c = [];
                a.push((s + r - 1) % r, s, (s + 1) % r), c.push(0, 1, 0);
                var l = ua.getKeyframeOrder(a);
                a = ua.sortedArray(a, 1, l), c = ua.sortedArray(c, 1, l), n || 0 !== a[0] || (a.push(r), c.push(c[0])), o.push(new ya(".morphTargetInfluences[" + e[s].name + "]", a, c).scale(1 / i))
            }
            return new Sa(t, -1, o)
        },
        findByName: function(t, e) {
            var i = t;
            if (!Array.isArray(t)) {
                var n = t;
                i = n.geometry && n.geometry.animations || n.animations
            }
            for (var r = 0; r < i.length; r++)
                if (i[r].name === e) return i[r];
            return null
        },
        CreateClipsFromMorphTargetSequences: function(t, e, i) {
            for (var n = {}, r = /^([\w-]*?)([\d]+)$/, o = 0, s = t.length; o < s; o++) {
                var a = t[o],
                    c = a.name.match(r);
                if (c && c.length > 1) {
                    var l = n[h = c[1]];
                    l || (n[h] = l = []), l.push(a)
                }
            }
            var u = [];
            for (var h in n) u.push(Sa.CreateFromMorphTargetSequence(h, n[h], e, i));
            return u
        },
        parseAnimation: function(t, e) {
            if (!t) return null;
            for (var i = function(t, e, i, n, r) {
                    if (0 !== i.length) {
                        var o = [],
                            s = [];
                        ua.flattenJSON(i, o, s, n), 0 !== o.length && r.push(new t(e, o, s))
                    }
                }, n = [], r = t.name || "default", o = t.length || -1, s = t.fps || 30, a = t.hierarchy || [], c = 0; c < a.length; c++) {
                var l = a[c].keys;
                if (l && 0 !== l.length)
                    if (l[0].morphTargets) {
                        for (var u = {}, h = 0; h < l.length; h++)
                            if (l[h].morphTargets)
                                for (var p = 0; p < l[h].morphTargets.length; p++) u[l[h].morphTargets[p]] = -1;
                        for (var d in u) {
                            var f = [],
                                m = [];
                            for (p = 0; p !== l[h].morphTargets.length; ++p) {
                                var v = l[h];
                                f.push(v.time), m.push(v.morphTarget === d ? 1 : 0)
                            }
                            n.push(new ya(".morphTargetInfluence[" + d + "]", f, m))
                        }
                        o = u.length * (s || 1)
                    } else {
                        var g = ".bones[" + e[c].name + "]";
                        i(wa, g + ".position", l, "pos", n), i(ba, g + ".quaternion", l, "rot", n), i(wa, g + ".scale", l, "scl", n)
                    }
            }
            return 0 === n.length ? null : new Sa(r, o, n)
        }
    }), Object.assign(Sa.prototype, {
        resetDuration: function() {
            for (var t = 0, e = 0, i = this.tracks.length; e !== i; ++e) {
                var n = this.tracks[e];
                t = Math.max(t, n.times[n.times.length - 1])
            }
            return this.duration = t, this
        },
        trim: function() {
            for (var t = 0; t < this.tracks.length; t++) this.tracks[t].trim(0, this.duration);
            return this
        },
        validate: function() {
            for (var t = !0, e = 0; e < this.tracks.length; e++) t = t && this.tracks[e].validate();
            return t
        },
        optimize: function() {
            for (var t = 0; t < this.tracks.length; t++) this.tracks[t].optimize();
            return this
        }
    }), Object.assign(Ta.prototype, {
        load: function(t, e, i, n) {
            var r = this;
            new As(r.manager).load(t, function(t) {
                e(r.parse(JSON.parse(t)))
            }, i, n)
        },
        setTextures: function(t) {
            this.textures = t
        },
        parse: function(t) {
            var e = this.textures;

            function i(t) {
                return e[t], e[t]
            }
            var n = new xs[t.type];
            if (void 0 !== t.uuid && (n.uuid = t.uuid), void 0 !== t.name && (n.name = t.name), void 0 !== t.color && n.color.setHex(t.color), void 0 !== t.roughness && (n.roughness = t.roughness), void 0 !== t.metalness && (n.metalness = t.metalness), void 0 !== t.emissive && n.emissive.setHex(t.emissive), void 0 !== t.specular && n.specular.setHex(t.specular), void 0 !== t.shininess && (n.shininess = t.shininess), void 0 !== t.clearCoat && (n.clearCoat = t.clearCoat), void 0 !== t.clearCoatRoughness && (n.clearCoatRoughness = t.clearCoatRoughness), void 0 !== t.vertexColors && (n.vertexColors = t.vertexColors), void 0 !== t.fog && (n.fog = t.fog), void 0 !== t.flatShading && (n.flatShading = t.flatShading), void 0 !== t.blending && (n.blending = t.blending), void 0 !== t.side && (n.side = t.side), void 0 !== t.opacity && (n.opacity = t.opacity), void 0 !== t.transparent && (n.transparent = t.transparent), void 0 !== t.alphaTest && (n.alphaTest = t.alphaTest), void 0 !== t.depthTest && (n.depthTest = t.depthTest), void 0 !== t.depthWrite && (n.depthWrite = t.depthWrite), void 0 !== t.colorWrite && (n.colorWrite = t.colorWrite), void 0 !== t.wireframe && (n.wireframe = t.wireframe), void 0 !== t.wireframeLinewidth && (n.wireframeLinewidth = t.wireframeLinewidth), void 0 !== t.wireframeLinecap && (n.wireframeLinecap = t.wireframeLinecap), void 0 !== t.wireframeLinejoin && (n.wireframeLinejoin = t.wireframeLinejoin), void 0 !== t.rotation && (n.rotation = t.rotation), 1 !== t.linewidth && (n.linewidth = t.linewidth), void 0 !== t.dashSize && (n.dashSize = t.dashSize), void 0 !== t.gapSize && (n.gapSize = t.gapSize), void 0 !== t.scale && (n.scale = t.scale), void 0 !== t.polygonOffset && (n.polygonOffset = t.polygonOffset), void 0 !== t.polygonOffsetFactor && (n.polygonOffsetFactor = t.polygonOffsetFactor), void 0 !== t.polygonOffsetUnits && (n.polygonOffsetUnits = t.polygonOffsetUnits), void 0 !== t.skinning && (n.skinning = t.skinning), void 0 !== t.morphTargets && (n.morphTargets = t.morphTargets), void 0 !== t.dithering && (n.dithering = t.dithering), void 0 !== t.visible && (n.visible = t.visible), void 0 !== t.userData && (n.userData = t.userData), void 0 !== t.uniforms)
                for (var r in t.uniforms) {
                    var o = t.uniforms[r];
                    switch (n.uniforms[r] = {}, o.type) {
                        case "t":
                            n.uniforms[r].value = i(o.value);
                            break;
                        case "c":
                            n.uniforms[r].value = (new ri).setHex(o.value);
                            break;
                        case "v2":
                            n.uniforms[r].value = (new ke).fromArray(o.value);
                            break;
                        case "v3":
                            n.uniforms[r].value = (new Re).fromArray(o.value);
                            break;
                        case "v4":
                            n.uniforms[r].value = (new We).fromArray(o.value);
                            break;
                        case "m4":
                            n.uniforms[r].value = (new Le).fromArray(o.value);
                            break;
                        default:
                            n.uniforms[r].value = o.value
                    }
                }
            if (void 0 !== t.defines && (n.defines = t.defines), void 0 !== t.vertexShader && (n.vertexShader = t.vertexShader), void 0 !== t.fragmentShader && (n.fragmentShader = t.fragmentShader), void 0 !== t.shading && (n.flatShading = 1 === t.shading), void 0 !== t.size && (n.size = t.size), void 0 !== t.sizeAttenuation && (n.sizeAttenuation = t.sizeAttenuation), void 0 !== t.map && (n.map = i(t.map)), void 0 !== t.alphaMap && (n.alphaMap = i(t.alphaMap), n.transparent = !0), void 0 !== t.bumpMap && (n.bumpMap = i(t.bumpMap)), void 0 !== t.bumpScale && (n.bumpScale = t.bumpScale), void 0 !== t.normalMap && (n.normalMap = i(t.normalMap)), void 0 !== t.normalMapType && (n.normalMapType = t.normalMapType), void 0 !== t.normalScale) {
                var s = t.normalScale;
                !1 === Array.isArray(s) && (s = [s, s]), n.normalScale = (new ke).fromArray(s)
            }
            return void 0 !== t.displacementMap && (n.displacementMap = i(t.displacementMap)), void 0 !== t.displacementScale && (n.displacementScale = t.displacementScale), void 0 !== t.displacementBias && (n.displacementBias = t.displacementBias), void 0 !== t.roughnessMap && (n.roughnessMap = i(t.roughnessMap)), void 0 !== t.metalnessMap && (n.metalnessMap = i(t.metalnessMap)), void 0 !== t.emissiveMap && (n.emissiveMap = i(t.emissiveMap)), void 0 !== t.emissiveIntensity && (n.emissiveIntensity = t.emissiveIntensity), void 0 !== t.specularMap && (n.specularMap = i(t.specularMap)), void 0 !== t.envMap && (n.envMap = i(t.envMap)), void 0 !== t.reflectivity && (n.reflectivity = t.reflectivity), void 0 !== t.lightMap && (n.lightMap = i(t.lightMap)), void 0 !== t.lightMapIntensity && (n.lightMapIntensity = t.lightMapIntensity), void 0 !== t.aoMap && (n.aoMap = i(t.aoMap)), void 0 !== t.aoMapIntensity && (n.aoMapIntensity = t.aoMapIntensity), void 0 !== t.gradientMap && (n.gradientMap = i(t.gradientMap)), n
        }
    }), Object.assign(Aa.prototype, {
        load: function(t, e, i, n) {
            var r = this;
            new As(r.manager).load(t, function(t) {
                e(r.parse(JSON.parse(t)))
            }, i, n)
        },
        parse: function(t) {
            var e = new Fi,
                i = t.data.index;
            if (void 0 !== i) {
                var n = new ka[i.type](i.array);
                e.setIndex(new Ti(n, 1))
            }
            var r = t.data.attributes;
            for (var o in r) {
                var s = r[o];
                n = new ka[s.type](s.array);
                e.addAttribute(o, new Ti(n, s.itemSize, s.normalized))
            }
            var a = t.data.groups || t.data.drawcalls || t.data.offsets;
            if (void 0 !== a)
                for (var c = 0, l = a.length; c !== l; ++c) {
                    var u = a[c];
                    e.addGroup(u.start, u.count, u.materialIndex)
                }
            var h = t.data.boundingSphere;
            if (void 0 !== h) {
                var p = new Re;
                void 0 !== h.center && p.fromArray(h.center), e.boundingSphere = new Ye(p, h.radius)
            }
            return e
        }
    });
    var Ca, Ea, Oa, Pa, ka = {
        Int8Array: Int8Array,
        Uint8Array: Uint8Array,
        Uint8ClampedArray: "undefined" != typeof Uint8ClampedArray ? Uint8ClampedArray : Uint8Array,
        Int16Array: Int16Array,
        Uint16Array: Uint16Array,
        Int32Array: Int32Array,
        Uint32Array: Uint32Array,
        Float32Array: Float32Array,
        Float64Array: Float64Array
    };

    function La() {}
    La.Handlers = {
        handlers: [],
        add: function(t, e) {
            this.handlers.push(t, e)
        },
        get: function(t) {
            for (var e = this.handlers, i = 0, n = e.length; i < n; i += 2) {
                var r = e[i],
                    o = e[i + 1];
                if (r.test(t)) return o
            }
            return null
        }
    }, Object.assign(La.prototype, {
        crossOrigin: "anonymous",
        onLoadStart: function() {},
        onLoadProgress: function() {},
        onLoadComplete: function() {},
        initMaterials: function(t, e, i) {
            for (var n = [], r = 0; r < t.length; ++r) n[r] = this.createMaterial(t[r], e, i);
            return n
        },
        createMaterial: (Ca = {
            NoBlending: A,
            NormalBlending: C,
            AdditiveBlending: E,
            SubtractiveBlending: O,
            MultiplyBlending: P,
            CustomBlending: k
        }, Ea = new ri, Oa = new Ps, Pa = new Ta, function(t, e, i) {
            var n = {};

            function r(t, r, o, s, a) {
                var c, l = e + t,
                    u = La.Handlers.get(l);
                null !== u ? c = u.load(l) : (Oa.setCrossOrigin(i), c = Oa.load(l)), void 0 !== r && (c.repeat.fromArray(r), 1 !== r[0] && (c.wrapS = gt), 1 !== r[1] && (c.wrapT = gt)), void 0 !== o && c.offset.fromArray(o), void 0 !== s && ("repeat" === s[0] && (c.wrapS = gt), "mirror" === s[0] && (c.wrapS = _t), "repeat" === s[1] && (c.wrapT = gt), "mirror" === s[1] && (c.wrapT = _t)), void 0 !== a && (c.anisotropy = a);
                var h = Pe.generateUUID();
                return n[h] = c, h
            }
            var o = {
                uuid: Pe.generateUUID(),
                type: "MeshLambertMaterial"
            };
            for (var s in t) {
                var a = t[s];
                switch (s) {
                    case "DbgColor":
                    case "DbgIndex":
                    case "opticalDensity":
                    case "illumination":
                        break;
                    case "DbgName":
                        o.name = a;
                        break;
                    case "blending":
                        o.blending = Ca[a];
                        break;
                    case "colorAmbient":
                    case "mapAmbient":
                        break;
                    case "colorDiffuse":
                        o.color = Ea.fromArray(a).getHex();
                        break;
                    case "colorSpecular":
                        o.specular = Ea.fromArray(a).getHex();
                        break;
                    case "colorEmissive":
                        o.emissive = Ea.fromArray(a).getHex();
                        break;
                    case "specularCoef":
                        o.shininess = a;
                        break;
                    case "shading":
                        "basic" === a.toLowerCase() && (o.type = "MeshBasicMaterial"), "phong" === a.toLowerCase() && (o.type = "MeshPhongMaterial"), "standard" === a.toLowerCase() && (o.type = "MeshStandardMaterial");
                        break;
                    case "mapDiffuse":
                        o.map = r(a, t.mapDiffuseRepeat, t.mapDiffuseOffset, t.mapDiffuseWrap, t.mapDiffuseAnisotropy);
                        break;
                    case "mapDiffuseRepeat":
                    case "mapDiffuseOffset":
                    case "mapDiffuseWrap":
                    case "mapDiffuseAnisotropy":
                        break;
                    case "mapEmissive":
                        o.emissiveMap = r(a, t.mapEmissiveRepeat, t.mapEmissiveOffset, t.mapEmissiveWrap, t.mapEmissiveAnisotropy);
                        break;
                    case "mapEmissiveRepeat":
                    case "mapEmissiveOffset":
                    case "mapEmissiveWrap":
                    case "mapEmissiveAnisotropy":
                        break;
                    case "mapLight":
                        o.lightMap = r(a, t.mapLightRepeat, t.mapLightOffset, t.mapLightWrap, t.mapLightAnisotropy);
                        break;
                    case "mapLightRepeat":
                    case "mapLightOffset":
                    case "mapLightWrap":
                    case "mapLightAnisotropy":
                        break;
                    case "mapAO":
                        o.aoMap = r(a, t.mapAORepeat, t.mapAOOffset, t.mapAOWrap, t.mapAOAnisotropy);
                        break;
                    case "mapAORepeat":
                    case "mapAOOffset":
                    case "mapAOWrap":
                    case "mapAOAnisotropy":
                        break;
                    case "mapBump":
                        o.bumpMap = r(a, t.mapBumpRepeat, t.mapBumpOffset, t.mapBumpWrap, t.mapBumpAnisotropy);
                        break;
                    case "mapBumpScale":
                        o.bumpScale = a;
                        break;
                    case "mapBumpRepeat":
                    case "mapBumpOffset":
                    case "mapBumpWrap":
                    case "mapBumpAnisotropy":
                        break;
                    case "mapNormal":
                        o.normalMap = r(a, t.mapNormalRepeat, t.mapNormalOffset, t.mapNormalWrap, t.mapNormalAnisotropy);
                        break;
                    case "mapNormalFactor":
                        o.normalScale = a;
                        break;
                    case "mapNormalRepeat":
                    case "mapNormalOffset":
                    case "mapNormalWrap":
                    case "mapNormalAnisotropy":
                        break;
                    case "mapSpecular":
                        o.specularMap = r(a, t.mapSpecularRepeat, t.mapSpecularOffset, t.mapSpecularWrap, t.mapSpecularAnisotropy);
                        break;
                    case "mapSpecularRepeat":
                    case "mapSpecularOffset":
                    case "mapSpecularWrap":
                    case "mapSpecularAnisotropy":
                        break;
                    case "mapMetalness":
                        o.metalnessMap = r(a, t.mapMetalnessRepeat, t.mapMetalnessOffset, t.mapMetalnessWrap, t.mapMetalnessAnisotropy);
                        break;
                    case "mapMetalnessRepeat":
                    case "mapMetalnessOffset":
                    case "mapMetalnessWrap":
                    case "mapMetalnessAnisotropy":
                        break;
                    case "mapRoughness":
                        o.roughnessMap = r(a, t.mapRoughnessRepeat, t.mapRoughnessOffset, t.mapRoughnessWrap, t.mapRoughnessAnisotropy);
                        break;
                    case "mapRoughnessRepeat":
                    case "mapRoughnessOffset":
                    case "mapRoughnessWrap":
                    case "mapRoughnessAnisotropy":
                        break;
                    case "mapAlpha":
                        o.alphaMap = r(a, t.mapAlphaRepeat, t.mapAlphaOffset, t.mapAlphaWrap, t.mapAlphaAnisotropy);
                        break;
                    case "mapAlphaRepeat":
                    case "mapAlphaOffset":
                    case "mapAlphaWrap":
                    case "mapAlphaAnisotropy":
                        break;
                    case "flipSided":
                        o.side = x;
                        break;
                    case "doubleSided":
                        o.side = w;
                        break;
                    case "transparency":
                        o.opacity = a;
                        break;
                    case "depthTest":
                    case "depthWrite":
                    case "colorWrite":
                    case "opacity":
                    case "reflectivity":
                    case "transparent":
                    case "visible":
                    case "wireframe":
                        o[s] = a;
                        break;
                    case "vertexColors":
                        !0 === a && (o.vertexColors = T), "face" === a && (o.vertexColors = M)
                }
            }
            return "MeshBasicMaterial" === o.type && delete o.emissive, "MeshPhongMaterial" !== o.type && delete o.specular, o.opacity < 1 && (o.transparent = !0), Pa.setTextures(n), Pa.parse(o)
        })
    });
    var Ia = function(t) {
        var e = t.lastIndexOf("https://lineagem.plaync.com/");
        return -1 === e ? "./" : t.substr(0, e + 1)
    };

    function Ra(t) {
        "boolean" == typeof t && (t = void 0), this.manager = void 0 !== t ? t : Ms, this.withCredentials = !1
    }
    Object.assign(Ra.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, i, n) {
            var r = this,
                o = this.texturePath && "string" == typeof this.texturePath ? this.texturePath : Ia(t),
                s = new As(this.manager);
            s.setWithCredentials(this.withCredentials), s.load(t, function(t) {
                var i = JSON.parse(t),
                    n = i.metadata;
                if (void 0 !== n) {
                    var s = n.type;
                    if (void 0 !== s && "object" === s.toLowerCase()) return
                }
                var a = r.parse(i, o);
                e(a.geometry, a.materials)
            }, i, n)
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t, this
        },
        setTexturePath: function(t) {
            return this.texturePath = t, this
        },
        parse: function() {
            return function(t, e) {
                void 0 !== t.data && (t = t.data), void 0 !== t.scale ? t.scale = 1 / t.scale : t.scale = 1;
                var i = new Mi;
                return function(t, e) {
                        function i(t, e) {
                            return t & 1 << e
                        }
                        var n, r, o, s, a, c, l, u, h, p, d, f, m, v, g, y, _, b, x, w, S, M, T, A, C, E = t.faces,
                            O = t.vertices,
                            P = t.normals,
                            k = t.colors,
                            L = t.scale,
                            I = 0;
                        if (void 0 !== t.uvs) {
                            for (n = 0; n < t.uvs.length; n++) t.uvs[n].length && I++;
                            for (n = 0; n < I; n++) e.faceVertexUvs[n] = []
                        }
                        for (s = 0, a = O.length; s < a;)(b = new Re).x = O[s++] * L, b.y = O[s++] * L, b.z = O[s++] * L, e.vertices.push(b);
                        for (s = 0, a = E.length; s < a;)
                            if (d = i(p = E[s++], 0), f = i(p, 1), m = i(p, 3), v = i(p, 4), g = i(p, 5), y = i(p, 6), _ = i(p, 7), d) {
                                if ((w = new bi).a = E[s], w.b = E[s + 1], w.c = E[s + 3], (S = new bi).a = E[s + 1], S.b = E[s + 2], S.c = E[s + 3], s += 4, f && (h = E[s++], w.materialIndex = h, S.materialIndex = h), o = e.faces.length, m)
                                    for (n = 0; n < I; n++)
                                        for (A = t.uvs[n], e.faceVertexUvs[n][o] = [], e.faceVertexUvs[n][o + 1] = [], r = 0; r < 4; r++) C = new ke(A[2 * (u = E[s++])], A[2 * u + 1]), 2 !== r && e.faceVertexUvs[n][o].push(C), 0 !== r && e.faceVertexUvs[n][o + 1].push(C);
                                if (v && (l = 3 * E[s++], w.normal.set(P[l++], P[l++], P[l]), S.normal.copy(w.normal)), g)
                                    for (n = 0; n < 4; n++) l = 3 * E[s++], T = new Re(P[l++], P[l++], P[l]), 2 !== n && w.vertexNormals.push(T), 0 !== n && S.vertexNormals.push(T);
                                if (y && (M = k[c = E[s++]], w.color.setHex(M), S.color.setHex(M)), _)
                                    for (n = 0; n < 4; n++) M = k[c = E[s++]], 2 !== n && w.vertexColors.push(new ri(M)), 0 !== n && S.vertexColors.push(new ri(M));
                                e.faces.push(w), e.faces.push(S)
                            } else {
                                if ((x = new bi).a = E[s++], x.b = E[s++], x.c = E[s++], f && (h = E[s++], x.materialIndex = h), o = e.faces.length, m)
                                    for (n = 0; n < I; n++)
                                        for (A = t.uvs[n], e.faceVertexUvs[n][o] = [], r = 0; r < 3; r++) C = new ke(A[2 * (u = E[s++])], A[2 * u + 1]), e.faceVertexUvs[n][o].push(C);
                                if (v && (l = 3 * E[s++], x.normal.set(P[l++], P[l++], P[l])), g)
                                    for (n = 0; n < 3; n++) l = 3 * E[s++], T = new Re(P[l++], P[l++], P[l]), x.vertexNormals.push(T);
                                if (y && (c = E[s++], x.color.setHex(k[c])), _)
                                    for (n = 0; n < 3; n++) c = E[s++], x.vertexColors.push(new ri(k[c]));
                                e.faces.push(x)
                            }
                    }(t, i),
                    function(t, e) {
                        var i = void 0 !== t.influencesPerVertex ? t.influencesPerVertex : 2;
                        if (t.skinWeights)
                            for (var n = 0, r = t.skinWeights.length; n < r; n += i) {
                                var o = t.skinWeights[n],
                                    s = i > 1 ? t.skinWeights[n + 1] : 0,
                                    a = i > 2 ? t.skinWeights[n + 2] : 0,
                                    c = i > 3 ? t.skinWeights[n + 3] : 0;
                                e.skinWeights.push(new We(o, s, a, c))
                            }
                        if (t.skinIndices)
                            for (n = 0, r = t.skinIndices.length; n < r; n += i) {
                                var l = t.skinIndices[n],
                                    u = i > 1 ? t.skinIndices[n + 1] : 0,
                                    h = i > 2 ? t.skinIndices[n + 2] : 0,
                                    p = i > 3 ? t.skinIndices[n + 3] : 0;
                                e.skinIndices.push(new We(l, u, h, p))
                            }
                        e.bones = t.bones, e.bones && e.bones.length > 0 && (e.skinWeights.length !== e.skinIndices.length || (e.skinIndices.length, e.vertices.length))
                    }(t, i),
                    function(t, e) {
                        var i = t.scale;
                        if (void 0 !== t.morphTargets)
                            for (var n = 0, r = t.morphTargets.length; n < r; n++) {
                                e.morphTargets[n] = {}, e.morphTargets[n].name = t.morphTargets[n].name, e.morphTargets[n].vertices = [];
                                for (var o = e.morphTargets[n].vertices, s = t.morphTargets[n].vertices, a = 0, c = s.length; a < c; a += 3) {
                                    var l = new Re;
                                    l.x = s[a] * i, l.y = s[a + 1] * i, l.z = s[a + 2] * i, o.push(l)
                                }
                            }
                        if (void 0 !== t.morphColors && t.morphColors.length > 0) {
                            var u = e.faces,
                                h = t.morphColors[0].colors;
                            for (n = 0, r = u.length; n < r; n++) u[n].color.fromArray(h, 3 * n)
                        }
                    }(t, i),
                    function(t, e) {
                        var i = [],
                            n = [];
                        void 0 !== t.animation && n.push(t.animation), void 0 !== t.animations && (t.animations.length ? n = n.concat(t.animations) : n.push(t.animations));
                        for (var r = 0; r < n.length; r++) {
                            var o = Sa.parseAnimation(n[r], e.bones);
                            o && i.push(o)
                        }
                        if (e.morphTargets) {
                            var s = Sa.CreateClipsFromMorphTargetSequences(e.morphTargets, 10);
                            i = i.concat(s)
                        }
                        i.length > 0 && (e.animations = i)
                    }(t, i), i.computeFaceNormals(), i.computeBoundingSphere(), void 0 === t.materials || 0 === t.materials.length ? {
                        geometry: i
                    } : {
                        geometry: i,
                        materials: La.prototype.initMaterials(t.materials, e, this.crossOrigin)
                    }
            }
        }()
    }), Object.assign(function(t) {
        this.manager = void 0 !== t ? t : Ms, this.texturePath = ""
    }.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, i, n) {
            "" === this.texturePath && (this.texturePath = t.substring(0, t.lastIndexOf("https://lineagem.plaync.com/") + 1));
            var r = this;
            new As(r.manager).load(t, function(t) {
                var i = null;
                try {
                    i = JSON.parse(t)
                } catch (t) {
                    return void(void 0 !== n && n(t))
                }
                var o = i.metadata;
                void 0 !== o && void 0 !== o.type && "geometry" !== o.type.toLowerCase() && r.parse(i, e)
            }, i, n)
        },
        setTexturePath: function(t) {
            return this.texturePath = t, this
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t, this
        },
        parse: function(t, e) {
            var i = this.parseShape(t.shapes),
                n = this.parseGeometries(t.geometries, i),
                r = this.parseImages(t.images, function() {
                    void 0 !== e && e(a)
                }),
                o = this.parseTextures(t.textures, r),
                s = this.parseMaterials(t.materials, o),
                a = this.parseObject(t.object, n, s);
            return t.animations && (a.animations = this.parseAnimations(t.animations)), void 0 !== t.images && 0 !== t.images.length || void 0 !== e && e(a), a
        },
        parseShape: function(t) {
            var e = {};
            if (void 0 !== t)
                for (var i = 0, n = t.length; i < n; i++) {
                    var r = (new Ks).fromJSON(t[i]);
                    e[r.uuid] = r
                }
            return e
        },
        parseGeometries: function(t, e) {
            var i = {};
            if (void 0 !== t)
                for (var n = new Ra, r = new Aa, o = 0, s = t.length; o < s; o++) {
                    var a, c = t[o];
                    switch (c.type) {
                        case "PlaneGeometry":
                        case "PlaneBufferGeometry":
                            a = new hs[c.type](c.width, c.height, c.widthSegments, c.heightSegments);
                            break;
                        case "BoxGeometry":
                        case "BoxBufferGeometry":
                        case "CubeGeometry":
                            a = new hs[c.type](c.width, c.height, c.depth, c.widthSegments, c.heightSegments, c.depthSegments);
                            break;
                        case "CircleGeometry":
                        case "CircleBufferGeometry":
                            a = new hs[c.type](c.radius, c.segments, c.thetaStart, c.thetaLength);
                            break;
                        case "CylinderGeometry":
                        case "CylinderBufferGeometry":
                            a = new hs[c.type](c.radiusTop, c.radiusBottom, c.height, c.radialSegments, c.heightSegments, c.openEnded, c.thetaStart, c.thetaLength);
                            break;
                        case "ConeGeometry":
                        case "ConeBufferGeometry":
                            a = new hs[c.type](c.radius, c.height, c.radialSegments, c.heightSegments, c.openEnded, c.thetaStart, c.thetaLength);
                            break;
                        case "SphereGeometry":
                        case "SphereBufferGeometry":
                            a = new hs[c.type](c.radius, c.widthSegments, c.heightSegments, c.phiStart, c.phiLength, c.thetaStart, c.thetaLength);
                            break;
                        case "DodecahedronGeometry":
                        case "DodecahedronBufferGeometry":
                        case "IcosahedronGeometry":
                        case "IcosahedronBufferGeometry":
                        case "OctahedronGeometry":
                        case "OctahedronBufferGeometry":
                        case "TetrahedronGeometry":
                        case "TetrahedronBufferGeometry":
                            a = new hs[c.type](c.radius, c.detail);
                            break;
                        case "RingGeometry":
                        case "RingBufferGeometry":
                            a = new hs[c.type](c.innerRadius, c.outerRadius, c.thetaSegments, c.phiSegments, c.thetaStart, c.thetaLength);
                            break;
                        case "TorusGeometry":
                        case "TorusBufferGeometry":
                            a = new hs[c.type](c.radius, c.tube, c.radialSegments, c.tubularSegments, c.arc);
                            break;
                        case "TorusKnotGeometry":
                        case "TorusKnotBufferGeometry":
                            a = new hs[c.type](c.radius, c.tube, c.tubularSegments, c.radialSegments, c.p, c.q);
                            break;
                        case "LatheGeometry":
                        case "LatheBufferGeometry":
                            a = new hs[c.type](c.points, c.segments, c.phiStart, c.phiLength);
                            break;
                        case "PolyhedronGeometry":
                        case "PolyhedronBufferGeometry":
                            a = new hs[c.type](c.vertices, c.indices, c.radius, c.details);
                            break;
                        case "ShapeGeometry":
                        case "ShapeBufferGeometry":
                            for (var l = [], u = 0, h = c.shapes.length; u < h; u++) {
                                var p = e[c.shapes[u]];
                                l.push(p)
                            }
                            a = new hs[c.type](l, c.curveSegments);
                            break;
                        case "ExtrudeGeometry":
                        case "ExtrudeBufferGeometry":
                            for (l = [], u = 0, h = c.shapes.length; u < h; u++) {
                                p = e[c.shapes[u]];
                                l.push(p)
                            }
                            var d = c.options.extrudePath;
                            void 0 !== d && (c.options.extrudePath = (new Zs[d.type]).fromJSON(d)), a = new hs[c.type](l, c.options);
                            break;
                        case "BufferGeometry":
                            a = r.parse(c);
                            break;
                        case "Geometry":
                            a = n.parse(c, this.texturePath).geometry;
                            break;
                        default:
                            continue
                    }
                    a.uuid = c.uuid, void 0 !== c.name && (a.name = c.name), !0 === a.isBufferGeometry && void 0 !== c.userData && (a.userData = c.userData), i[c.uuid] = a
                }
            return i
        },
        parseMaterials: function(t, e) {
            var i = {};
            if (void 0 !== t) {
                var n = new Ta;
                n.setTextures(e);
                for (var r = 0, o = t.length; r < o; r++) {
                    var s = t[r];
                    if ("MultiMaterial" === s.type) {
                        for (var a = [], c = 0; c < s.materials.length; c++) a.push(n.parse(s.materials[c]));
                        i[s.uuid] = a
                    } else i[s.uuid] = n.parse(s)
                }
            }
            return i
        },
        parseAnimations: function(t) {
            for (var e = [], i = 0; i < t.length; i++) {
                var n = t[i],
                    r = Sa.parse(n);
                void 0 !== n.uuid && (r.uuid = n.uuid), e.push(r)
            }
            return e
        },
        parseImages: function(t, e) {
            var i = this,
                n = {};

            function r(t) {
                return i.manager.itemStart(t), o.load(t, function() {
                    i.manager.itemEnd(t)
                }, void 0, function() {
                    i.manager.itemEnd(t), i.manager.itemError(t)
                })
            }
            if (void 0 !== t && t.length > 0) {
                var o = new Es(new Ss(e));
                o.setCrossOrigin(this.crossOrigin);
                for (var s = 0, a = t.length; s < a; s++) {
                    var c = t[s],
                        l = c.url;
                    if (Array.isArray(l)) {
                        n[c.uuid] = [];
                        for (var u = 0, h = l.length; u < h; u++) {
                            var p = l[u],
                                d = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(p) ? p : i.texturePath + p;
                            n[c.uuid].push(r(d))
                        }
                    } else {
                        d = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url) ? c.url : i.texturePath + c.url;
                        n[c.uuid] = r(d)
                    }
                }
            }
            return n
        },
        parseTextures: function(t, e) {
            function i(t, e) {
                return "number" == typeof t ? t : e[t]
            }
            var n = {};
            if (void 0 !== t)
                for (var r = 0, o = t.length; r < o; r++) {
                    var s, a = t[r];
                    a.image, e[a.image], (s = Array.isArray(e[a.image]) ? new un(e[a.image]) : new Ge(e[a.image])).needsUpdate = !0, s.uuid = a.uuid, void 0 !== a.name && (s.name = a.name), void 0 !== a.mapping && (s.mapping = i(a.mapping, Na)), void 0 !== a.offset && s.offset.fromArray(a.offset), void 0 !== a.repeat && s.repeat.fromArray(a.repeat), void 0 !== a.center && s.center.fromArray(a.center), void 0 !== a.rotation && (s.rotation = a.rotation), void 0 !== a.wrap && (s.wrapS = i(a.wrap[0], za), s.wrapT = i(a.wrap[1], za)), void 0 !== a.format && (s.format = a.format), void 0 !== a.minFilter && (s.minFilter = i(a.minFilter, Fa)), void 0 !== a.magFilter && (s.magFilter = i(a.magFilter, Fa)), void 0 !== a.anisotropy && (s.anisotropy = a.anisotropy), void 0 !== a.flipY && (s.flipY = a.flipY), n[a.uuid] = s
                }
            return n
        },
        parseObject: function(t, e, i) {
            var n;

            function r(t) {
                return e[t], e[t]
            }

            function o(t) {
                if (void 0 !== t) {
                    if (Array.isArray(t)) {
                        for (var e = [], n = 0, r = t.length; n < r; n++) {
                            var o = t[n];
                            i[o], e.push(i[o])
                        }
                        return e
                    }
                    return i[t], i[t]
                }
            }
            switch (t.type) {
                case "Scene":
                    n = new Ir, void 0 !== t.background && Number.isInteger(t.background) && (n.background = new ri(t.background)), void 0 !== t.fog && ("Fog" === t.fog.type ? n.fog = new Lr(t.fog.color, t.fog.near, t.fog.far) : "FogExp2" === t.fog.type && (n.fog = new kr(t.fog.color, t.fog.density)));
                    break;
                case "PerspectiveCamera":
                    n = new Cr(t.fov, t.aspect, t.near, t.far), void 0 !== t.focus && (n.focus = t.focus), void 0 !== t.zoom && (n.zoom = t.zoom), void 0 !== t.filmGauge && (n.filmGauge = t.filmGauge), void 0 !== t.filmOffset && (n.filmOffset = t.filmOffset), void 0 !== t.view && (n.view = Object.assign({}, t.view));
                    break;
                case "OrthographicCamera":
                    n = new _i(t.left, t.right, t.top, t.bottom, t.near, t.far), void 0 !== t.zoom && (n.zoom = t.zoom), void 0 !== t.view && (n.view = Object.assign({}, t.view));
                    break;
                case "AmbientLight":
                    n = new ca(t.color, t.intensity);
                    break;
                case "DirectionalLight":
                    n = new aa(t.color, t.intensity);
                    break;
                case "PointLight":
                    n = new oa(t.color, t.intensity, t.distance, t.decay);
                    break;
                case "RectAreaLight":
                    n = new la(t.color, t.intensity, t.width, t.height);
                    break;
                case "SpotLight":
                    n = new ra(t.color, t.intensity, t.distance, t.angle, t.penumbra, t.decay);
                    break;
                case "HemisphereLight":
                    n = new ea(t.color, t.groundColor, t.intensity);
                    break;
                case "SkinnedMesh":
                case "Mesh":
                    var s = r(t.geometry),
                        a = o(t.material);
                    n = s.bones && s.bones.length > 0 ? new Ur(s, a) : new cn(s, a);
                    break;
                case "LOD":
                    n = new Fr;
                    break;
                case "Line":
                    n = new Gr(r(t.geometry), o(t.material), t.mode);
                    break;
                case "LineLoop":
                    n = new Hr(r(t.geometry), o(t.material));
                    break;
                case "LineSegments":
                    n = new Wr(r(t.geometry), o(t.material));
                    break;
                case "PointCloud":
                case "Points":
                    n = new Xr(r(t.geometry), o(t.material));
                    break;
                case "Sprite":
                    n = new zr(o(t.material));
                    break;
                case "Group":
                    n = new Ar;
                    break;
                default:
                    n = new gi
            }
            if (n.uuid = t.uuid, void 0 !== t.name && (n.name = t.name), void 0 !== t.matrix ? (n.matrix.fromArray(t.matrix), void 0 !== t.matrixAutoUpdate && (n.matrixAutoUpdate = t.matrixAutoUpdate), n.matrixAutoUpdate && n.matrix.decompose(n.position, n.quaternion, n.scale)) : (void 0 !== t.position && n.position.fromArray(t.position), void 0 !== t.rotation && n.rotation.fromArray(t.rotation), void 0 !== t.quaternion && n.quaternion.fromArray(t.quaternion), void 0 !== t.scale && n.scale.fromArray(t.scale)), void 0 !== t.castShadow && (n.castShadow = t.castShadow), void 0 !== t.receiveShadow && (n.receiveShadow = t.receiveShadow), t.shadow && (void 0 !== t.shadow.bias && (n.shadow.bias = t.shadow.bias), void 0 !== t.shadow.radius && (n.shadow.radius = t.shadow.radius), void 0 !== t.shadow.mapSize && n.shadow.mapSize.fromArray(t.shadow.mapSize), void 0 !== t.shadow.camera && (n.shadow.camera = this.parseObject(t.shadow.camera))), void 0 !== t.visible && (n.visible = t.visible), void 0 !== t.frustumCulled && (n.frustumCulled = t.frustumCulled), void 0 !== t.renderOrder && (n.renderOrder = t.renderOrder), void 0 !== t.userData && (n.userData = t.userData), void 0 !== t.layers && (n.layers.mask = t.layers), void 0 !== t.children)
                for (var c = t.children, l = 0; l < c.length; l++) n.add(this.parseObject(c[l], e, i));
            if ("LOD" === t.type)
                for (var u = t.levels, h = 0; h < u.length; h++) {
                    var p = u[h],
                        d = n.getObjectByProperty("uuid", p.object);
                    void 0 !== d && n.addLevel(d, p.distance)
                }
            return n
        }
    });
    var Da, Na = {
            UVMapping: 300,
            CubeReflectionMapping: ut,
            CubeRefractionMapping: ht,
            EquirectangularReflectionMapping: pt,
            EquirectangularRefractionMapping: dt,
            SphericalReflectionMapping: ft,
            CubeUVReflectionMapping: mt,
            CubeUVRefractionMapping: vt
        },
        za = {
            RepeatWrapping: gt,
            ClampToEdgeWrapping: yt,
            MirroredRepeatWrapping: _t
        },
        Fa = {
            NearestFilter: bt,
            NearestMipMapNearestFilter: xt,
            NearestMipMapLinearFilter: wt,
            LinearFilter: St,
            LinearMipMapNearestFilter: Mt,
            LinearMipMapLinearFilter: Tt
        };

    function Ba(t) {
        this.manager = void 0 !== t ? t : Ms, this.options = void 0
    }

    function ja() {
        this.type = "ShapePath", this.color = new ri, this.subPaths = [], this.currentPath = null
    }

    function Ua(t) {
        this.type = "Font", this.data = t
    }

    function Va(t, e, i, n, r) {
        var o = r.glyphs[t] || r.glyphs["?"];
        if (o) {
            var s, a, c, l, u, h, p, d, f = new ja;
            if (o.o)
                for (var m = o._cachedOutline || (o._cachedOutline = o.o.split(" ")), v = 0, g = m.length; v < g;) {
                    switch (m[v++]) {
                        case "m":
                            s = m[v++] * e + i, a = m[v++] * e + n, f.moveTo(s, a);
                            break;
                        case "l":
                            s = m[v++] * e + i, a = m[v++] * e + n, f.lineTo(s, a);
                            break;
                        case "q":
                            c = m[v++] * e + i, l = m[v++] * e + n, u = m[v++] * e + i, h = m[v++] * e + n, f.quadraticCurveTo(u, h, c, l);
                            break;
                        case "b":
                            c = m[v++] * e + i, l = m[v++] * e + n, u = m[v++] * e + i, h = m[v++] * e + n, p = m[v++] * e + i, d = m[v++] * e + n, f.bezierCurveTo(u, h, p, d, c, l)
                    }
                }
            return {
                offsetX: o.ha * e,
                path: f
            }
        }
    }
    Ba.prototype = {
        constructor: Ba,
        setOptions: function(t) {
            return this.options = t, this
        },
        load: function(t, e, i, n) {
            void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t), t = this.manager.resolveURL(t);
            var r = this,
                o = ws.get(t);
            if (void 0 !== o) return r.manager.itemStart(t), setTimeout(function() {
                e && e(o), r.manager.itemEnd(t)
            }, 0), o;
            fetch(t).then(function(t) {
                return t.blob()
            }).then(function(t) {
                return createImageBitmap(t, r.options)
            }).then(function(i) {
                ws.add(t, i), e && e(i), r.manager.itemEnd(t)
            }).catch(function(e) {
                n && n(e), r.manager.itemEnd(t), r.manager.itemError(t)
            })
        },
        setCrossOrigin: function() {
            return this
        },
        setPath: function(t) {
            return this.path = t, this
        }
    }, Object.assign(ja.prototype, {
        moveTo: function(t, e) {
            this.currentPath = new Qs, this.subPaths.push(this.currentPath), this.currentPath.moveTo(t, e)
        },
        lineTo: function(t, e) {
            this.currentPath.lineTo(t, e)
        },
        quadraticCurveTo: function(t, e, i, n) {
            this.currentPath.quadraticCurveTo(t, e, i, n)
        },
        bezierCurveTo: function(t, e, i, n, r, o) {
            this.currentPath.bezierCurveTo(t, e, i, n, r, o)
        },
        splineThru: function(t) {
            this.currentPath.splineThru(t)
        },
        toShapes: function(t, e) {
            function i(t) {
                for (var e = [], i = 0, n = t.length; i < n; i++) {
                    var r = t[i],
                        o = new Ks;
                    o.curves = r.curves, e.push(o)
                }
                return e
            }

            function n(t, e) {
                for (var i = e.length, n = !1, r = i - 1, o = 0; o < i; r = o++) {
                    var s = e[r],
                        a = e[o],
                        c = a.x - s.x,
                        l = a.y - s.y;
                    if (Math.abs(l) > Number.EPSILON) {
                        if (l < 0 && (s = e[o], c = -c, a = e[r], l = -l), t.y < s.y || t.y > a.y) continue;
                        if (t.y === s.y) {
                            if (t.x === s.x) return !0
                        } else {
                            var u = l * (t.x - s.x) - c * (t.y - s.y);
                            if (0 === u) return !0;
                            if (u < 0) continue;
                            n = !n
                        }
                    } else {
                        if (t.y !== s.y) continue;
                        if (a.x <= t.x && t.x <= s.x || s.x <= t.x && t.x <= a.x) return !0
                    }
                }
                return n
            }
            var r = jo.isClockWise,
                o = this.subPaths;
            if (0 === o.length) return [];
            if (!0 === e) return i(o);
            var s, a, c, l = [];
            if (1 === o.length) return a = o[0], (c = new Ks).curves = a.curves, l.push(c), l;
            var u = !r(o[0].getPoints());
            u = t ? !u : u;
            var h, p, d = [],
                f = [],
                m = [],
                v = 0;
            f[v] = void 0, m[v] = [];
            for (var g = 0, y = o.length; g < y; g++) s = r(h = (a = o[g]).getPoints()), (s = t ? !s : s) ? (!u && f[v] && v++, f[v] = {
                s: new Ks,
                p: h
            }, f[v].s.curves = a.curves, u && v++, m[v] = []) : m[v].push({
                h: a,
                p: h[0]
            });
            if (!f[0]) return i(o);
            if (f.length > 1) {
                for (var _ = !1, b = [], x = 0, w = f.length; x < w; x++) d[x] = [];
                for (x = 0, w = f.length; x < w; x++)
                    for (var S = m[x], M = 0; M < S.length; M++) {
                        for (var T = S[M], A = !0, C = 0; C < f.length; C++) n(T.p, f[C].p) && (x !== C && b.push({
                            froms: x,
                            tos: C,
                            hole: M
                        }), A ? (A = !1, d[C].push(T)) : _ = !0);
                        A && d[x].push(T)
                    }
                b.length > 0 && (_ || (m = d))
            }
            g = 0;
            for (var E = f.length; g < E; g++) {
                c = f[g].s, l.push(c);
                for (var O = 0, P = (p = m[g]).length; O < P; O++) c.holes.push(p[O].h)
            }
            return l
        }
    }), Object.assign(Ua.prototype, {
        isFont: !0,
        generateShapes: function(t, e) {
            void 0 === e && (e = 100);
            for (var i = [], n = function(t, e, i) {
                    for (var n = Array.from ? Array.from(t) : String(t).split(""), r = e / i.resolution, o = (i.boundingBox.yMax - i.boundingBox.yMin + i.underlineThickness) * r, s = [], a = 0, c = 0, l = 0; l < n.length; l++) {
                        var u = n[l];
                        if ("\n" === u) a = 0, c -= o;
                        else {
                            var h = Va(u, r, a, c, i);
                            a += h.offsetX, s.push(h.path)
                        }
                    }
                    return s
                }(t, e, this.data), r = 0, o = n.length; r < o; r++) Array.prototype.push.apply(i, n[r].toShapes());
            return i
        }
    }), Object.assign(function(t) {
        this.manager = void 0 !== t ? t : Ms
    }.prototype, {
        load: function(t, e, i, n) {
            var r = this,
                o = new As(this.manager);
            o.setPath(this.path), o.load(t, function(t) {
                var i;
                try {
                    i = JSON.parse(t)
                } catch (e) {
                    i = JSON.parse(t.substring(65, t.length - 2))
                }
                var n = r.parse(i);
                e && e(n)
            }, i, n)
        },
        parse: function(t) {
            return new Ua(t)
        },
        setPath: function(t) {
            return this.path = t, this
        }
    });
    var Ga, Wa, Ha, $a, Xa, qa, Ya, Za, Ja, Qa, Ka = {
        getContext: function() {
            return void 0 === Da && (Da = new(window.AudioContext || window.webkitAudioContext)), Da
        },
        setContext: function(t) {
            Da = t
        }
    };

    function tc(t) {
        this.manager = void 0 !== t ? t : Ms
    }

    function ec(t, e, i) {
        gi.call(this), this.type = "CubeCamera";
        var n = new Cr(90, 1, t, e);
        n.up.set(0, -1, 0), n.lookAt(new Re(1, 0, 0)), this.add(n);
        var r = new Cr(90, 1, t, e);
        r.up.set(0, -1, 0), r.lookAt(new Re(-1, 0, 0)), this.add(r);
        var o = new Cr(90, 1, t, e);
        o.up.set(0, 0, 1), o.lookAt(new Re(0, 1, 0)), this.add(o);
        var s = new Cr(90, 1, t, e);
        s.up.set(0, 0, -1), s.lookAt(new Re(0, -1, 0)), this.add(s);
        var a = new Cr(90, 1, t, e);
        a.up.set(0, -1, 0), a.lookAt(new Re(0, 0, 1)), this.add(a);
        var c = new Cr(90, 1, t, e);
        c.up.set(0, -1, 0), c.lookAt(new Re(0, 0, -1)), this.add(c);
        var l = {
            format: Bt,
            magFilter: St,
            minFilter: St
        };
        this.renderTarget = new $e(i, i, l), this.renderTarget.texture.name = "CubeCamera", this.update = function(t, e) {
            null === this.parent && this.updateMatrixWorld();
            var i = this.renderTarget,
                l = i.texture.generateMipmaps;
            i.texture.generateMipmaps = !1, i.activeCubeFace = 0, t.render(e, n, i), i.activeCubeFace = 1, t.render(e, r, i), i.activeCubeFace = 2, t.render(e, o, i), i.activeCubeFace = 3, t.render(e, s, i), i.activeCubeFace = 4, t.render(e, a, i), i.texture.generateMipmaps = l, i.activeCubeFace = 5, t.render(e, c, i), t.setRenderTarget(null)
        }, this.clear = function(t, e, i, n) {
            for (var r = this.renderTarget, o = 0; o < 6; o++) r.activeCubeFace = o, t.setRenderTarget(r), t.clear(e, i, n);
            t.setRenderTarget(null)
        }
    }

    function ic() {
        gi.call(this), this.type = "AudioListener", this.context = Ka.getContext(), this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null
    }

    function nc(t) {
        gi.call(this), this.type = "Audio", this.context = t.context, this.gain = this.context.createGain(), this.gain.connect(t.getInput()), this.autoplay = !1, this.buffer = null, this.loop = !1, this.startTime = 0, this.offset = 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.sourceType = "empty", this.filters = []
    }

    function rc(t) {
        nc.call(this, t), this.panner = this.context.createPanner(), this.panner.connect(this.gain)
    }

    function oc(t, e) {
        this.analyser = t.context.createAnalyser(), this.analyser.fftSize = void 0 !== e ? e : 2048, this.data = new Uint8Array(this.analyser.frequencyBinCount), t.getOutput().connect(this.analyser)
    }

    function sc(t, e, i) {
        this.binding = t, this.valueSize = i;
        var n, r = Float64Array;
        switch (e) {
            case "quaternion":
                n = this._slerp;
                break;
            case "string":
            case "bool":
                r = Array, n = this._select;
                break;
            default:
                n = this._lerp
        }
        this.buffer = new r(4 * i), this._mixBufferRegion = n, this.cumulativeWeight = 0, this.useCount = 0, this.referenceCount = 0
    }
    Object.assign(tc.prototype, {
        load: function(t, e, i, n) {
            var r = new As(this.manager);
            r.setResponseType("arraybuffer"), r.load(t, function(t) {
                var i = t.slice(0);
                Ka.getContext().decodeAudioData(i, function(t) {
                    e(t)
                })
            }, i, n)
        }
    }), Object.assign(function() {
        this.type = "StereoCamera", this.aspect = 1, this.eyeSep = .064, this.cameraL = new Cr, this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new Cr, this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1
    }.prototype, {
        update: (Ja = new Le, Qa = new Le, function(t) {
            if (Ga !== this || Wa !== t.focus || Ha !== t.fov || $a !== t.aspect * this.aspect || Xa !== t.near || qa !== t.far || Ya !== t.zoom || Za !== this.eyeSep) {
                Ga = this, Wa = t.focus, Ha = t.fov, $a = t.aspect * this.aspect, Xa = t.near, qa = t.far, Ya = t.zoom;
                var e, i, n = t.projectionMatrix.clone(),
                    r = (Za = this.eyeSep / 2) * Xa / Wa,
                    o = Xa * Math.tan(Pe.DEG2RAD * Ha * .5) / Ya;
                Qa.elements[12] = -Za, Ja.elements[12] = Za, e = -o * $a + r, i = o * $a + r, n.elements[0] = 2 * Xa / (i - e), n.elements[8] = (i + e) / (i - e), this.cameraL.projectionMatrix.copy(n), e = -o * $a - r, i = o * $a - r, n.elements[0] = 2 * Xa / (i - e), n.elements[8] = (i + e) / (i - e), this.cameraR.projectionMatrix.copy(n)
            }
            this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Qa), this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Ja)
        })
    }), ec.prototype = Object.create(gi.prototype), ec.prototype.constructor = ec, ic.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: ic,
        getInput: function() {
            return this.gain
        },
        removeFilter: function() {
            return null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null), this
        },
        getFilter: function() {
            return this.filter
        },
        setFilter: function(t) {
            return null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = t, this.gain.connect(this.filter), this.filter.connect(this.context.destination), this
        },
        getMasterVolume: function() {
            return this.gain.gain.value
        },
        setMasterVolume: function(t) {
            return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01), this
        },
        updateMatrixWorld: function() {
            var t = new Re,
                e = new Ie,
                i = new Re,
                n = new Re;
            return function(r) {
                gi.prototype.updateMatrixWorld.call(this, r);
                var o = this.context.listener,
                    s = this.up;
                this.matrixWorld.decompose(t, e, i), n.set(0, 0, -1).applyQuaternion(e), o.positionX ? (o.positionX.setValueAtTime(t.x, this.context.currentTime), o.positionY.setValueAtTime(t.y, this.context.currentTime), o.positionZ.setValueAtTime(t.z, this.context.currentTime), o.forwardX.setValueAtTime(n.x, this.context.currentTime), o.forwardY.setValueAtTime(n.y, this.context.currentTime), o.forwardZ.setValueAtTime(n.z, this.context.currentTime), o.upX.setValueAtTime(s.x, this.context.currentTime), o.upY.setValueAtTime(s.y, this.context.currentTime), o.upZ.setValueAtTime(s.z, this.context.currentTime)) : (o.setPosition(t.x, t.y, t.z), o.setOrientation(n.x, n.y, n.z, s.x, s.y, s.z))
            }
        }()
    }), nc.prototype = Object.assign(Object.create(gi.prototype), {
        constructor: nc,
        getOutput: function() {
            return this.gain
        },
        setNodeSource: function(t) {
            return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = t, this.connect(), this
        },
        setMediaElementSource: function(t) {
            return this.hasPlaybackControl = !1, this.sourceType = "mediaNode", this.source = this.context.createMediaElementSource(t), this.connect(), this
        },
        setBuffer: function(t) {
            return this.buffer = t, this.sourceType = "buffer", this.autoplay && this.play(), this
        },
        play: function() {
            if (!0 !== this.isPlaying && !1 !== this.hasPlaybackControl) {
                var t = this.context.createBufferSource();
                return t.buffer = this.buffer, t.loop = this.loop, t.onended = this.onEnded.bind(this), t.playbackRate.setValueAtTime(this.playbackRate, this.startTime), this.startTime = this.context.currentTime, t.start(this.startTime, this.offset), this.isPlaying = !0, this.source = t, this.connect()
            }
        },
        pause: function() {
            if (!1 !== this.hasPlaybackControl) return !0 === this.isPlaying && (this.source.stop(), this.source.onended = null, this.offset += (this.context.currentTime - this.startTime) * this.playbackRate, this.isPlaying = !1), this
        },
        stop: function() {
            if (!1 !== this.hasPlaybackControl) return this.source.stop(), this.source.onended = null, this.offset = 0, this.isPlaying = !1, this
        },
        connect: function() {
            if (this.filters.length > 0) {
                this.source.connect(this.filters[0]);
                for (var t = 1, e = this.filters.length; t < e; t++) this.filters[t - 1].connect(this.filters[t]);
                this.filters[this.filters.length - 1].connect(this.getOutput())
            } else this.source.connect(this.getOutput());
            return this
        },
        disconnect: function() {
            if (this.filters.length > 0) {
                this.source.disconnect(this.filters[0]);
                for (var t = 1, e = this.filters.length; t < e; t++) this.filters[t - 1].disconnect(this.filters[t]);
                this.filters[this.filters.length - 1].disconnect(this.getOutput())
            } else this.source.disconnect(this.getOutput());
            return this
        },
        getFilters: function() {
            return this.filters
        },
        setFilters: function(t) {
            return t || (t = []), !0 === this.isPlaying ? (this.disconnect(), this.filters = t, this.connect()) : this.filters = t, this
        },
        getFilter: function() {
            return this.getFilters()[0]
        },
        setFilter: function(t) {
            return this.setFilters(t ? [t] : [])
        },
        setPlaybackRate: function(t) {
            if (!1 !== this.hasPlaybackControl) return this.playbackRate = t, !0 === this.isPlaying && this.source.playbackRate.setValueAtTime(this.playbackRate, this.context.currentTime), this
        },
        getPlaybackRate: function() {
            return this.playbackRate
        },
        onEnded: function() {
            this.isPlaying = !1
        },
        getLoop: function() {
            return !1 !== this.hasPlaybackControl && this.loop
        },
        setLoop: function(t) {
            if (!1 !== this.hasPlaybackControl) return this.loop = t, !0 === this.isPlaying && (this.source.loop = this.loop), this
        },
        getVolume: function() {
            return this.gain.gain.value
        },
        setVolume: function(t) {
            return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01), this
        }
    }), rc.prototype = Object.assign(Object.create(nc.prototype), {
        constructor: rc,
        getOutput: function() {
            return this.panner
        },
        getRefDistance: function() {
            return this.panner.refDistance
        },
        setRefDistance: function(t) {
            return this.panner.refDistance = t, this
        },
        getRolloffFactor: function() {
            return this.panner.rolloffFactor
        },
        setRolloffFactor: function(t) {
            return this.panner.rolloffFactor = t, this
        },
        getDistanceModel: function() {
            return this.panner.distanceModel
        },
        setDistanceModel: function(t) {
            return this.panner.distanceModel = t, this
        },
        getMaxDistance: function() {
            return this.panner.maxDistance
        },
        setMaxDistance: function(t) {
            return this.panner.maxDistance = t, this
        },
        setDirectionalCone: function(t, e, i) {
            return this.panner.coneInnerAngle = t, this.panner.coneOuterAngle = e, this.panner.coneOuterGain = i, this
        },
        updateMatrixWorld: function() {
            var t = new Re,
                e = new Ie,
                i = new Re,
                n = new Re;
            return function(r) {
                gi.prototype.updateMatrixWorld.call(this, r);
                var o = this.panner;
                this.matrixWorld.decompose(t, e, i), n.set(0, 0, 1).applyQuaternion(e), o.setPosition(t.x, t.y, t.z), o.setOrientation(n.x, n.y, n.z)
            }
        }()
    }), Object.assign(oc.prototype, {
        getFrequencyData: function() {
            return this.analyser.getByteFrequencyData(this.data), this.data
        },
        getAverageFrequency: function() {
            for (var t = 0, e = this.getFrequencyData(), i = 0; i < e.length; i++) t += e[i];
            return t / e.length
        }
    }), Object.assign(sc.prototype, {
        accumulate: function(t, e) {
            var i = this.buffer,
                n = this.valueSize,
                r = t * n + n,
                o = this.cumulativeWeight;
            if (0 === o) {
                for (var s = 0; s !== n; ++s) i[r + s] = i[s];
                o = e
            } else {
                var a = e / (o += e);
                this._mixBufferRegion(i, r, 0, a, n)
            }
            this.cumulativeWeight = o
        },
        apply: function(t) {
            var e = this.valueSize,
                i = this.buffer,
                n = t * e + e,
                r = this.cumulativeWeight,
                o = this.binding;
            if (this.cumulativeWeight = 0, r < 1) {
                var s = 3 * e;
                this._mixBufferRegion(i, n, s, 1 - r, e)
            }
            for (var a = e, c = e + e; a !== c; ++a)
                if (i[a] !== i[a + e]) {
                    o.setValue(i, n);
                    break
                }
        },
        saveOriginalState: function() {
            var t = this.binding,
                e = this.buffer,
                i = this.valueSize,
                n = 3 * i;
            t.getValue(e, n);
            for (var r = i, o = n; r !== o; ++r) e[r] = e[n + r % i];
            this.cumulativeWeight = 0
        },
        restoreOriginalState: function() {
            var t = 3 * this.valueSize;
            this.binding.setValue(this.buffer, t)
        },
        _select: function(t, e, i, n, r) {
            if (n >= .5)
                for (var o = 0; o !== r; ++o) t[e + o] = t[i + o]
        },
        _slerp: function(t, e, i, n) {
            Ie.slerpFlat(t, e, t, e, t, i, n)
        },
        _lerp: function(t, e, i, n, r) {
            for (var o = 1 - n, s = 0; s !== r; ++s) {
                var a = e + s;
                t[a] = t[a] * o + t[i + s] * n
            }
        }
    });
    var ac, cc, lc, uc, hc, pc, dc, fc, mc, vc, gc, yc, _c, bc, xc;

    function wc(t, e, i) {
        var n = i || Sc.parseTrackName(e);
        this._targetGroup = t, this._bindings = t.subscribe_(e, n)
    }

    function Sc(t, e, i) {
        this.path = e, this.parsedPath = i || Sc.parseTrackName(e), this.node = Sc.findNode(t, this.parsedPath.nodeName) || t, this.rootNode = t
    }

    function Mc(t, e, i) {
        this._mixer = t, this._clip = e, this._localRoot = i || null;
        for (var n = e.tracks, r = n.length, o = new Array(r), s = {
                endingStart: me,
                endingEnd: me
            }, a = 0; a !== r; ++a) {
            var c = n[a].createInterpolant(null);
            o[a] = c, c.settings = s
        }
        this._interpolantSettings = s, this._interpolants = o, this._propertyBindings = new Array(r), this._cacheIndex = null, this._byClipCacheIndex = null, this._timeScaleInterpolant = null, this._weightInterpolant = null, this.loop = fe, this._loopCount = -1, this._startTime = null, this.time = 0, this.timeScale = 1, this._effectiveTimeScale = 1, this.weight = 1, this._effectiveWeight = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtStart = !0, this.zeroSlopeAtEnd = !0
    }

    function Tc(t) {
        this._root = t, this._initMemoryManager(), this._accuIndex = 0, this.time = 0, this.timeScale = 1
    }

    function Ac(t) {
        "string" == typeof t && (t = arguments[1]), this.value = t
    }

    function Cc() {
        Fi.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0
    }

    function Ec(t, e, i) {
        Rr.call(this, t, e), this.meshPerAttribute = i || 1
    }

    function Oc(t, e, i, n) {
        "number" == typeof i && (n = i, i = !1), Ti.call(this, t, e, i), this.meshPerAttribute = n || 1
    }

    function Pc(t, e) {
        return t.distance - e.distance
    }

    function kc(t, e, i, n) {
        if (!1 !== t.visible && (t.raycast(e, i), !0 === n))
            for (var r = t.children, o = 0, s = r.length; o < s; o++) kc(r[o], e, i, !0)
    }

    function Lc(t) {
        this.autoStart = void 0 === t || t, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1
    }

    function Ic(t, e) {
        this.min = void 0 !== t ? t : new ke(1 / 0, 1 / 0), this.max = void 0 !== e ? e : new ke(-1 / 0, -1 / 0)
    }

    function Rc(t, e) {
        this.start = void 0 !== t ? t : new Re, this.end = void 0 !== e ? e : new Re
    }

    function Dc(t) {
        gi.call(this), this.material = t, this.render = function() {}
    }

    function Nc(t, e, i, n) {
        this.object = t, this.size = void 0 !== e ? e : 1;
        var r = void 0 !== i ? i : 16711680,
            o = void 0 !== n ? n : 1,
            s = 0,
            a = this.object.geometry;
        a && a.isGeometry ? s = 3 * a.faces.length : a && a.isBufferGeometry && (s = a.attributes.normal.count);
        var c = new Fi,
            l = new Ii(2 * s * 3, 3);
        c.addAttribute("position", l), Wr.call(this, c, new Vr({
            color: r,
            linewidth: o
        })), this.matrixAutoUpdate = !1, this.update()
    }

    function zc(t, e) {
        gi.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = e;
        for (var i = new Fi, n = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], r = 0, o = 1; r < 32; r++, o++) {
            var s = r / 32 * Math.PI * 2,
                a = o / 32 * Math.PI * 2;
            n.push(Math.cos(s), Math.sin(s), 1, Math.cos(a), Math.sin(a), 1)
        }
        i.addAttribute("position", new Ii(n, 3));
        var c = new Vr({
            fog: !1
        });
        this.cone = new Wr(i, c), this.add(this.cone), this.update()
    }

    function Fc(t) {
        for (var e = function t(e) {
                var i = [];
                e && e.isBone && i.push(e);
                for (var n = 0; n < e.children.length; n++) i.push.apply(i, t(e.children[n]));
                return i
            }(t), i = new Fi, n = [], r = [], o = new ri(0, 0, 1), s = new ri(0, 1, 0), a = 0; a < e.length; a++) {
            var c = e[a];
            c.parent && c.parent.isBone && (n.push(0, 0, 0), n.push(0, 0, 0), r.push(o.r, o.g, o.b), r.push(s.r, s.g, s.b))
        }
        i.addAttribute("position", new Ii(n, 3)), i.addAttribute("color", new Ii(r, 3));
        var l = new Vr({
            vertexColors: T,
            depthTest: !1,
            depthWrite: !1,
            transparent: !0
        });
        Wr.call(this, i, l), this.root = t, this.bones = e, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1
    }

    function Bc(t, e, i) {
        this.light = t, this.light.updateMatrixWorld(), this.color = i;
        var n = new Zo(e, 4, 2),
            r = new rn({
                wireframe: !0,
                fog: !1
            });
        cn.call(this, n, r), this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1, this.update()
    }

    function jc(t, e) {
        gi.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = e;
        var i = new Vr({
                fog: !1
            }),
            n = new Fi;
        n.addAttribute("position", new Ti(new Float32Array(15), 3)), this.line = new Gr(n, i), this.add(this.line), this.update()
    }

    function Uc(t, e, i) {
        gi.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = i;
        var n = new so(e);
        n.rotateY(.5 * Math.PI), this.material = new rn({
            wireframe: !0,
            fog: !1
        }), void 0 === this.color && (this.material.vertexColors = T);
        var r = n.getAttribute("position"),
            o = new Float32Array(3 * r.count);
        n.addAttribute("color", new Ti(o, 3)), this.add(new cn(n, this.material)), this.update()
    }

    function Vc(t, e, i, n) {
        t = t || 10, e = e || 10, i = new ri(void 0 !== i ? i : 4473924), n = new ri(void 0 !== n ? n : 8947848);
        for (var r = e / 2, o = t / e, s = t / 2, a = [], c = [], l = 0, u = 0, h = -s; l <= e; l++, h += o) {
            a.push(-s, 0, h, s, 0, h), a.push(h, 0, -s, h, 0, s);
            var p = l === r ? i : n;
            p.toArray(c, u), u += 3, p.toArray(c, u), u += 3, p.toArray(c, u), u += 3, p.toArray(c, u), u += 3
        }
        var d = new Fi;
        d.addAttribute("position", new Ii(a, 3)), d.addAttribute("color", new Ii(c, 3));
        var f = new Vr({
            vertexColors: T
        });
        Wr.call(this, d, f)
    }

    function Gc(t, e, i, n, r, o) {
        t = t || 10, e = e || 16, i = i || 8, n = n || 64, r = new ri(void 0 !== r ? r : 4473924), o = new ri(void 0 !== o ? o : 8947848);
        var s, a, c, l, u, h, p, d = [],
            f = [];
        for (l = 0; l <= e; l++) c = l / e * (2 * Math.PI), s = Math.sin(c) * t, a = Math.cos(c) * t, d.push(0, 0, 0), d.push(s, 0, a), p = 1 & l ? r : o, f.push(p.r, p.g, p.b), f.push(p.r, p.g, p.b);
        for (l = 0; l <= i; l++)
            for (p = 1 & l ? r : o, h = t - t / i * l, u = 0; u < n; u++) c = u / n * (2 * Math.PI), s = Math.sin(c) * h, a = Math.cos(c) * h, d.push(s, 0, a), f.push(p.r, p.g, p.b), c = (u + 1) / n * (2 * Math.PI), s = Math.sin(c) * h, a = Math.cos(c) * h, d.push(s, 0, a), f.push(p.r, p.g, p.b);
        var m = new Fi;
        m.addAttribute("position", new Ii(d, 3)), m.addAttribute("color", new Ii(f, 3));
        var v = new Vr({
            vertexColors: T
        });
        Wr.call(this, m, v)
    }

    function Wc(t, e, i, n) {
        this.object = t, this.size = void 0 !== e ? e : 1;
        var r = void 0 !== i ? i : 16776960,
            o = void 0 !== n ? n : 1,
            s = 0,
            a = this.object.geometry;
        a && a.isGeometry && (s = a.faces.length);
        var c = new Fi,
            l = new Ii(2 * s * 3, 3);
        c.addAttribute("position", l), Wr.call(this, c, new Vr({
            color: r,
            linewidth: o
        })), this.matrixAutoUpdate = !1, this.update()
    }

    function Hc(t, e, i) {
        gi.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = i, void 0 === e && (e = 1);
        var n = new Fi;
        n.addAttribute("position", new Ii([-e, e, 0, e, e, 0, e, -e, 0, -e, -e, 0, -e, e, 0], 3));
        var r = new Vr({
            fog: !1
        });
        this.lightPlane = new Gr(n, r), this.add(this.lightPlane), (n = new Fi).addAttribute("position", new Ii([0, 0, 0, 0, 0, 1], 3)), this.targetLine = new Gr(n, r), this.add(this.targetLine), this.update()
    }

    function $c(t) {
        var e = new Fi,
            i = new Vr({
                color: 16777215,
                vertexColors: M
            }),
            n = [],
            r = [],
            o = {},
            s = new ri(16755200),
            a = new ri(16711680),
            c = new ri(43775),
            l = new ri(16777215),
            u = new ri(3355443);

        function h(t, e, i) {
            p(t, i), p(e, i)
        }

        function p(t, e) {
            n.push(0, 0, 0), r.push(e.r, e.g, e.b), void 0 === o[t] && (o[t] = []), o[t].push(n.length / 3 - 1)
        }
        h("n1", "n2", s), h("n2", "n4", s), h("n4", "n3", s), h("n3", "n1", s), h("f1", "f2", s), h("f2", "f4", s), h("f4", "f3", s), h("f3", "f1", s), h("n1", "f1", s), h("n2", "f2", s), h("n3", "f3", s), h("n4", "f4", s), h("p", "n1", a), h("p", "n2", a), h("p", "n3", a), h("p", "n4", a), h("u1", "u2", c), h("u2", "u3", c), h("u3", "u1", c), h("c", "t", l), h("p", "c", u), h("cn1", "cn2", u), h("cn3", "cn4", u), h("cf1", "cf2", u), h("cf3", "cf4", u), e.addAttribute("position", new Ii(n, 3)), e.addAttribute("color", new Ii(r, 3)), Wr.call(this, e, i), this.camera = t, this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = o, this.update()
    }

    function Xc(t, e) {
        this.object = t, void 0 === e && (e = 16776960);
        var i = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
            n = new Float32Array(24),
            r = new Fi;
        r.setIndex(new Ti(i, 1)), r.addAttribute("position", new Ti(n, 3)), Wr.call(this, r, new Vr({
            color: e
        })), this.matrixAutoUpdate = !1, this.update()
    }

    function qc(t, e) {
        this.type = "Box3Helper", this.box = t;
        var i = void 0 !== e ? e : 16776960,
            n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
            r = new Fi;
        r.setIndex(new Ti(n, 1)), r.addAttribute("position", new Ii([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1], 3)), Wr.call(this, r, new Vr({
            color: i
        })), this.geometry.computeBoundingSphere()
    }

    function Yc(t, e, i) {
        this.type = "PlaneHelper", this.plane = t, this.size = void 0 === e ? 1 : e;
        var n = void 0 !== i ? i : 16776960,
            r = new Fi;
        r.addAttribute("position", new Ii([1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0], 3)), r.computeBoundingSphere(), Gr.call(this, r, new Vr({
            color: n
        }));
        var o = new Fi;
        o.addAttribute("position", new Ii([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1], 3)), o.computeBoundingSphere(), this.add(new cn(o, new rn({
            color: n,
            opacity: .2,
            transparent: !0,
            depthWrite: !1
        })))
    }

    function Zc(t, e, i, n, r, o) {
        gi.call(this), void 0 === n && (n = 16776960), void 0 === i && (i = 1), void 0 === r && (r = .2 * i), void 0 === o && (o = .2 * r), void 0 === yc && ((yc = new Fi).addAttribute("position", new Ii([0, 0, 0, 0, 1, 0], 3)), (_c = new ss(0, .5, 1, 5, 1)).translate(0, -.5, 0)), this.position.copy(e), this.line = new Gr(yc, new Vr({
            color: n
        })), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new cn(_c, new rn({
            color: n
        })), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(t), this.setLength(i, r, o)
    }

    function Jc(t) {
        var e = [0, 0, 0, t = t || 1, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t],
            i = new Fi;
        i.addAttribute("position", new Ii(e, 3)), i.addAttribute("color", new Ii([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1], 3));
        var n = new Vr({
            vertexColors: T
        });
        Wr.call(this, i, n)
    }
    Object.assign(wc.prototype, {
        getValue: function(t, e) {
            this.bind();
            var i = this._targetGroup.nCachedObjects_,
                n = this._bindings[i];
            void 0 !== n && n.getValue(t, e)
        },
        setValue: function(t, e) {
            for (var i = this._bindings, n = this._targetGroup.nCachedObjects_, r = i.length; n !== r; ++n) i[n].setValue(t, e)
        },
        bind: function() {
            for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].bind()
        },
        unbind: function() {
            for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].unbind()
        }
    }), Object.assign(Sc, {
        Composite: wc,
        create: function(t, e, i) {
            return t && t.isAnimationObjectGroup ? new Sc.Composite(t, e, i) : new Sc(t, e, i)
        },
        sanitizeNodeName: (mc = new RegExp("[\\[\\]\\.:\\/]", "g"), function(t) {
            return t.replace(/\s/g, "_").replace(mc, "")
        }),
        parseTrackName: (ac = "[^\\[\\]\\.:\\/]", cc = "[^" + "\\[\\]\\.:\\/".replace("\\.", "") + "]", lc = /((?:WC+[\/:])*)/.source.replace("WC", ac), uc = /(WCOD+)?/.source.replace("WCOD", cc), hc = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", ac), pc = /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", ac), dc = new RegExp("^" + lc + uc + hc + pc + "$"), fc = ["material", "materials", "bones"], function(t) {
            var e = dc.exec(t);
            if (!e) throw new Error("PropertyBinding: Cannot parse trackName: " + t);
            var i = {
                    nodeName: e[2],
                    objectName: e[3],
                    objectIndex: e[4],
                    propertyName: e[5],
                    propertyIndex: e[6]
                },
                n = i.nodeName && i.nodeName.lastIndexOf(".");
            if (void 0 !== n && -1 !== n) {
                var r = i.nodeName.substring(n + 1); - 1 !== fc.indexOf(r) && (i.nodeName = i.nodeName.substring(0, n), i.objectName = r)
            }
            if (null === i.propertyName || 0 === i.propertyName.length) throw new Error("PropertyBinding: can not parse propertyName from trackName: " + t);
            return i
        }),
        findNode: function(t, e) {
            if (!e || "" === e || "root" === e || "." === e || -1 === e || e === t.name || e === t.uuid) return t;
            if (t.skeleton) {
                var i = t.skeleton.getBoneByName(e);
                if (void 0 !== i) return i
            }
            if (t.children) {
                var n = function(t) {
                        for (var i = 0; i < t.length; i++) {
                            var r = t[i];
                            if (r.name === e || r.uuid === e) return r;
                            var o = n(r.children);
                            if (o) return o
                        }
                        return null
                    },
                    r = n(t.children);
                if (r) return r
            }
            return null
        }
    }), Object.assign(Sc.prototype, {
        _getValue_unavailable: function() {},
        _setValue_unavailable: function() {},
        BindingType: {
            Direct: 0,
            EntireArray: 1,
            ArrayElement: 2,
            HasFromToArray: 3
        },
        Versioning: {
            None: 0,
            NeedsUpdate: 1,
            MatrixWorldNeedsUpdate: 2
        },
        GetterByBindingType: [function(t, e) {
            t[e] = this.node[this.propertyName]
        }, function(t, e) {
            for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) t[e++] = i[n]
        }, function(t, e) {
            t[e] = this.resolvedProperty[this.propertyIndex]
        }, function(t, e) {
            this.resolvedProperty.toArray(t, e)
        }],
        SetterByBindingTypeAndVersioning: [
            [function(t, e) {
                this.targetObject[this.propertyName] = t[e]
            }, function(t, e) {
                this.targetObject[this.propertyName] = t[e], this.targetObject.needsUpdate = !0
            }, function(t, e) {
                this.targetObject[this.propertyName] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
            }],
            [function(t, e) {
                for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++]
            }, function(t, e) {
                for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                this.targetObject.needsUpdate = !0
            }, function(t, e) {
                for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                this.targetObject.matrixWorldNeedsUpdate = !0
            }],
            [function(t, e) {
                this.resolvedProperty[this.propertyIndex] = t[e]
            }, function(t, e) {
                this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.needsUpdate = !0
            }, function(t, e) {
                this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
            }],
            [function(t, e) {
                this.resolvedProperty.fromArray(t, e)
            }, function(t, e) {
                this.resolvedProperty.fromArray(t, e), this.targetObject.needsUpdate = !0
            }, function(t, e) {
                this.resolvedProperty.fromArray(t, e), this.targetObject.matrixWorldNeedsUpdate = !0
            }]
        ],
        getValue: function(t, e) {
            this.bind(), this.getValue(t, e)
        },
        setValue: function(t, e) {
            this.bind(), this.setValue(t, e)
        },
        bind: function() {
            var t = this.node,
                e = this.parsedPath,
                i = e.objectName,
                n = e.propertyName,
                r = e.propertyIndex;
            if (t || (t = Sc.findNode(this.rootNode, e.nodeName) || this.rootNode, this.node = t), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, t) {
                if (i) {
                    var o = e.objectIndex;
                    switch (i) {
                        case "materials":
                            if (!t.material) return;
                            if (!t.material.materials) return;
                            t = t.material.materials;
                            break;
                        case "bones":
                            if (!t.skeleton) return;
                            t = t.skeleton.bones;
                            for (var s = 0; s < t.length; s++)
                                if (t[s].name === o) {
                                    o = s;
                                    break
                                }
                            break;
                        default:
                            if (void 0 === t[i]) return;
                            t = t[i]
                    }
                    if (void 0 !== o) {
                        if (void 0 === t[o]) return;
                        t = t[o]
                    }
                }
                var a = t[n];
                if (void 0 !== a) {
                    var c = this.Versioning.None;
                    this.targetObject = t, void 0 !== t.needsUpdate ? c = this.Versioning.NeedsUpdate : void 0 !== t.matrixWorldNeedsUpdate && (c = this.Versioning.MatrixWorldNeedsUpdate);
                    var l = this.BindingType.Direct;
                    if (void 0 !== r) {
                        if ("morphTargetInfluences" === n) {
                            if (!t.geometry) return;
                            if (t.geometry.isBufferGeometry) {
                                if (!t.geometry.morphAttributes) return;
                                for (s = 0; s < this.node.geometry.morphAttributes.position.length; s++)
                                    if (t.geometry.morphAttributes.position[s].name === r) {
                                        r = s;
                                        break
                                    }
                            } else {
                                if (!t.geometry.morphTargets) return;
                                for (s = 0; s < this.node.geometry.morphTargets.length; s++)
                                    if (t.geometry.morphTargets[s].name === r) {
                                        r = s;
                                        break
                                    }
                            }
                        }
                        l = this.BindingType.ArrayElement, this.resolvedProperty = a, this.propertyIndex = r
                    } else void 0 !== a.fromArray && void 0 !== a.toArray ? (l = this.BindingType.HasFromToArray, this.resolvedProperty = a) : Array.isArray(a) ? (l = this.BindingType.EntireArray, this.resolvedProperty = a) : this.propertyName = n;
                    this.getValue = this.GetterByBindingType[l], this.setValue = this.SetterByBindingTypeAndVersioning[l][c]
                } else e.nodeName
            }
        },
        unbind: function() {
            this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound
        }
    }), Object.assign(Sc.prototype, {
        _getValue_unbound: Sc.prototype.getValue,
        _setValue_unbound: Sc.prototype.setValue
    }), Object.assign(function() {
        this.uuid = Pe.generateUUID(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0;
        var t = {};
        this._indicesByUUID = t;
        for (var e = 0, i = arguments.length; e !== i; ++e) t[arguments[e].uuid] = e;
        this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {};
        var n = this;
        this.stats = {
            objects: {get total() {
                    return n._objects.length
                },
                get inUse() {
                    return this.total - n.nCachedObjects_
                }
            },
            get bindingsPerObject() {
                return n._bindings.length
            }
        }
    }.prototype, {
        isAnimationObjectGroup: !0,
        add: function() {
            for (var t = this._objects, e = t.length, i = this.nCachedObjects_, n = this._indicesByUUID, r = this._paths, o = this._parsedPaths, s = this._bindings, a = s.length, c = 0, l = arguments.length; c !== l; ++c) {
                var u = arguments[c],
                    h = u.uuid,
                    p = n[h];
                if (void 0 === p) {
                    p = e++, n[h] = p, t.push(u);
                    for (var d = 0, f = a; d !== f; ++d) s[d].push(new Sc(u, r[d], o[d]))
                } else if (p < i) {
                    t[p];
                    var m = --i,
                        v = t[m];
                    n[v.uuid] = p, t[p] = v, n[h] = m, t[m] = u;
                    for (d = 0, f = a; d !== f; ++d) {
                        var g = s[d],
                            y = g[m],
                            _ = g[p];
                        g[p] = y, void 0 === _ && (_ = new Sc(u, r[d], o[d])), g[m] = _
                    }
                } else t[p]
            }
            this.nCachedObjects_ = i
        },
        remove: function() {
            for (var t = this._objects, e = this.nCachedObjects_, i = this._indicesByUUID, n = this._bindings, r = n.length, o = 0, s = arguments.length; o !== s; ++o) {
                var a = arguments[o],
                    c = a.uuid,
                    l = i[c];
                if (void 0 !== l && l >= e) {
                    var u = e++,
                        h = t[u];
                    i[h.uuid] = l, t[l] = h, i[c] = u, t[u] = a;
                    for (var p = 0, d = r; p !== d; ++p) {
                        var f = n[p],
                            m = f[u],
                            v = f[l];
                        f[l] = m, f[u] = v
                    }
                }
            }
            this.nCachedObjects_ = e
        },
        uncache: function() {
            for (var t = this._objects, e = t.length, i = this.nCachedObjects_, n = this._indicesByUUID, r = this._bindings, o = r.length, s = 0, a = arguments.length; s !== a; ++s) {
                var c = arguments[s].uuid,
                    l = n[c];
                if (void 0 !== l)
                    if (delete n[c], l < i) {
                        var u = --i,
                            h = t[u],
                            p = t[g = --e];
                        n[h.uuid] = l, t[l] = h, n[p.uuid] = u, t[u] = p, t.pop();
                        for (var d = 0, f = o; d !== f; ++d) {
                            var m = (y = r[d])[u],
                                v = y[g];
                            y[l] = m, y[u] = v, y.pop()
                        }
                    } else {
                        var g;
                        n[(p = t[g = --e]).uuid] = l, t[l] = p, t.pop();
                        for (d = 0, f = o; d !== f; ++d) {
                            var y;
                            (y = r[d])[l] = y[g], y.pop()
                        }
                    }
            }
            this.nCachedObjects_ = i
        },
        subscribe_: function(t, e) {
            var i = this._bindingsIndicesByPath,
                n = i[t],
                r = this._bindings;
            if (void 0 !== n) return r[n];
            var o = this._paths,
                s = this._parsedPaths,
                a = this._objects,
                c = a.length,
                l = this.nCachedObjects_,
                u = new Array(c);
            n = r.length, i[t] = n, o.push(t), s.push(e), r.push(u);
            for (var h = l, p = a.length; h !== p; ++h) {
                var d = a[h];
                u[h] = new Sc(d, t, e)
            }
            return u
        },
        unsubscribe_: function(t) {
            var e = this._bindingsIndicesByPath,
                i = e[t];
            if (void 0 !== i) {
                var n = this._paths,
                    r = this._parsedPaths,
                    o = this._bindings,
                    s = o.length - 1,
                    a = o[s];
                e[t[s]] = i, o[i] = a, o.pop(), r[i] = r[s], r.pop(), n[i] = n[s], n.pop()
            }
        }
    }), Object.assign(Mc.prototype, {
        play: function() {
            return this._mixer._activateAction(this), this
        },
        stop: function() {
            return this._mixer._deactivateAction(this), this.reset()
        },
        reset: function() {
            return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping()
        },
        isRunning: function() {
            return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
        },
        isScheduled: function() {
            return this._mixer._isActiveAction(this)
        },
        startAt: function(t) {
            return this._startTime = t, this
        },
        setLoop: function(t, e) {
            return this.loop = t, this.repetitions = e, this
        },
        setEffectiveWeight: function(t) {
            return this.weight = t, this._effectiveWeight = this.enabled ? t : 0, this.stopFading()
        },
        getEffectiveWeight: function() {
            return this._effectiveWeight
        },
        fadeIn: function(t) {
            return this._scheduleFading(t, 0, 1)
        },
        fadeOut: function(t) {
            return this._scheduleFading(t, 1, 0)
        },
        crossFadeFrom: function(t, e, i) {
            if (t.fadeOut(e), this.fadeIn(e), i) {
                var n = this._clip.duration,
                    r = t._clip.duration,
                    o = r / n,
                    s = n / r;
                t.warp(1, o, e), this.warp(s, 1, e)
            }
            return this
        },
        crossFadeTo: function(t, e, i) {
            return t.crossFadeFrom(this, e, i)
        },
        stopFading: function() {
            var t = this._weightInterpolant;
            return null !== t && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
        },
        setEffectiveTimeScale: function(t) {
            return this.timeScale = t, this._effectiveTimeScale = this.paused ? 0 : t, this.stopWarping()
        },
        getEffectiveTimeScale: function() {
            return this._effectiveTimeScale
        },
        setDuration: function(t) {
            return this.timeScale = this._clip.duration / t, this.stopWarping()
        },
        syncWith: function(t) {
            return this.time = t.time, this.timeScale = t.timeScale, this.stopWarping()
        },
        halt: function(t) {
            return this.warp(this._effectiveTimeScale, 0, t)
        },
        warp: function(t, e, i) {
            var n = this._mixer,
                r = n.time,
                o = this._timeScaleInterpolant,
                s = this.timeScale;
            null === o && (o = n._lendControlInterpolant(), this._timeScaleInterpolant = o);
            var a = o.parameterPositions,
                c = o.sampleValues;
            return a[0] = r, a[1] = r + i, c[0] = t / s, c[1] = e / s, this
        },
        stopWarping: function() {
            var t = this._timeScaleInterpolant;
            return null !== t && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
        },
        getMixer: function() {
            return this._mixer
        },
        getClip: function() {
            return this._clip
        },
        getRoot: function() {
            return this._localRoot || this._mixer._root
        },
        _update: function(t, e, i, n) {
            if (this.enabled) {
                var r = this._startTime;
                if (null !== r) {
                    var o = (t - r) * i;
                    if (o < 0 || 0 === i) return;
                    this._startTime = null, e = i * o
                }
                e *= this._updateTimeScale(t);
                var s = this._updateTime(e),
                    a = this._updateWeight(t);
                if (a > 0)
                    for (var c = this._interpolants, l = this._propertyBindings, u = 0, h = c.length; u !== h; ++u) c[u].evaluate(s), l[u].accumulate(n, a)
            } else this._updateWeight(t)
        },
        _updateWeight: function(t) {
            var e = 0;
            if (this.enabled) {
                e = this.weight;
                var i = this._weightInterpolant;
                if (null !== i) {
                    var n = i.evaluate(t)[0];
                    e *= n, t > i.parameterPositions[1] && (this.stopFading(), 0 === n && (this.enabled = !1))
                }
            }
            return this._effectiveWeight = e, e
        },
        _updateTimeScale: function(t) {
            var e = 0;
            if (!this.paused) {
                e = this.timeScale;
                var i = this._timeScaleInterpolant;
                if (null !== i) e *= i.evaluate(t)[0], t > i.parameterPositions[1] && (this.stopWarping(), 0 === e ? this.paused = !0 : this.timeScale = e)
            }
            return this._effectiveTimeScale = e, e
        },
        _updateTime: function(t) {
            var e = this.time + t,
                i = this._clip.duration,
                n = this.loop,
                r = this._loopCount,
                o = 2202 === n;
            if (0 === t) return -1 === r ? e : o && 1 == (1 & r) ? i - e : e;
            if (2200 === n) {
                -1 === r && (this._loopCount = 0, this._setEndings(!0, !0, !1));
                t: {
                    if (e >= i) e = i;
                    else {
                        if (!(e < 0)) break t;
                        e = 0
                    }
                    this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, this._mixer.dispatchEvent({
                        type: "finished",
                        action: this,
                        direction: t < 0 ? -1 : 1
                    })
                }
            } else {
                if (-1 === r && (t >= 0 ? (r = 0, this._setEndings(!0, 0 === this.repetitions, o)) : this._setEndings(0 === this.repetitions, !0, o)), e >= i || e < 0) {
                    var s = Math.floor(e / i);
                    e -= i * s, r += Math.abs(s);
                    var a = this.repetitions - r;
                    if (a <= 0) this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, e = t > 0 ? i : 0, this._mixer.dispatchEvent({
                        type: "finished",
                        action: this,
                        direction: t > 0 ? 1 : -1
                    });
                    else {
                        if (1 === a) {
                            var c = t < 0;
                            this._setEndings(c, !c, o)
                        } else this._setEndings(!1, !1, o);
                        this._loopCount = r, this._mixer.dispatchEvent({
                            type: "loop",
                            action: this,
                            loopDelta: s
                        })
                    }
                }
                if (o && 1 == (1 & r)) return this.time = e, i - e
            }
            return this.time = e, e
        },
        _setEndings: function(t, e, i) {
            var n = this._interpolantSettings;
            i ? (n.endingStart = 2401, n.endingEnd = 2401) : (n.endingStart = t ? this.zeroSlopeAtStart ? 2401 : me : 2402, n.endingEnd = e ? this.zeroSlopeAtEnd ? 2401 : me : 2402)
        },
        _scheduleFading: function(t, e, i) {
            var n = this._mixer,
                r = n.time,
                o = this._weightInterpolant;
            null === o && (o = n._lendControlInterpolant(), this._weightInterpolant = o);
            var s = o.parameterPositions,
                a = o.sampleValues;
            return s[0] = r, a[0] = e, s[1] = r + t, a[1] = i, this
        }
    }), Tc.prototype = Object.assign(Object.create(n.prototype), {
        constructor: Tc,
        _bindAction: function(t, e) {
            var i = t._localRoot || this._root,
                n = t._clip.tracks,
                r = n.length,
                o = t._propertyBindings,
                s = t._interpolants,
                a = i.uuid,
                c = this._bindingsByRootAndName,
                l = c[a];
            void 0 === l && (l = {}, c[a] = l);
            for (var u = 0; u !== r; ++u) {
                var h = n[u],
                    p = h.name,
                    d = l[p];
                if (void 0 !== d) o[u] = d;
                else {
                    if (void 0 !== (d = o[u])) {
                        null === d._cacheIndex && (++d.referenceCount, this._addInactiveBinding(d, a, p));
                        continue
                    }
                    var f = e && e._propertyBindings[u].binding.parsedPath;
                    ++(d = new sc(Sc.create(i, p, f), h.ValueTypeName, h.getValueSize())).referenceCount, this._addInactiveBinding(d, a, p), o[u] = d
                }
                s[u].resultBuffer = d.buffer
            }
        },
        _activateAction: function(t) {
            if (!this._isActiveAction(t)) {
                if (null === t._cacheIndex) {
                    var e = (t._localRoot || this._root).uuid,
                        i = t._clip.uuid,
                        n = this._actionsByClip[i];
                    this._bindAction(t, n && n.knownActions[0]), this._addInactiveAction(t, i, e)
                }
                for (var r = t._propertyBindings, o = 0, s = r.length; o !== s; ++o) {
                    var a = r[o];
                    0 == a.useCount++ && (this._lendBinding(a), a.saveOriginalState())
                }
                this._lendAction(t)
            }
        },
        _deactivateAction: function(t) {
            if (this._isActiveAction(t)) {
                for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                    var r = e[i];
                    0 == --r.useCount && (r.restoreOriginalState(), this._takeBackBinding(r))
                }
                this._takeBackAction(t)
            }
        },
        _initMemoryManager: function() {
            this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0;
            var t = this;
            this.stats = {
                actions: {get total() {
                        return t._actions.length
                    },
                    get inUse() {
                        return t._nActiveActions
                    }
                },
                bindings: {get total() {
                        return t._bindings.length
                    },
                    get inUse() {
                        return t._nActiveBindings
                    }
                },
                controlInterpolants: {get total() {
                        return t._controlInterpolants.length
                    },
                    get inUse() {
                        return t._nActiveControlInterpolants
                    }
                }
            }
        },
        _isActiveAction: function(t) {
            var e = t._cacheIndex;
            return null !== e && e < this._nActiveActions
        },
        _addInactiveAction: function(t, e, i) {
            var n = this._actions,
                r = this._actionsByClip,
                o = r[e];
            if (void 0 === o) o = {
                knownActions: [t],
                actionByRoot: {}
            }, t._byClipCacheIndex = 0, r[e] = o;
            else {
                var s = o.knownActions;
                t._byClipCacheIndex = s.length, s.push(t)
            }
            t._cacheIndex = n.length, n.push(t), o.actionByRoot[i] = t
        },
        _removeInactiveAction: function(t) {
            var e = this._actions,
                i = e[e.length - 1],
                n = t._cacheIndex;
            i._cacheIndex = n, e[n] = i, e.pop(), t._cacheIndex = null;
            var r = t._clip.uuid,
                o = this._actionsByClip,
                s = o[r],
                a = s.knownActions,
                c = a[a.length - 1],
                l = t._byClipCacheIndex;
            c._byClipCacheIndex = l, a[l] = c, a.pop(), t._byClipCacheIndex = null, delete s.actionByRoot[(t._localRoot || this._root).uuid], 0 === a.length && delete o[r], this._removeInactiveBindingsForAction(t)
        },
        _removeInactiveBindingsForAction: function(t) {
            for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                var r = e[i];
                0 == --r.referenceCount && this._removeInactiveBinding(r)
            }
        },
        _lendAction: function(t) {
            var e = this._actions,
                i = t._cacheIndex,
                n = this._nActiveActions++,
                r = e[n];
            t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
        },
        _takeBackAction: function(t) {
            var e = this._actions,
                i = t._cacheIndex,
                n = --this._nActiveActions,
                r = e[n];
            t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
        },
        _addInactiveBinding: function(t, e, i) {
            var n = this._bindingsByRootAndName,
                r = n[e],
                o = this._bindings;
            void 0 === r && (r = {}, n[e] = r), r[i] = t, t._cacheIndex = o.length, o.push(t)
        },
        _removeInactiveBinding: function(t) {
            var e = this._bindings,
                i = t.binding,
                n = i.rootNode.uuid,
                r = i.path,
                o = this._bindingsByRootAndName,
                s = o[n],
                a = e[e.length - 1],
                c = t._cacheIndex;
            a._cacheIndex = c, e[c] = a, e.pop(), delete s[r];
            t: {
                for (var l in s) break t;
                delete o[n]
            }
        },
        _lendBinding: function(t) {
            var e = this._bindings,
                i = t._cacheIndex,
                n = this._nActiveBindings++,
                r = e[n];
            t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
        },
        _takeBackBinding: function(t) {
            var e = this._bindings,
                i = t._cacheIndex,
                n = --this._nActiveBindings,
                r = e[n];
            t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
        },
        _lendControlInterpolant: function() {
            var t = this._controlInterpolants,
                e = this._nActiveControlInterpolants++,
                i = t[e];
            return void 0 === i && ((i = new da(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer)).__cacheIndex = e, t[e] = i), i
        },
        _takeBackControlInterpolant: function(t) {
            var e = this._controlInterpolants,
                i = t.__cacheIndex,
                n = --this._nActiveControlInterpolants,
                r = e[n];
            t.__cacheIndex = n, e[n] = t, r.__cacheIndex = i, e[i] = r
        },
        _controlInterpolantsResultBuffer: new Float32Array(1),
        clipAction: function(t, e) {
            var i = e || this._root,
                n = i.uuid,
                r = "string" == typeof t ? Sa.findByName(i, t) : t,
                o = null !== r ? r.uuid : t,
                s = this._actionsByClip[o],
                a = null;
            if (void 0 !== s) {
                var c = s.actionByRoot[n];
                if (void 0 !== c) return c;
                a = s.knownActions[0], null === r && (r = a._clip)
            }
            if (null === r) return null;
            var l = new Mc(this, r, e);
            return this._bindAction(l, a), this._addInactiveAction(l, o, n), l
        },
        existingAction: function(t, e) {
            var i = e || this._root,
                n = i.uuid,
                r = "string" == typeof t ? Sa.findByName(i, t) : t,
                o = r ? r.uuid : t,
                s = this._actionsByClip[o];
            return void 0 !== s && s.actionByRoot[n] || null
        },
        stopAllAction: function() {
            var t = this._actions,
                e = this._nActiveActions,
                i = this._bindings,
                n = this._nActiveBindings;
            this._nActiveActions = 0, this._nActiveBindings = 0;
            for (var r = 0; r !== e; ++r) t[r].reset();
            for (r = 0; r !== n; ++r) i[r].useCount = 0;
            return this
        },
        update: function(t) {
            t *= this.timeScale;
            for (var e = this._actions, i = this._nActiveActions, n = this.time += t, r = Math.sign(t), o = this._accuIndex ^= 1, s = 0; s !== i; ++s) {
                e[s]._update(n, t, r, o)
            }
            var a = this._bindings,
                c = this._nActiveBindings;
            for (s = 0; s !== c; ++s) a[s].apply(o);
            return this
        },
        getRoot: function() {
            return this._root
        },
        uncacheClip: function(t) {
            var e = this._actions,
                i = t.uuid,
                n = this._actionsByClip,
                r = n[i];
            if (void 0 !== r) {
                for (var o = r.knownActions, s = 0, a = o.length; s !== a; ++s) {
                    var c = o[s];
                    this._deactivateAction(c);
                    var l = c._cacheIndex,
                        u = e[e.length - 1];
                    c._cacheIndex = null, c._byClipCacheIndex = null, u._cacheIndex = l, e[l] = u, e.pop(), this._removeInactiveBindingsForAction(c)
                }
                delete n[i]
            }
        },
        uncacheRoot: function(t) {
            var e = t.uuid,
                i = this._actionsByClip;
            for (var n in i) {
                var r = i[n].actionByRoot[e];
                void 0 !== r && (this._deactivateAction(r), this._removeInactiveAction(r))
            }
            var o = this._bindingsByRootAndName[e];
            if (void 0 !== o)
                for (var s in o) {
                    var a = o[s];
                    a.restoreOriginalState(), this._removeInactiveBinding(a)
                }
        },
        uncacheAction: function(t, e) {
            var i = this.existingAction(t, e);
            null !== i && (this._deactivateAction(i), this._removeInactiveAction(i))
        }
    }), Ac.prototype.clone = function() {
        return new Ac(void 0 === this.value.clone ? this.value : this.value.clone())
    }, Cc.prototype = Object.assign(Object.create(Fi.prototype), {
        constructor: Cc,
        isInstancedBufferGeometry: !0,
        copy: function(t) {
            return Fi.prototype.copy.call(this, t), this.maxInstancedCount = t.maxInstancedCount, this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    }), Ec.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: Ec,
        isInstancedInterleavedBuffer: !0,
        copy: function(t) {
            return Rr.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
        }
    }), Oc.prototype = Object.assign(Object.create(Ti.prototype), {
        constructor: Oc,
        isInstancedBufferAttribute: !0,
        copy: function(t) {
            return Ti.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
        }
    }), Object.assign(function(t, e, i, n) {
        this.ray = new sn(t, e), this.near = i || 0, this.far = n || 1 / 0, this.params = {
            Mesh: {},
            Line: {},
            LOD: {},
            Points: {
                threshold: 1
            },
            Sprite: {}
        }, Object.defineProperties(this.params, {
            PointCloud: {
                get: function() {
                    return this.Points
                }
            }
        })
    }.prototype, {
        linePrecision: 1,
        set: function(t, e) {
            this.ray.set(t, e)
        },
        setFromCamera: function(t, e) {
            e && e.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(e.matrixWorld), this.ray.direction.set(t.x, t.y, .5).unproject(e).sub(this.ray.origin).normalize()) : e && e.isOrthographicCamera && (this.ray.origin.set(t.x, t.y, (e.near + e.far) / (e.near - e.far)).unproject(e), this.ray.direction.set(0, 0, -1).transformDirection(e.matrixWorld))
        },
        intersectObject: function(t, e, i) {
            var n = i || [];
            return kc(t, this, n, e), n.sort(Pc), n
        },
        intersectObjects: function(t, e, i) {
            var n = i || [];
            if (!1 === Array.isArray(t)) return n;
            for (var r = 0, o = t.length; r < o; r++) kc(t[r], this, n, e);
            return n.sort(Pc), n
        }
    }), Object.assign(Lc.prototype, {
        start: function() {
            this.startTime = ("undefined" == typeof performance ? Date : performance).now(), this.oldTime = this.startTime, this.elapsedTime = 0, this.running = !0
        },
        stop: function() {
            this.getElapsedTime(), this.running = !1, this.autoStart = !1
        },
        getElapsedTime: function() {
            return this.getDelta(), this.elapsedTime
        },
        getDelta: function() {
            var t = 0;
            if (this.autoStart && !this.running) return this.start(), 0;
            if (this.running) {
                var e = ("undefined" == typeof performance ? Date : performance).now();
                t = (e - this.oldTime) / 1e3, this.oldTime = e, this.elapsedTime += t
            }
            return t
        }
    }), Object.assign(function(t, e, i) {
        return this.radius = void 0 !== t ? t : 1, this.phi = void 0 !== e ? e : 0, this.theta = void 0 !== i ? i : 0, this
    }.prototype, {
        set: function(t, e, i) {
            return this.radius = t, this.phi = e, this.theta = i, this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.radius = t.radius, this.phi = t.phi, this.theta = t.theta, this
        },
        makeSafe: function() {
            return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)), this
        },
        setFromVector3: function(t) {
            return this.setFromCartesianCoords(t.x, t.y, t.z)
        },
        setFromCartesianCoords: function(t, e, i) {
            return this.radius = Math.sqrt(t * t + e * e + i * i), 0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(t, i), this.phi = Math.acos(Pe.clamp(e / this.radius, -1, 1))), this
        }
    }), Object.assign(function(t, e, i) {
        return this.radius = void 0 !== t ? t : 1, this.theta = void 0 !== e ? e : 0, this.y = void 0 !== i ? i : 0, this
    }.prototype, {
        set: function(t, e, i) {
            return this.radius = t, this.theta = e, this.y = i, this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.radius = t.radius, this.theta = t.theta, this.y = t.y, this
        },
        setFromVector3: function(t) {
            return this.setFromCartesianCoords(t.x, t.y, t.z)
        },
        setFromCartesianCoords: function(t, e, i) {
            return this.radius = Math.sqrt(t * t + i * i), this.theta = Math.atan2(t, i), this.y = e, this
        }
    }), Object.assign(Ic.prototype, {
        set: function(t, e) {
            return this.min.copy(t), this.max.copy(e), this
        },
        setFromPoints: function(t) {
            this.makeEmpty();
            for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
            return this
        },
        setFromCenterAndSize: function() {
            var t = new ke;
            return function(e, i) {
                var n = t.copy(i).multiplyScalar(.5);
                return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.min.copy(t.min), this.max.copy(t.max), this
        },
        makeEmpty: function() {
            return this.min.x = this.min.y = 1 / 0, this.max.x = this.max.y = -1 / 0, this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y
        },
        getCenter: function(t) {
            return void 0 === t && (t = new ke), this.isEmpty() ? t.set(0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
        },
        getSize: function(t) {
            return void 0 === t && (t = new ke), this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min)
        },
        expandByPoint: function(t) {
            return this.min.min(t), this.max.max(t), this
        },
        expandByVector: function(t) {
            return this.min.sub(t), this.max.add(t), this
        },
        expandByScalar: function(t) {
            return this.min.addScalar(-t), this.max.addScalar(t), this
        },
        containsPoint: function(t) {
            return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y)
        },
        containsBox: function(t) {
            return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y
        },
        getParameter: function(t, e) {
            return void 0 === e && (e = new ke), e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y))
        },
        intersectsBox: function(t) {
            return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y)
        },
        clampPoint: function(t, e) {
            return void 0 === e && (e = new ke), e.copy(t).clamp(this.min, this.max)
        },
        distanceToPoint: function() {
            var t = new ke;
            return function(e) {
                return t.copy(e).clamp(this.min, this.max).sub(e).length()
            }
        }(),
        intersect: function(t) {
            return this.min.max(t.min), this.max.min(t.max), this
        },
        union: function(t) {
            return this.min.min(t.min), this.max.max(t.max), this
        },
        translate: function(t) {
            return this.min.add(t), this.max.add(t), this
        },
        equals: function(t) {
            return t.min.equals(this.min) && t.max.equals(this.max)
        }
    }), Object.assign(Rc.prototype, {
        set: function(t, e) {
            return this.start.copy(t), this.end.copy(e), this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.start.copy(t.start), this.end.copy(t.end), this
        },
        getCenter: function(t) {
            return void 0 === t && (t = new Re), t.addVectors(this.start, this.end).multiplyScalar(.5)
        },
        delta: function(t) {
            return void 0 === t && (t = new Re), t.subVectors(this.end, this.start)
        },
        distanceSq: function() {
            return this.start.distanceToSquared(this.end)
        },
        distance: function() {
            return this.start.distanceTo(this.end)
        },
        at: function(t, e) {
            return void 0 === e && (e = new Re), this.delta(e).multiplyScalar(t).add(this.start)
        },
        closestPointToPointParameter: (vc = new Re, gc = new Re, function(t, e) {
            vc.subVectors(t, this.start), gc.subVectors(this.end, this.start);
            var i = gc.dot(gc),
                n = gc.dot(vc) / i;
            return e && (n = Pe.clamp(n, 0, 1)), n
        }),
        closestPointToPoint: function(t, e, i) {
            var n = this.closestPointToPointParameter(t, e);
            return void 0 === i && (i = new Re), this.delta(i).multiplyScalar(n).add(this.start)
        },
        applyMatrix4: function(t) {
            return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this
        },
        equals: function(t) {
            return t.start.equals(this.start) && t.end.equals(this.end)
        }
    }), Dc.prototype = Object.create(gi.prototype), Dc.prototype.constructor = Dc, Dc.prototype.isImmediateRenderObject = !0, Nc.prototype = Object.create(Wr.prototype), Nc.prototype.constructor = Nc, Nc.prototype.update = function() {
        var t = new Re,
            e = new Re,
            i = new De;
        return function() {
            var n = ["a", "b", "c"];
            this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld);
            var r = this.object.matrixWorld,
                o = this.geometry.attributes.position,
                s = this.object.geometry;
            if (s && s.isGeometry)
                for (var a = s.vertices, c = s.faces, l = 0, u = 0, h = c.length; u < h; u++)
                    for (var p = c[u], d = 0, f = p.vertexNormals.length; d < f; d++) {
                        var m = a[p[n[d]]],
                            v = p.vertexNormals[d];
                        t.copy(m).applyMatrix4(r), e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), o.setXYZ(l, t.x, t.y, t.z), l += 1, o.setXYZ(l, e.x, e.y, e.z), l += 1
                    } else if (s && s.isBufferGeometry) {
                        var g = s.attributes.position,
                            y = s.attributes.normal;
                        for (l = 0, d = 0, f = g.count; d < f; d++) t.set(g.getX(d), g.getY(d), g.getZ(d)).applyMatrix4(r), e.set(y.getX(d), y.getY(d), y.getZ(d)), e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), o.setXYZ(l, t.x, t.y, t.z), l += 1, o.setXYZ(l, e.x, e.y, e.z), l += 1
                    }
            o.needsUpdate = !0
        }
    }(), zc.prototype = Object.create(gi.prototype), zc.prototype.constructor = zc, zc.prototype.dispose = function() {
        this.cone.geometry.dispose(), this.cone.material.dispose()
    }, zc.prototype.update = function() {
        var t = new Re,
            e = new Re;
        return function() {
            this.light.updateMatrixWorld();
            var i = this.light.distance ? this.light.distance : 1e3,
                n = i * Math.tan(this.light.angle);
            this.cone.scale.set(n, n, i), t.setFromMatrixPosition(this.light.matrixWorld), e.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(e.sub(t)), void 0 !== this.color ? this.cone.material.color.set(this.color) : this.cone.material.color.copy(this.light.color)
        }
    }(), Fc.prototype = Object.create(Wr.prototype), Fc.prototype.constructor = Fc, Fc.prototype.updateMatrixWorld = function() {
        var t = new Re,
            e = new Le,
            i = new Le;
        return function(n) {
            var r = this.bones,
                o = this.geometry,
                s = o.getAttribute("position");
            i.getInverse(this.root.matrixWorld);
            for (var a = 0, c = 0; a < r.length; a++) {
                var l = r[a];
                l.parent && l.parent.isBone && (e.multiplyMatrices(i, l.matrixWorld), t.setFromMatrixPosition(e), s.setXYZ(c, t.x, t.y, t.z), e.multiplyMatrices(i, l.parent.matrixWorld), t.setFromMatrixPosition(e), s.setXYZ(c + 1, t.x, t.y, t.z), c += 2)
            }
            o.getAttribute("position").needsUpdate = !0, gi.prototype.updateMatrixWorld.call(this, n)
        }
    }(), Bc.prototype = Object.create(cn.prototype), Bc.prototype.constructor = Bc, Bc.prototype.dispose = function() {
        this.geometry.dispose(), this.material.dispose()
    }, Bc.prototype.update = function() {
        void 0 !== this.color ? this.material.color.set(this.color) : this.material.color.copy(this.light.color)
    }, jc.prototype = Object.create(gi.prototype), jc.prototype.constructor = jc, jc.prototype.dispose = function() {
        this.children[0].geometry.dispose(), this.children[0].material.dispose()
    }, jc.prototype.update = function() {
        var t = .5 * this.light.width,
            e = .5 * this.light.height,
            i = this.line.geometry.attributes.position,
            n = i.array;
        n[0] = t, n[1] = -e, n[2] = 0, n[3] = t, n[4] = e, n[5] = 0, n[6] = -t, n[7] = e, n[8] = 0, n[9] = -t, n[10] = -e, n[11] = 0, n[12] = t, n[13] = -e, n[14] = 0, i.needsUpdate = !0, void 0 !== this.color ? this.line.material.color.set(this.color) : this.line.material.color.copy(this.light.color)
    }, Uc.prototype = Object.create(gi.prototype), Uc.prototype.constructor = Uc, Uc.prototype.dispose = function() {
        this.children[0].geometry.dispose(), this.children[0].material.dispose()
    }, Uc.prototype.update = function() {
        var t = new Re,
            e = new ri,
            i = new ri;
        return function() {
            var n = this.children[0];
            if (void 0 !== this.color) this.material.color.set(this.color);
            else {
                var r = n.geometry.getAttribute("color");
                e.copy(this.light.color), i.copy(this.light.groundColor);
                for (var o = 0, s = r.count; o < s; o++) {
                    var a = o < s / 2 ? e : i;
                    r.setXYZ(o, a.r, a.g, a.b)
                }
                r.needsUpdate = !0
            }
            n.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())
        }
    }(), Vc.prototype = Object.create(Wr.prototype), Vc.prototype.constructor = Vc, Gc.prototype = Object.create(Wr.prototype), Gc.prototype.constructor = Gc, Wc.prototype = Object.create(Wr.prototype), Wc.prototype.constructor = Wc, Wc.prototype.update = function() {
        var t = new Re,
            e = new Re,
            i = new De;
        return function() {
            this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld);
            for (var n = this.object.matrixWorld, r = this.geometry.attributes.position, o = this.object.geometry, s = o.vertices, a = o.faces, c = 0, l = 0, u = a.length; l < u; l++) {
                var h = a[l],
                    p = h.normal;
                t.copy(s[h.a]).add(s[h.b]).add(s[h.c]).divideScalar(3).applyMatrix4(n), e.copy(p).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), r.setXYZ(c, t.x, t.y, t.z), c += 1, r.setXYZ(c, e.x, e.y, e.z), c += 1
            }
            r.needsUpdate = !0
        }
    }(), Hc.prototype = Object.create(gi.prototype), Hc.prototype.constructor = Hc, Hc.prototype.dispose = function() {
        this.lightPlane.geometry.dispose(), this.lightPlane.material.dispose(), this.targetLine.geometry.dispose(), this.targetLine.material.dispose()
    }, Hc.prototype.update = function() {
        var t = new Re,
            e = new Re,
            i = new Re;
        return function() {
            t.setFromMatrixPosition(this.light.matrixWorld), e.setFromMatrixPosition(this.light.target.matrixWorld), i.subVectors(e, t), this.lightPlane.lookAt(i), void 0 !== this.color ? (this.lightPlane.material.color.set(this.color), this.targetLine.material.color.set(this.color)) : (this.lightPlane.material.color.copy(this.light.color), this.targetLine.material.color.copy(this.light.color)), this.targetLine.lookAt(i), this.targetLine.scale.z = i.length()
        }
    }(), $c.prototype = Object.create(Wr.prototype), $c.prototype.constructor = $c, $c.prototype.update = function() {
        var t, e, i = new Re,
            n = new yi;

        function r(r, o, s, a) {
            i.set(o, s, a).unproject(n);
            var c = e[r];
            if (void 0 !== c)
                for (var l = t.getAttribute("position"), u = 0, h = c.length; u < h; u++) l.setXYZ(c[u], i.x, i.y, i.z)
        }
        return function() {
            t = this.geometry, e = this.pointMap;
            n.projectionMatrix.copy(this.camera.projectionMatrix), r("c", 0, 0, -1), r("t", 0, 0, 1), r("n1", -1, -1, -1), r("n2", 1, -1, -1), r("n3", -1, 1, -1), r("n4", 1, 1, -1), r("f1", -1, -1, 1), r("f2", 1, -1, 1), r("f3", -1, 1, 1), r("f4", 1, 1, 1), r("u1", .7, 1.1, -1), r("u2", -.7, 1.1, -1), r("u3", 0, 2, -1), r("cf1", -1, 0, 1), r("cf2", 1, 0, 1), r("cf3", 0, -1, 1), r("cf4", 0, 1, 1), r("cn1", -1, 0, -1), r("cn2", 1, 0, -1), r("cn3", 0, -1, -1), r("cn4", 0, 1, -1), t.getAttribute("position").needsUpdate = !0
        }
    }(), Xc.prototype = Object.create(Wr.prototype), Xc.prototype.constructor = Xc, Xc.prototype.update = function() {
        var t = new qe;
        return function(e) {
            if (void 0 !== this.object && t.setFromObject(this.object), !t.isEmpty()) {
                var i = t.min,
                    n = t.max,
                    r = this.geometry.attributes.position,
                    o = r.array;
                o[0] = n.x, o[1] = n.y, o[2] = n.z, o[3] = i.x, o[4] = n.y, o[5] = n.z, o[6] = i.x, o[7] = i.y, o[8] = n.z, o[9] = n.x, o[10] = i.y, o[11] = n.z, o[12] = n.x, o[13] = n.y, o[14] = i.z, o[15] = i.x, o[16] = n.y, o[17] = i.z, o[18] = i.x, o[19] = i.y, o[20] = i.z, o[21] = n.x, o[22] = i.y, o[23] = i.z, r.needsUpdate = !0, this.geometry.computeBoundingSphere()
            }
        }
    }(), Xc.prototype.setFromObject = function(t) {
        return this.object = t, this.update(), this
    }, qc.prototype = Object.create(Wr.prototype), qc.prototype.constructor = qc, qc.prototype.updateMatrixWorld = function(t) {
        var e = this.box;
        e.isEmpty() || (e.getCenter(this.position), e.getSize(this.scale), this.scale.multiplyScalar(.5), gi.prototype.updateMatrixWorld.call(this, t))
    }, Yc.prototype = Object.create(Gr.prototype), Yc.prototype.constructor = Yc, Yc.prototype.updateMatrixWorld = function(t) {
        var e = -this.plane.constant;
        Math.abs(e) < 1e-8 && (e = 1e-8), this.scale.set(.5 * this.size, .5 * this.size, e), this.children[0].material.side = e < 0 ? x : b, this.lookAt(this.plane.normal), gi.prototype.updateMatrixWorld.call(this, t)
    }, Zc.prototype = Object.create(gi.prototype), Zc.prototype.constructor = Zc, Zc.prototype.setDirection = (xc = new Re, function(t) {
        t.y > .99999 ? this.quaternion.set(0, 0, 0, 1) : t.y < -.99999 ? this.quaternion.set(1, 0, 0, 0) : (xc.set(t.z, 0, -t.x).normalize(), bc = Math.acos(t.y), this.quaternion.setFromAxisAngle(xc, bc))
    }), Zc.prototype.setLength = function(t, e, i) {
        void 0 === e && (e = .2 * t), void 0 === i && (i = .2 * e), this.line.scale.set(1, Math.max(0, t - e), 1), this.line.updateMatrix(), this.cone.scale.set(i, e, i), this.cone.position.y = t, this.cone.updateMatrix()
    }, Zc.prototype.setColor = function(t) {
        this.line.material.color.copy(t), this.cone.material.color.copy(t)
    }, Jc.prototype = Object.create(Wr.prototype), Jc.prototype.constructor = Jc;

    function Qc(t) {
        Bs.call(this, t), this.type = "catmullrom"
    }
    ks.create = function(t, e) {
        return t.prototype = Object.create(ks.prototype), t.prototype.constructor = t, t.prototype.getPoint = e, t
    }, Object.assign(Js.prototype, {
        createPointsGeometry: function(t) {
            var e = this.getPoints(t);
            return this.createGeometry(e)
        },
        createSpacedPointsGeometry: function(t) {
            var e = this.getSpacedPoints(t);
            return this.createGeometry(e)
        },
        createGeometry: function(t) {
            for (var e = new Mi, i = 0, n = t.length; i < n; i++) {
                var r = t[i];
                e.vertices.push(new Re(r.x, r.y, r.z || 0))
            }
            return e
        }
    }), Object.assign(Qs.prototype, {
        fromPoints: function(t) {
            this.setFromPoints(t)
        }
    }), Object.create(Bs.prototype), Object.create(Bs.prototype), Qc.prototype = Object.create(Bs.prototype), Object.assign(Qc.prototype, {
        initFromArray: function() {},
        getControlPointsArray: function() {},
        reparametrizeByArcLength: function() {}
    }), Vc.prototype.setColors = function() {}, Fc.prototype.update = function() {}, Object.assign(La.prototype, {
        extractUrlBase: function(t) {
            return Ia(t)
        }
    }), Object.assign(Ic.prototype, {
        center: function(t) {
            return this.getCenter(t)
        },
        empty: function() {
            return this.isEmpty()
        },
        isIntersectionBox: function(t) {
            return this.intersectsBox(t)
        },
        size: function(t) {
            return this.getSize(t)
        }
    }), Object.assign(qe.prototype, {
        center: function(t) {
            return this.getCenter(t)
        },
        empty: function() {
            return this.isEmpty()
        },
        isIntersectionBox: function(t) {
            return this.intersectsBox(t)
        },
        isIntersectionSphere: function(t) {
            return this.intersectsSphere(t)
        },
        size: function(t) {
            return this.getSize(t)
        }
    }), Rc.prototype.center = function(t) {
        return this.getCenter(t)
    }, Object.assign(Pe, {
        random16: function() {
            return Math.random()
        },
        nearestPowerOfTwo: function(t) {
            return Pe.floorPowerOfTwo(t)
        },
        nextPowerOfTwo: function(t) {
            return Pe.ceilPowerOfTwo(t)
        }
    }), Object.assign(De.prototype, {
        flattenToArrayOffset: function(t, e) {
            return this.toArray(t, e)
        },
        multiplyVector3: function(t) {
            return t.applyMatrix3(this)
        },
        multiplyVector3Array: function() {},
        applyToBuffer: function(t) {
            return this.applyToBufferAttribute(t)
        },
        applyToVector3Array: function() {}
    }), Object.assign(Le.prototype, {
        extractPosition: function(t) {
            return this.copyPosition(t)
        },
        flattenToArrayOffset: function(t, e) {
            return this.toArray(t, e)
        },
        getPosition: function() {
            var t;
            return function() {
                return void 0 === t && (t = new Re), t.setFromMatrixColumn(this, 3)
            }
        }(),
        setRotationFromQuaternion: function(t) {
            return this.makeRotationFromQuaternion(t)
        },
        multiplyToArray: function() {},
        multiplyVector3: function(t) {
            return t.applyMatrix4(this)
        },
        multiplyVector4: function(t) {
            return t.applyMatrix4(this)
        },
        multiplyVector3Array: function() {},
        rotateAxis: function(t) {
            t.transformDirection(this)
        },
        crossVector: function(t) {
            return t.applyMatrix4(this)
        },
        translate: function() {},
        rotateX: function() {},
        rotateY: function() {},
        rotateZ: function() {},
        rotateByAxis: function() {},
        applyToBuffer: function(t) {
            return this.applyToBufferAttribute(t)
        },
        applyToVector3Array: function() {},
        makeFrustum: function(t, e, i, n, r, o) {
            return this.makePerspective(t, e, n, i, r, o)
        }
    }), Ze.prototype.isIntersectionLine = function(t) {
        return this.intersectsLine(t)
    }, Ie.prototype.multiplyVector3 = function(t) {
        return t.applyQuaternion(this)
    }, Object.assign(sn.prototype, {
        isIntersectionBox: function(t) {
            return this.intersectsBox(t)
        },
        isIntersectionPlane: function(t) {
            return this.intersectsPlane(t)
        },
        isIntersectionSphere: function(t) {
            return this.intersectsSphere(t)
        }
    }), Object.assign(an.prototype, {
        area: function() {
            return this.getArea()
        },
        barycoordFromPoint: function(t, e) {
            return this.getBarycoord(t, e)
        },
        midpoint: function(t) {
            return this.getMidpoint(t)
        },
        normal: function(t) {
            return this.getNormal(t)
        },
        plane: function(t) {
            return this.getPlane(t)
        }
    }), Object.assign(an, {
        barycoordFromPoint: function(t, e, i, n, r) {
            return an.getBarycoord(t, e, i, n, r)
        },
        normal: function(t, e, i, n) {
            return an.getNormal(t, e, i, n)
        }
    }), Object.assign(Ks.prototype, {
        extractAllPoints: function(t) {
            return this.extractPoints(t)
        },
        extrude: function(t) {
            return new Go(this, t)
        },
        makeGeometry: function(t) {
            return new es(this, t)
        }
    }), Object.assign(ke.prototype, {
        fromAttribute: function(t, e, i) {
            return this.fromBufferAttribute(t, e, i)
        },
        distanceToManhattan: function(t) {
            return this.manhattanDistanceTo(t)
        },
        lengthManhattan: function() {
            return this.manhattanLength()
        }
    }), Object.assign(Re.prototype, {
        setEulerFromRotationMatrix: function() {},
        setEulerFromQuaternion: function() {},
        getPositionFromMatrix: function(t) {
            return this.setFromMatrixPosition(t)
        },
        getScaleFromMatrix: function(t) {
            return this.setFromMatrixScale(t)
        },
        getColumnFromMatrix: function(t, e) {
            return this.setFromMatrixColumn(e, t)
        },
        applyProjection: function(t) {
            return this.applyMatrix4(t)
        },
        fromAttribute: function(t, e, i) {
            return this.fromBufferAttribute(t, e, i)
        },
        distanceToManhattan: function(t) {
            return this.manhattanDistanceTo(t)
        },
        lengthManhattan: function() {
            return this.manhattanLength()
        }
    }), Object.assign(We.prototype, {
        fromAttribute: function(t, e, i) {
            return this.fromBufferAttribute(t, e, i)
        },
        lengthManhattan: function() {
            return this.manhattanLength()
        }
    }), Object.assign(Mi.prototype, {
        computeTangents: function() {},
        computeLineDistances: function() {}
    }), Object.assign(gi.prototype, {
        getChildByName: function(t) {
            return this.getObjectByName(t)
        },
        renderDepth: function() {},
        translate: function(t, e) {
            return this.translateOnAxis(e, t)
        },
        getWorldRotation: function() {}
    }), Object.defineProperties(gi.prototype, {
        eulerOrder: {
            get: function() {
                return this.rotation.order
            },
            set: function(t) {
                this.rotation.order = t
            }
        },
        useQuaternion: {
            get: function() {},
            set: function() {}
        }
    }), Object.defineProperties(Fr.prototype, {
        objects: {
            get: function() {
                return this.levels
            }
        }
    }), Object.defineProperty(Br.prototype, "useVertexTexture", {
        get: function() {},
        set: function() {}
    }), Object.defineProperty(ks.prototype, "__arcLengthDivisions", {
        get: function() {
            return this.arcLengthDivisions
        },
        set: function(t) {
            this.arcLengthDivisions = t
        }
    }), Cr.prototype.setLens = function(t, e) {
        void 0 !== e && (this.filmGauge = e), this.setFocalLength(t)
    }, Object.defineProperties(ta.prototype, {
        onlyShadow: {
            set: function() {}
        },
        shadowCameraFov: {
            set: function(t) {
                this.shadow.camera.fov = t
            }
        },
        shadowCameraLeft: {
            set: function(t) {
                this.shadow.camera.left = t
            }
        },
        shadowCameraRight: {
            set: function(t) {
                this.shadow.camera.right = t
            }
        },
        shadowCameraTop: {
            set: function(t) {
                this.shadow.camera.top = t
            }
        },
        shadowCameraBottom: {
            set: function(t) {
                this.shadow.camera.bottom = t
            }
        },
        shadowCameraNear: {
            set: function(t) {
                this.shadow.camera.near = t
            }
        },
        shadowCameraFar: {
            set: function(t) {
                this.shadow.camera.far = t
            }
        },
        shadowCameraVisible: {
            set: function() {}
        },
        shadowBias: {
            set: function(t) {
                this.shadow.bias = t
            }
        },
        shadowDarkness: {
            set: function() {}
        },
        shadowMapWidth: {
            set: function(t) {
                this.shadow.mapSize.width = t
            }
        },
        shadowMapHeight: {
            set: function(t) {
                this.shadow.mapSize.height = t
            }
        }
    }), Object.defineProperties(Ti.prototype, {
        length: {
            get: function() {
                return this.array.length
            }
        },
        copyIndicesArray: function() {}
    }), Object.assign(Fi.prototype, {
        addIndex: function(t) {
            this.setIndex(t)
        },
        addDrawCall: function(t, e, i) {
            this.addGroup(t, e)
        },
        clearDrawCalls: function() {
            this.clearGroups()
        },
        computeTangents: function() {},
        computeOffsets: function() {}
    }), Object.defineProperties(Fi.prototype, {
        drawcalls: {
            get: function() {
                return this.groups
            }
        },
        offsets: {
            get: function() {
                return this.groups
            }
        }
    }), Object.assign(Wo.prototype, {
        getArrays: function() {},
        addShapeList: function() {},
        addShape: function() {}
    }), Object.defineProperties(Ac.prototype, {
        dynamic: {
            set: function() {}
        },
        onUpdate: {
            value: function() {
                return this
            }
        }
    }), Object.defineProperties(nn.prototype, {
        wrapAround: {
            get: function() {},
            set: function() {}
        },
        wrapRGB: {
            get: function() {
                return new ri
            }
        },
        shading: {
            get: function() {},
            set: function(t) {
                this.flatShading = 1 === t
            }
        }
    }), Object.defineProperties(vs.prototype, {
        metal: {
            get: function() {
                return !1
            },
            set: function() {}
        }
    }), Object.defineProperties(on.prototype, {
        derivatives: {
            get: function() {
                return this.extensions.derivatives
            },
            set: function(t) {
                this.extensions.derivatives = t
            }
        }
    }), Object.assign(Pr.prototype, {
        animate: function(t) {
            this.setAnimationLoop(t)
        },
        getCurrentRenderTarget: function() {
            return this.getRenderTarget()
        },
        getMaxAnisotropy: function() {
            return this.capabilities.getMaxAnisotropy()
        },
        getPrecision: function() {
            return this.capabilities.precision
        },
        resetGLState: function() {
            return this.state.reset()
        },
        supportsFloatTextures: function() {
            return this.extensions.get("OES_texture_float")
        },
        supportsHalfFloatTextures: function() {
            return this.extensions.get("OES_texture_half_float")
        },
        supportsStandardDerivatives: function() {
            return this.extensions.get("OES_standard_derivatives")
        },
        supportsCompressedTextureS3TC: function() {
            return this.extensions.get("WEBGL_compressed_texture_s3tc")
        },
        supportsCompressedTexturePVRTC: function() {
            return this.extensions.get("WEBGL_compressed_texture_pvrtc")
        },
        supportsBlendMinMax: function() {
            return this.extensions.get("EXT_blend_minmax")
        },
        supportsVertexTextures: function() {
            return this.capabilities.vertexTextures
        },
        supportsInstancedArrays: function() {
            return this.extensions.get("ANGLE_instanced_arrays")
        },
        enableScissorTest: function(t) {
            this.setScissorTest(t)
        },
        initMaterial: function() {},
        addPrePlugin: function() {},
        addPostPlugin: function() {},
        updateShadowMap: function() {},
        setFaceCulling: function() {}
    }), Object.defineProperties(Pr.prototype, {
        shadowMapEnabled: {
            get: function() {
                return this.shadowMap.enabled
            },
            set: function(t) {
                this.shadowMap.enabled = t
            }
        },
        shadowMapType: {
            get: function() {
                return this.shadowMap.type
            },
            set: function(t) {
                this.shadowMap.type = t
            }
        },
        shadowMapCullFace: {
            get: function() {},
            set: function() {}
        }
    }), Object.defineProperties(Mr.prototype, {
        cullFace: {
            get: function() {},
            set: function() {}
        },
        renderReverseSided: {
            get: function() {},
            set: function() {}
        },
        renderSingleSided: {
            get: function() {},
            set: function() {}
        }
    }), Object.defineProperties(He.prototype, {
        wrapS: {
            get: function() {
                return this.texture.wrapS
            },
            set: function(t) {
                this.texture.wrapS = t
            }
        },
        wrapT: {
            get: function() {
                return this.texture.wrapT
            },
            set: function(t) {
                this.texture.wrapT = t
            }
        },
        magFilter: {
            get: function() {
                return this.texture.magFilter
            },
            set: function(t) {
                this.texture.magFilter = t
            }
        },
        minFilter: {
            get: function() {
                return this.texture.minFilter
            },
            set: function(t) {
                this.texture.minFilter = t
            }
        },
        anisotropy: {
            get: function() {
                return this.texture.anisotropy
            },
            set: function(t) {
                this.texture.anisotropy = t
            }
        },
        offset: {
            get: function() {
                return this.texture.offset
            },
            set: function(t) {
                this.texture.offset = t
            }
        },
        repeat: {
            get: function() {
                return this.texture.repeat
            },
            set: function(t) {
                this.texture.repeat = t
            }
        },
        format: {
            get: function() {
                return this.texture.format
            },
            set: function(t) {
                this.texture.format = t
            }
        },
        type: {
            get: function() {
                return this.texture.type
            },
            set: function(t) {
                this.texture.type = t
            }
        },
        generateMipmaps: {
            get: function() {
                return this.texture.generateMipmaps
            },
            set: function(t) {
                this.texture.generateMipmaps = t
            }
        }
    }), Object.defineProperties(Or.prototype, {
        standing: {
            set: function() {}
        },
        userHeight: {
            set: function() {}
        }
    }), nc.prototype.load = function(t) {
        var e = this;
        return (new tc).load(t, function(t) {
            e.setBuffer(t)
        }), this
    }, oc.prototype.getData = function() {
        return this.getFrequencyData()
    }, ec.prototype.updateCubeMap = function(t, e) {
        return this.update(t, e)
    };
    Ue.crossOrigin = void 0, Ue.loadTexture = function(t, e, i, n) {
        var r = new Ps;
        r.setCrossOrigin(this.crossOrigin);
        var o = r.load(t, i, void 0, n);
        return e && (o.mapping = e), o
    }, Ue.loadTextureCube = function(t, e, i, n) {
        var r = new Os;
        r.setCrossOrigin(this.crossOrigin);
        var o = r.load(t, i, void 0, n);
        return e && (o.mapping = e), o
    }, Ue.loadCompressedTexture = function() {}, Ue.loadCompressedTextureCube = function() {}
}, function(t, e, i) {
    "use strict";
    var n = i(24),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(30),
        u = i.n(l),
        h = i(31),
        p = i.n(h),
        d = i(32),
        f = i.n(d),
        m = i(9),
        v = i.n(m),
        g = i(37),
        y = i(41),
        _ = i(57),
        b = i(13),
        x = i(330),
        w = (i.n(x), function(t) {
            function e(t) {
                s()(this, e);
                var i = u()(this, (e.__proto__ || r()(e)).call(this, t)),
                    n = i;
                return n.tabIndex = 1, n.$tabNavi = v()(".tab-nav", n.$wrap), n.$slickWrap = v()(".story-skill-wrap", n.$wrap), n._$contents = v()(".section-contents", n.$wrap), n._$title = v()("h2", n._$contents), n.$storyWrap_1 = v()(".story1-el", n.$wrap), n.$char1_1 = v()(".el-story-char1", n.$storyWrap_1), n.$char1_2 = v()(".el-story-char2", n.$storyWrap_1), n.$storyWrap_2 = v()(".story2-el", n.$wrap), n.$char2_1 = v()(".el-story-char1", n.$storyWrap_2), n.$char2_2 = v()(".el-story-char2", n.$storyWrap_2), i
            }
            return f()(e, t), c()(e, [{
                key: "init",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "init", this).call(this, t);
                    var i = this;
                    return i.setTab(), i.setSlick(i.$slickWrap), i.setYoutube(), i._reset(), i
                }
            }, {
                key: "_startAnimation story",
                value: function(t) {
                    console.log('_startAnimation')
                    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        i = this;
                    if (g.a.killTweensOf(i.$char1_1), g.a.killTweensOf(i.$char1_2), g.a.killTweensOf(i.$char2_1), g.a.killTweensOf(i.$char2_2), Object(b.w)(e)) switch (g.a.killTweensOf(i._$contents), g.a.killTweensOf(i._$title), g.a.fromTo(i._$contents, 1.2, {
                        autoAlpha: 0
                    }, {
                        autoAlpha: 1,
                        ease: Expo.easeInOut
                    }), g.a.fromTo(i._$title, 1.5, {
                        autoAlpha: 0
                    }, {
                        autoAlpha: 1,
                        ease: Cubic.easeInOut
                    }), t) {
                        case 1:
                            g.a.fromTo(i.$char1_1, 1.2, {
                                x: 450,
                                y: 75,
                                autoAlpha: 0
                            }, {
                                x: 0,
                                y: 0,
                                autoAlpha: 1,
                                ease: Expo.easeOut
                            }), g.a.fromTo(i.$char1_2, 1.2, {
                                x: -450,
                                y: 75,
                                autoAlpha: 0
                            }, {
                                x: 0,
                                y: 0,
                                autoAlpha: 1,
                                ease: Expo.easeOut
                            });
                            break;
                        case 2:
                            g.a.fromTo(i.$char2_1, 1.2, {
                                x: 450,
                                y: 75,
                                autoAlpha: 0
                            }, {
                                x: 0,
                                y: 0,
                                autoAlpha: 1,
                                ease: Expo.easeOut
                            }), g.a.fromTo(i.$char2_2, 1.2, {
                                x: -450,
                                y: 75,
                                autoAlpha: 0
                            }, {
                                x: 0,
                                y: 0,
                                autoAlpha: 1,
                                ease: Expo.easeOut
                            });
                            break;
                        case 3:
                            g.a.to(i.$char1_1, .7, {
                                autoAlpha: 0,
                                ease: Expo.easeOut
                            }), g.a.to(i.$char1_2, .7, {
                                autoAlpha: 0,
                                ease: Expo.easeOut
                            }), g.a.to(i.$char2_1, .7, {
                                autoAlpha: 0,
                                ease: Expo.easeOut
                            }), g.a.to(i.$char2_2, .7, {
                                autoAlpha: 0,
                                ease: Expo.easeOut
                            })
                    } else switch (t) {
                        case 1:
                            g.a.fromTo(i.$char1_1, 1.2, {
                                x: -75,
                                autoAlpha: 0
                            }, {
                                x: 0,
                                autoAlpha: 1,
                                ease: Expo.easeOut
                            }), g.a.fromTo(i.$char1_2, 1.2, {
                                x: -75,
                                autoAlpha: 0
                            }, {
                                x: 0,
                                autoAlpha: 1,
                                ease: Expo.easeOut
                            }), g.a.fromTo(i.$char2_1, .7, {
                                x: 0,
                                autoAlpha: 1
                            }, {
                                x: 75,
                                autoAlpha: 0,
                                ease: Cubic.easeOut
                            }), g.a.fromTo(i.$char2_2, .7, {
                                x: 0,
                                autoAlpha: 1
                            }, {
                                x: 75,
                                autoAlpha: 0,
                                ease: Cubic.easeOut
                            });
                            break;
                        case 2:
                            g.a.fromTo(i.$char1_1, .7, {
                                x: 0,
                                autoAlpha: 1
                            }, {
                                x: -75,
                                autoAlpha: 0,
                                ease: Cubic.easeOut
                            }), g.a.fromTo(i.$char1_2, .7, {
                                x: 0,
                                autoAlpha: 1
                            }, {
                                x: -75,
                                autoAlpha: 0,
                                ease: Cubic.easeOut
                            }), g.a.fromTo(i.$char2_1, 1.2, {
                                x: 75,
                                autoAlpha: 0
                            }, {
                                x: 0,
                                autoAlpha: 1,
                                ease: Expo.easeOut
                            }), g.a.fromTo(i.$char2_2, 1.2, {
                                x: 75,
                                autoAlpha: 0
                            }, {
                                x: 0,
                                autoAlpha: 1,
                                ease: Expo.easeOut
                            });
                            break;
                        case 3:
                            g.a.to(i.$char1_1, .7, {
                                autoAlpha: 0,
                                ease: Expo.easeOut
                            }), g.a.to(i.$char1_2, .7, {
                                autoAlpha: 0,
                                ease: Expo.easeOut
                            }), g.a.to(i.$char2_1, .7, {
                                autoAlpha: 0,
                                ease: Expo.easeOut
                            }), g.a.to(i.$char2_2, .7, {
                                autoAlpha: 0,
                                ease: Expo.easeOut
                            })
                    }
                    return i
                }
            }, {
                key: "_reset",
                value: function() {
                    var t = this;
                    return g.a.killTweensOf(t._$contents), g.a.killTweensOf(t._$title), g.a.killTweensOf(t.$char1_1), g.a.killTweensOf(t.$char1_2), g.a.killTweensOf(t.$char2_1), g.a.killTweensOf(t.$char2_2), g.a.set(t._$contents, {
                        autoAlpha: 0
                    }), g.a.set(t._$title, {
                        autoAlpha: 0
                    }), g.a.set(t.$char1_1, {
                        autoAlpha: 0
                    }), g.a.set(t.$char1_2, {
                        autoAlpha: 0
                    }), g.a.set(t.$char2_1, {
                        autoAlpha: 0
                    }), g.a.set(t.$char2_2, {
                        autoAlpha: 0
                    }), t
                }
            }, {
                key: "enter",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    var t = this;
                    return t._startAnimation(t.tabIndex, !0), t
                }
            }, {
                key: "exit",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._reset(), this
                }
            }, {
                key: "recalculateSlickWraps",
                value: function() {
                    var t = this;
                    Object(b.s)(t.$slickWrap) && (t.$slickWrap.slick("setPosition"), t.$slickWrap.slick("resize"))
                }
            }, {
                key: "resize",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "setSlick",
                value: function(t) {
                    !t || t.length <= 0 || t.slick({
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        infinite: !1,
                        arrows: !0,
                        autoplay: !1,
                        dots: !0,
                        useCSS: !0,
                        useTransform: !1,
                        cssEase: "ease-out"
                    })
                }
            }, {
                key: "setTab",
                value: function() {
                    var t = this,
                        e = t.$tabNavi.find("li");
                    e.on("click", function(i) {
                        i.preventDefault();
                        var n = v()(this),
                            r = v()("a", n).attr("href");
                        if (!n.hasClass("is-disabled")) {
                            var o = e.index(this) + 1;
                            o !== t.tabIndex && (t.activateTab(o, r), t._startAnimation(o, !1), t.recalculateSlickWraps(), t.tabIndex = o)
                        }
                    })
                }
            }, {
                key: "activateTab",
                value: function(t, e) {
                    console.log('actiov')
                    var i = v()(this.$tabNavi.find("li"));
                    i.removeClass("is-active"), v()(i.get(t - 1)).addClass("is-active");
                    var n = v()(".tab-content", this.$wrap);
                    n.removeClass("is-active");
                    (Object(b.l)(e) ? v()(e) : v()(n.get(t - 1))).addClass("is-active")
                }
            }, {
                key: "setYoutube",
                value: function() {
                    var t = _.d.movieModal.options,
                        e = _.d.movieModal.baseUrl,
                        i = new x.Modal(t);
                    v()('[data-module-id="youtube"]').on("click", function(t) {
                        t.preventDefault();
                        var n = v()(t.currentTarget).attr("data-youtube-id"),
                            r = e + n;
                        i.setYoutubeUrl(r), i.show()
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "destroy", this).call(this, t);
                    return this
                }
            }]), e
        }(y.a));
    e.a = w
}, function(t, e, i) {
    ! function(t) {
        "use strict";
        var e = function(t, e) {
                for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
                return t
            },
            i = function(t, i) {
                this._node = jQuery('<div class="ncUiBackdrop"></div>'), this.onclicked = jQuery.Callbacks(), this._parent = t._parent || jQuery("body"), this._options = {
                    position: "fixed",
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    "z-index": 100010,
                    background: "#000",
                    opacity: "0.5",
                    filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"
                }, this._options.isBackdropClickClose = i, this._options = e(this._options, t), this._options._parent = "", this._init()
            };
        i.prototype.show = function() {
            this._node.show()
        }, i.prototype.hide = function() {
            this._node.hide()
        }, i.prototype.remove = function() {
            this._node.remove()
        }, i.prototype._init = function() {
            if (this._parent.has(this._node).length) return this._node;
            var t = this._options;
            return t._parent = "", this._node.hide().css(t), this._parent.append(this._node), this.addEvent(), this._node
        }, i.prototype.addEvent = function() {
            var t = this;
            this._node.click(function(e) {
                t._options.isBackdropClickClose && t.onclicked.fire()
            })
        };
        var n = function(t) {
            this._node = jQuery('<div class="ncUiModal"></div>'), this._options = {
                _parent: jQuery("body"),
                type: "",
                url: "",
                w: "",
                h: "",
                content: "",
                isBackdrop: !0,
                isBackdropClickClose: !0,
                backdropCss: {},
                isEsc: !1,
                isMove: !1,
                top: 0,
                left: 0,
                movieParams: "?autoplay=1&version=3&enablejsapi=1",
                isAutoButton: !1,
                isRemoveButton: !1,
                hideCallback: function() {},
                showCallback: function() {}
            }, this._options = e(this._options, t), this._content = "", this._options.backdropCss._parent = this._options._parent, this._backdrop = this._options.isBackdrop ? new i(this._options.backdropCss, this._options.isBackdropClickClose) : null
        };
        n.prototype.getNode = function() {
            return this._node
        }, n.prototype._append = function() {
            this._options._parent.append(this._node)
        }, n.prototype.show = function() {
            this._backdrop && this._backdrop.show(), this._node.show()
        }, n.prototype.remove = function() {
            this._backdrop && this._backdrop.remove(), this._node.find("iframe").attr("src", ""), this._node.remove()
        }, n.prototype.hide = function() {
            this._backdrop && this._backdrop.hide(), this._node.hide()
        }, n.prototype._init = function() {
            this._append(), this.setContent(), this._setModal(), this._setCloseButton(), this._addEvent(), this.hide(), this._content.show()
        }, n.prototype.setContent = function() {
            this._content = jQuery(this._options.content).hide(), this._node.append(this._content), this._options.w = this._content.outerWidth(), this._options.h = this._content.outerHeight()
        }, n.prototype._setCloseButton = function(t) {
            this._closeButton = this._content && this._content.find(".layerClose").length ? this._content.find(".layerClose") : [], 0 === this._closeButton.length && this._options.isAutoButton && (this._closeButton = jQuery('<span class="layerClose">' + (t || "close") + "</span>"), this._node.append(this._closeButton), this._closeButton.css({
                position: "absolute",
                "text-indent": "-119988px",
                cursor: "pointer",
                "z-index": 100050
            }))
        }, n.prototype._addEvent = function() {
            var t = this;
            this._backdrop && this._backdrop.onclicked.add(function() {
                t.hide()
            })
        }, n.prototype._setModal = function() {
            var t = this._options,
                e = t.w || "90vw",
                i = t.h || "50.625vw";
            jQuery(window).scrollLeft();
            this._node.css({
                position: "fixed",
                left: 0,
                top: 0,
                bottom: 0,
                right: 0,
                width: "90vw",
                height: "50.625vw",
                "max-width": "160vh",
                "max-height": "90vh",
                margin: "auto",
                "z-index": 100020
            }).width(e).height(i).show(), i > jQuery(window).height() && this._node.css({
                position: "absolute"
            })
        };
        var r = function(t) {
            this.modal = new n(t);
            t = this.modal._options;
            this._url = t.url + t.movieParams, this._frame = "", "youtube" === t.type ? (this._init(), this.modal.getNode().addClass("youtubeLayer")) : this.modal._init(), this._addEvent()
        };
        r.prototype._isMovePosition = function() {
            var t = this.modal,
                e = 0;
            t._options.isMove && (e = "auto" === t._options.top ? jQuery(window).scrollTop() + 30 : t._options.top, "auto" != t._options.left && 0 != t._options.left && t._node.css({
                "margin-left": 0,
                left: t._options.left + "px"
            }), t._node.css({
                position: "absolute",
                "margin-top": "auto",
                top: e + "px"
            }))
        }, r.prototype._addEvent = function() {
            var t = this;
            this.modal._backdrop && this.modal._backdrop.onclicked.add(function() {
                t.hide()
            }), t.modal._options.isEsc && jQuery(window).on("keydown", function(e) {
                27 === e.keyCode && t.hide()
            }), this.modal._closeButton.length && this.modal._closeButton.click(function(e) {
                e.preventDefault(), t.modal._options.isRemoveButton ? t.remove() : t.hide()
            })
        }, r.prototype._init = function() {
            this.modal._append(), this.modal._setModal(), this.modal._setCloseButton(), this.modal._addEvent(), this.modal.hide()
        }, r.prototype.changeContent = function(t) {
            this.modal._options;
            var e = this.modal._content;
            e.remove(), e = jQuery(t), this.modal._node.append(e)
        }, r.prototype.resetSize = function() {
            var t = this.modal._options,
                e = this.modal._content;
            t.w = e.outerWidth(), t.h = e.outerHeight(), this.modal._setModal(), this._isMovePosition()
        }, r.prototype.setYoutubeUrl = function(t) {
            this._url = t
        }, r.prototype.show = function() {
            var t = this.modal._options;
            "youtube" === t.type && (this._frame ? this._frame.attr("src", this._url + t.movieParams) : this.setContent()), this._isMovePosition(), this.modal.show(), t.showCallback && t.showCallback()
        }, r.prototype.remove = function() {
            "youtube" === this.modal._options.type && this._frame && this._frame.remove(), this.modal.remove()
        }, r.prototype.hide = function() {
            var t = this.modal._options;
            "youtube" === t.type && this._frame && this._frame.attr("src", ""), this.modal.hide(), t.hideCallback && t.hideCallback()
        }, r.prototype.setContent = function() {
            var t = this.modal._options;
            t.w, t.h;
            this._frame = jQuery('<iframe width="100%" height="100%" style="position: absolute; left: 0; top: 0;" src="' + this._url + t.movieParams + '" frameborder="0" allowfullscreen></iframe>'), this.modal._node.append(this._frame)
        }, t.Backdrop = i, t.Modal = r
    }(e)
}, function(t, e, i) {
    "use strict";
    var n = i(24),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(30),
        u = i.n(l),
        h = i(31),
        p = i.n(h),
        d = i(32),
        f = i.n(d),
        m = i(9),
        v = i.n(m),
        g = i(37),
        y = i(41),
        _ = i(13),
        b = function(t) {
            function e(t) {
                s()(this, e);
                var i = u()(this, (e.__proto__ || r()(e)).call(this, t)),
                    n = i;
                return n.tabIndex = 1, n.$tabNavi = v()(".tab-nav", n.$wrap), n.$slickWrap = v()(".dungeon-list-wrap", n.$wrap), n._$contents = v()(".section-contents", n.$wrap), n._$title = v()("h2", n._$contents), i
            }
            return f()(e, t), c()(e, [{
                key: "init",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "init", this).call(this, t);
                    var i = this;
                    return i.setTab(), i.setSlick(i.$slickWrap), i._reset(), i
                }
            }, {
                key: "_startAnimation",
                value: function() {
                    var t = this;
                    return g.a.killTweensOf(t._$contents), g.a.killTweensOf(t._$title), g.a.fromTo(t._$contents, 1.2, {
                        autoAlpha: 0
                    }, {
                        scale: 1,
                        autoAlpha: 1,
                        ease: Expo.easeInOut
                    }), g.a.fromTo(t._$title, 1.5, {
                        autoAlpha: 0
                    }, {
                        scale: 1,
                        autoAlpha: 1,
                        ease: Cubic.easeInOut
                    }), t
                }
            }, {
                key: "_reset",
                value: function() {
                    var t = this;
                    return g.a.killTweensOf(t._$contents), g.a.killTweensOf(t._$title), g.a.set(t._$contents, {
                        autoAlpha: 0
                    }), g.a.set(t._$title, {
                        autoAlpha: 0
                    }), t
                }
            }, {
                key: "enter",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._startAnimation(), this
                }
            }, {
                key: "exit",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "setSlick",
                value: function(t) {
                    !t || t.length <= 0 || t.slick({
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        infinite: !1,
                        arrows: !0,
                        autoplay: !1,
                        dots: !0,
                        useCSS: !0,
                        useTransform: !1,
                        cssEase: "ease-out"
                    })
                }
            }, {
                key: "setTab",
                value: function() {
                    var t = this,
                        e = t.$tabNavi.find("li");
                    e.on("click", function(i) {
                        i.preventDefault();
                        var n = v()(this),
                            r = v()("a", n).attr("href");
                        if (!n.hasClass("is-disabled")) {
                            var o = e.index(this) + 1;
                            o !== t.tabIndex && (t.activateTab(o, r), t.recalculateSlickWraps(), t.tabIndex = o)
                        }
                    })
                }
            }, {
                key: "activateTab",
                value: function(t, e) {
                    var i = v()(this.$tabNavi.find("li"));
                    i.removeClass("is-active"), v()(i.get(t - 1)).addClass("is-active");
                    var n = v()(".tab-content", this.$wrap);
                    n.removeClass("is-active");
                    (Object(_.l)(e) ? v()(e) : v()(n.get(t - 1))).addClass("is-active");
                    
                }
            }, {
                key: "recalculateSlickWraps",
                value: function() {
                    var t = this;
                    Object(_.s)(t.$slickWrap) && (t.$slickWrap.slick("setPosition"), t.$slickWrap.slick("resize"))
                }
            }, {
                key: "resize",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "destroy", this).call(this, t);
                    return this
                }
            }]), e
        }(y.a);
    e.a = b
}, function(t, e, i) {
    "use strict";
    var n = i(24),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(30),
        u = i.n(l),
        h = i(31),
        p = i.n(h),
        d = i(32),
        f = i.n(d),
        m = i(9),
        v = i.n(m),
        g = i(37),
        y = function(t) {
            function e(t) {
                s()(this, e);
                var i = u()(this, (e.__proto__ || r()(e)).call(this, t)),
                    n = i;
                return n._$contents = v()(".section-contents", n.$wrap), n._$title = v()("h2", n._$contents), n._$benefitWrap = v()(".grow-and-benefit", n._$contents), n._$grow = v()(".grow-wrap", n._$benefitWrap), n._$benefit = v()(".benefit-wrap", n._$benefitWrap), i
            }
            return f()(e, t), c()(e, [{
                key: "init",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "init", this).call(this, t);
                    return this._reset(), this
                }
            }, {
                key: "_startAnimation",
                value: function() {
                    console.log('startAnimation');
                    var t = this;
                    return g.a.killTweensOf(t._$contents), g.a.killTweensOf(t._$title), g.a.killTweensOf(t._$benefitWrap), g.a.fromTo(t._$contents, 1.2, {
                        autoAlpha: 0
                    }, {
                        autoAlpha: 1,
                        ease: Expo.easeInOut
                    }), g.a.fromTo(t._$title, 1.5, {
                        autoAlpha: 0
                    }, {
                        autoAlpha: 1,
                        ease: Cubic.easeInOut
                    }), g.a.fromTo(t._$benefitWrap, 1.2, {
                        autoAlpha: 0
                    }, {
                        delay: .65,
                        autoAlpha: 1,
                        ease: Cubic.easeOut
                    }), t
                }
            }, {
                key: "_reset",
                value: function() {
                    var t = this;
                    return g.a.killTweensOf(t._$contents), g.a.killTweensOf(t._$title), g.a.killTweensOf(t._$benefitWrap), g.a.set(t._$contents, {
                        autoAlpha: 0
                    }), g.a.set(t._$title, {
                        autoAlpha: 0
                    }), g.a.set(t._$benefitWrap, {
                        autoAlpha: 0
                    }), t
                }
            }, {
                key: "enter",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._startAnimation(), this
                }
            }, {
                key: "exit",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._reset(), this
                }
            }, {
                key: "resize",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "destroy", this).call(this, t);
                    return this
                }
            }]), e
        }(i(41).a);
    e.a = y
}, function(t, e, i) {
    "use strict";
    var n = i(24),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(30),
        u = i.n(l),
        h = i(31),
        p = i.n(h),
        d = i(32),
        f = i.n(d),
        m = i(9),
        v = i.n(m),
        g = i(37),
        y = function(t) {
            function e(t) {
                s()(this, e);
                var i = u()(this, (e.__proto__ || r()(e)).call(this, t)),
                    n = i;
                return n._$contents = v()(".section-contents", n.$wrap), n._$title = v()("h2", n._$contents), n._$eventWrap = v()(".event-img-wrap", n._$contents), i
            }
            return f()(e, t), c()(e, [{
                key: "init",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "init", this).call(this, t);
                    return this._reset(), this
                }
            }, {
                key: "_startAnimation",
                value: function() {
                    var t = this;
                    return g.a.killTweensOf(t._$contents), g.a.killTweensOf(t._$title), g.a.killTweensOf(t._$eventWrap), g.a.fromTo(t._$contents, 1.2, {
                        autoAlpha: 0
                    }, {
                        scale: 1,
                        autoAlpha: 1,
                        ease: Expo.easeInOut
                    }), g.a.fromTo(t._$title, 1.5, {
                        autoAlpha: 0
                    }, {
                        scale: 1,
                        autoAlpha: 1,
                        ease: Cubic.easeInOut
                    }), g.a.fromTo(t._$eventWrap, 1.2, {
                        autoAlpha: 0
                    }, {
                        delay: .65,
                        scale: 1,
                        autoAlpha: 1,
                        ease: Cubic.easeOut
                    }), t
                }
            }, {
                key: "_reset",
                value: function() {
                    var t = this;
                    return g.a.killTweensOf(t._$contents), g.a.killTweensOf(t._$title), g.a.killTweensOf(t._$eventWrap), g.a.set(t._$contents, {
                        autoAlpha: 0
                    }), g.a.set(t._$title, {
                        autoAlpha: 0
                    }), g.a.set(t._$eventWrap, {
                        autoAlpha: 0
                    }), t
                }
            }, {
                key: "enter",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._startAnimation(), this
                }
            }, {
                key: "exit",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._reset(), this
                }
            }, {
                key: "resize",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "destroy", this).call(this, t);
                    return this
                }
            }]), e
        }(i(41).a);
    e.a = y
}, function(t, e, i) {
    "use strict";
    var n = i(24),
        r = i.n(n),
        o = i(6),
        s = i.n(o),
        a = i(7),
        c = i.n(a),
        l = i(30),
        u = i.n(l),
        h = i(31),
        p = i.n(h),
        d = i(32),
        f = i.n(d),
        m = i(9),
        v = i.n(m),
        g = i(37),
        y = i(41),
        _ = i(57),
        b = i(335),
        x = i(336),
        w = i(13),
        S = function(t) {
            function e(t) {
                s()(this, e);
                var i = u()(this, (e.__proto__ || r()(e)).call(this, t)),
                    n = i;
                return n._$myUrlInput = null, n._$contents = v()(".section-contents", n.$wrap), n._$title = v()("h2", n._$contents), n._$rewardWrap = v()(".event-reward-wrap", n._$contents), n._$joinWrap = v()(".joinway-for-pc", n._$contents), n._$shareWrap = v()(".share-section-wrap", n._$contents), n._$kakaoStoryShareBtn = v()(".share-list .share-kakaostory"), i
            }
            return f()(e, t), c()(e, [{
                key: "init",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "init", this).call(this, t);
                    var i = this;
                    return i._$myUrlInput = v()(".my-url-wrap .my-url", i.$wrap), i._setShareBtns(), i._reset(), i
                }
            }, {
                key: "_setShareBtns",
                value: function() {
                    var t = this,
                        e = v()("#share", t.$wrap);
                    Object(w.r)(window._shareData) && (t._$myUrlInput.attr("placeholder", window._shareData.url), v()(".share-list", e).prepend(t.getCopyBtnTmpl()), v()(t.$wrap).on("click", ".share-kakaotalk", function(e) {
                        t._callShareSnsApi("kakaotalk")
                    }), v()(t.$wrap).on("click", ".share-kakaostory", function(e) {
                        t._callShareSnsApi("kakaostory")
                    }), v()(t.$wrap).on("click", ".share-facebook", function(e) {
                        t._callShareSnsApi("facebook")
                    }), v()(t.$wrap).on("click", ".share-twitter", function(e) {
                        t._callShareSnsApi("twitter")
                    }), t._setCopyUrlBtn(), t._setKakaoStoryShareBtn())
                }
            }, {
                key: "_setKakaoStoryShareBtn",
                value: function() {
                    this._$kakaoStoryShareBtn.off("click").on("click", function(t) {
                        t.preventDefault();
                        window.open("https://story.kakao.com/share?url=" + window.encodeURIComponent(window._shareData.url), "kakaoStoryShare", "width=530, height=480, resizable=no, scrollbars=no, status=no")
                    })
                }
            }, {
                key: "_setCopyUrlBtn",
                value: function() {
                    var t = this;
                    v()(".share-copy", t.$wrap).on("click", function(e) {
                        e.preventDefault();
                        var i = t._$myUrlInput.attr("placeholder");
                        i.length <= 0 || Object(w.a)(i, function(t) {
                            window.alert(b.a.COMPLETE_COPY_MY_SHARE_URL)
                        }, function(t) {
                            window.prompt(b.a.COPY_MY_SHARE_URL, i)
                        })
                    })
                }
            }, {
                key: "_callShareSnsApi",
                value: function(t) {
                    Object(x.a)({
                        type: "POST",
                        url: "/event/snsShareLog",
                        data: {
                            eventCode: _.b,
                            snsName: t
                        }
                    }, function(t, e, i) {}, function(t, e, i) {})
                }
            }, {
                key: "_startAnimation",
                value: function() {
                    var t = this;
                    return g.a.killTweensOf(t._$contents), g.a.killTweensOf(t._$title), g.a.killTweensOf(t._$rewardWrap), g.a.killTweensOf(t._$joinWrap), g.a.killTweensOf(t._$shareWrap), g.a.fromTo(t._$contents, 1.2, {
                        autoAlpha: 0
                    }, {
                        scale: 1,
                        autoAlpha: 1,
                        ease: Expo.easeInOut
                    }), g.a.fromTo(t._$title, 1.5, {
                        autoAlpha: 0
                    }, {
                        scale: 1,
                        autoAlpha: 1,
                        ease: Cubic.easeInOut
                    }), g.a.fromTo(t._$rewardWrap, .7, {
                        autoAlpha: 0
                    }, {
                        delay: .55,
                        autoAlpha: 1,
                        ease: Cubic.easeInOut
                    }), g.a.fromTo(t._$joinWrap, .7, {
                        autoAlpha: 0
                    }, {
                        delay: .65,
                        autoAlpha: 1,
                        ease: Cubic.easeInOut
                    }), g.a.fromTo(t._$shareWrap, .7, {
                        autoAlpha: 0
                    }, {
                        delay: .85,
                        autoAlpha: 1,
                        ease: Cubic.easeInOut
                    }), t
                }
            }, {
                key: "_reset",
                value: function() {
                    var t = this;
                    return g.a.killTweensOf(t._$contents), g.a.killTweensOf(t._$title), g.a.killTweensOf(t._$rewardWrap), g.a.killTweensOf(t._$joinWrap), g.a.killTweensOf(t._$shareWrap), g.a.set(t._$contents, {
                        autoAlpha: 0
                    }), g.a.set(t._$title, {
                        autoAlpha: 0
                    }), g.a.set(t._$rewardWrap, {
                        autoAlpha: 0
                    }), g.a.set(t._$joinWrap, {
                        autoAlpha: 0
                    }), g.a.set(t._$shareWrap, {
                        autoAlpha: 0
                    }), t
                }
            }, {
                key: "enter",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._startAnimation(), this
                }
            }, {
                key: "exit",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this._reset(), this
                }
            }, {
                key: "resize",
                value: function() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return this
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    p()(e.prototype.__proto__ || r()(e.prototype), "destroy", this).call(this, t);
                    return this
                }
            }, {
                key: "getCopyBtnTmpl",
                value: function() {
                    return '<button class="share-copy"></button>'
                }
            }]), e
        }(y.a);
    e.a = S
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return n
    });
    var n = {
        COMPLETE_COPY_MY_SHARE_URL: " URL .  .",
        COPY_MY_SHARE_URL: " URL   ."
    }
}, function(t, e, i) {
    "use strict";
    i.d(e, "a", function() {
        return o
    });
    var n = i(9),
        r = i.n(n),
        o = function(t, e, i) {
            r.a.ajax(t).done(e).fail(i)
        }
}, function(t, e, i) {
    "use strict";
    var n = i(6),
        r = i.n(n),
        o = i(7),
        s = i.n(o),
        a = function() {
            function t(e) {
                r()(this, t), this.$layer = e.layer, this.$linked = e.linked, this.options = $.extend({}, this.defaults(), e.options), this.onBeforeShowCallback = e.onBeforeShow, this.onShowCallback = e.onShow, this.onBeforeHideCallback = e.onBeforeHide, this.onHideCallback = e.onHide, this.cachedBeforePosY = 0, this.init()
            }
            return s()(t, [{
                key: "defaults",
                value: function() {
                    return this.layerClass = "layer-module", this.layerOpenClass = "layer-open", this.dimmedClass = "dimmed", this.keepdimmedClass = "keep-dimmed", this.dimmedElement = '<div class="' + this.dimmedClass + '"></div>', {
                        enforceInitFocus: !1,
                        bActivated: !0,
                        keepDimmed: !1,
                        closeButton: '[data-layer-close="close"]'
                    }
                }
            }]), s()(t, [{
                key: "activate",
                value: function() {
                    this.show()
                }
            }, {
                key: "deactivate",
                value: function() {
                    this.hide(), this.reset()
                }
            }, {
                key: "init",
                value: function() {
                    this.assignedElements(), this.appendDimmed(), this.unbindAllEvents(), this.bindEvents(), this.options.bActivated && this.activate()
                }
            }, {
                key: "assignedElements",
                value: function() {
                    this.$wrap = this.$layer.children(".layer-wrap"), this.$closeButton = this.$layer.find(this.options.closeButton)
                }
            }, {
                key: "appendModuleClass",
                value: function() {
                    var t = this.layerClass;
                    this.$layer.hasClass(t) || this.$layer.addClass(t)
                }
            }, {
                key: "appendDimmed",
                value: function() {
                    this.$layer.children().hasClass("dimmed") || this.$layer.prepend(this.dimmedElement), this.$dimmed = this.$layer.find("." + this.dimmedClass)
                }
            }, {
                key: "unbindAllEvents",
                value: function() {
                    var t = this;
                    $(window).off("resize", function(e) {
                        return t.onResize(e)
                    }), this.$closeButton.off("click", function(e) {
                        return t.onClickCloseButton(e)
                    }), this.$dimmed.off("click touchstart", function(e) {
                        return t.onClickDimmed(e)
                    })
                }
            }, {
                key: "bindEvents",
                value: function() {
                    var t = this;
                    $(window).off("resize"), $(window).on("resize", function(e) {
                        return t.onResize(e)
                    }), this.$wrap.resize(function(e) {
                        return t.onResize(e)
                    }), this.$closeButton.off("click"), this.$closeButton.on("click", function(e) {
                        return t.onClickCloseButton(e)
                    }), this.options.keepDimmed ? this.$dimmed.addClass(this.keepdimmedClass) : (this.$dimmed.off("click touchstart"), this.$dimmed.on("click touchstart", function(e) {
                        return t.onClickCloseButton(e)
                    }))
                }
            }, {
                key: "onResize",
                value: function() {
                    this.reposition()
                }
            }, {
                key: "onClickCloseButton",
                value: function(t) {
                    t.preventDefault(), $("body").removeClass(this.layerOpenClass), this.hide(), this.reset()
                }
            }, {
                key: "isTouchDevice",
                value: function() {
                    return "ontouchstart" in window || navigator.maxTouchPoints
                }
            }, {
                key: "reset",
                value: function() {
                    this.$wrap.removeAttr("style"), $("body").removeAttr("style"), this.$layer.removeClass(this.layerClass), this.$dimmed.removeClass(this.keepdimmedClass)
                }
            }, {
                key: "getLayer",
                value: function() {
                    return this.$layer
                }
            }, {
                key: "getLinked",
                value: function() {
                    return this.$linked ? this.$linked : null
                }
            }, {
                key: "isVisible",
                value: function() {
                    return "block" === this.$layer.css("display")
                }
            }, {
                key: "show",
                value: function() {
                    this.isTouchDevice() && (this.cachedBeforePosY = window.scrollY, document.getElementsByTagName("body")[0].style.top = -this.cachedBeforePosY + "px"), "function" == typeof this.onBeforeShowCallback && this.onBeforeShowCallback.apply(this, [this.getData("layer.beforeShow")]), this.$layer.trigger(this.getData("layer.beforeShow")), this.appendModuleClass(), this.$layer.show(), this.showDimmed(), this.reposition(), this.options.enforceInitFocus && this.enforceFocusLayer(), "function" == typeof this.onShowCallback && this.onShowCallback.apply(this, [this.getData("layer.show")]), this.$layer.trigger(this.getData("layer.show"))
                }
            }, {
                key: "hide",
                value: function() {
                    "function" == typeof this.onBeforeHideCallback && this.onBeforeHideCallback.apply(this, [this.getData("layer.beforeHide")]), this.$layer.trigger(this.getData("layer.beforeHide")), this.$layer.hide(), this.hideDimmed(), this.reset(), this.isTouchDevice() && $(window).scrollTop(this.cachedBeforePosY), this.enforceFocusLinked(), "function" == typeof this.onHideCallback && this.onHideCallback.apply(this, [this.getData("layer.hide")]), this.$layer.trigger(this.getData("layer.hide"))
                }
            }, {
                key: "reposition",
                value: function() {
                    var t, e = this.$wrap,
                        i = 0;
                    t = parseInt(.5 * (document.documentElement.clientWidth - e.outerWidth())), i = (i = parseInt(.5 * (document.documentElement.clientHeight - e.outerHeight()))) <= 0 ? 0 : i, e.css({
                        top: i,
                        left: t
                    })
                }
            }, {
                key: "showDimmed",
                value: function() {
                    this.$dimmed.show(), $("body").addClass(this.layerOpenClass)
                }
            }, {
                key: "hideDimmed",
                value: function() {
                    this.$dimmed.hide(), $("body").removeClass(this.layerOpenClass)
                }
            }, {
                key: "enforceFocusLayer",
                value: function() {
                    var t = this.$wrap,
                        e = setTimeout(function() {
                            t.attr("tabindex", -1).focus(), clearTimeout(e)
                        }, 50)
                }
            }, {
                key: "enforceFocusLinked",
                value: function() {
                    var t = this;
                    if (this.$linked) var e = setTimeout(function() {
                        t.$linked.focus(), clearTimeout(e)
                    }, 50)
                }
            }, {
                key: "getData",
                value: function(t) {
                    return {
                        type: t,
                        manager: this,
                        layer: this.$layer,
                        linked: this.getLinked()
                    }
                }
            }, {
                key: "forceHide",
                value: function() {
                    this.$closeButton.trigger("click")
                }
            }]), t
        }();
    e.a = a
}]);
//# sourceMappingURL=ui.update.js.map